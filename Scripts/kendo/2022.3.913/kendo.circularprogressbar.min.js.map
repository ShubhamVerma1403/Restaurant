{"version":3,"file":"kendo.circularprogressbar.min.js","sources":["kendo.circularprogressbar.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.circularprogressbar',[ \"kendo.dataviz\", \"kendo.dataviz.themes\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"circularprogressBar\",\n    name: \"CircularProgressBar\",\n    category: \"web\",\n    description: \"The Circular ProgressBar component represents an SVG loader\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n\n    window.kendo.dataviz = window.kendo.dataviz || {};\n    var dataviz = kendo.dataviz;\n    var interpolateValue = dataviz.interpolateValue;\n    var drawing = kendo.drawing;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var Surface = drawing.Surface;\n    var geometry = kendo.geometry;\n    var Animation = drawing.Animation;\n    var Arc = drawing.Arc;\n    var limitValue = dataviz.limitValue;\n    var round = dataviz.round;\n    var DrawingGroup = drawing.Group;\n    var DEFAULT_HEIGHT = 200;\n    var GEO_ARC_ADJUST_ANGLE = 180;\n    var MINVALUE = 0;\n    var MAXVALUE = 100;\n    var DEFAULT_MARGIN = 5;\n    var ANGULAR_SPEED = 150;\n    var DEFAULT_WIDTH = 200;\n    var MAX_DURATION = 800;\n    var announceElement = '<span aria-live=\"polite\" class=\"k-sr-only k-progress-announce\"></span>';\n\n    var PointerAnimation = Animation.extend({\n        init: function(element, options) {\n            Animation.fn.init.call(this, element, options);\n\n            var animationOptions = this.options;\n            var color = options.endColor;\n            var startColor = options.startColor;\n            var duration = (Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000;\n            animationOptions.duration = limitValue(duration, ANGULAR_SPEED, MAX_DURATION);\n\n            this.element = element;\n\n            if (startColor !== color) {\n                this.startColor = new kendo.Color(startColor);\n                this.color = new kendo.Color(color);\n            }\n        },\n\n        step: function(pos) {\n            var that = this;\n            var options = that.options;\n            var startColor = that.startColor;\n            var color = that.color;\n            var angle = interpolateValue(options.oldAngle, options.newAngle, pos);\n\n            this.element.geometry().setEndAngle(angle);\n\n            if (color) {\n                var r = round(interpolateValue(startColor.r, color.r, pos));\n                var g = round(interpolateValue(startColor.g, color.g, pos));\n                var b = round(interpolateValue(startColor.b, color.b, pos));\n\n                this.element.stroke(new kendo.Color(r, g, b).toHex());\n            }\n        },\n    });\n\n    var CircularProgressBar = Widget.extend({\n        init: function(element, userOptions) {\n\n            var that = this;\n            Widget.fn.init.call(that, element, userOptions);\n            this.theme = themeOptions(this.options);\n            this._value = this.options.value;\n            this.element.addClass(\"k-gauge\");\n\n            this.redraw();\n            this._centerTemplate();\n            this._aria();\n        },\n\n        options: {\n            name: \"CircularProgressBar\",\n            ariaRole: false,\n            theme: \"default\",\n            centerTemplate: '',\n            color: \"\",\n            colors: [],\n            transitions: true,\n            pointerWidth: 5,\n            indeterminate: false,\n            label: null,\n            labelId: null\n        },\n\n        events: [ ],\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._restrictValue(value);\n\n            that._centerSvgElements();\n            that._pointerChange(that._value, value);\n            that._value = value;\n            that._centerTemplate();\n            that._updateProgress();\n        },\n\n        redraw: function() {\n            this._initSurface();\n            this._buildVisual();\n            this._draw();\n        },\n\n        resize: function() {\n            var transitions = this.options.transitions;\n\n            this.options.transitions = false;\n            this._initSurface();\n            this._buildVisual();\n            this._draw();\n            this._centerTemplate();\n            this.options.transitions = transitions;\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.announce) {\n                that.announce.remove();\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        _aria: function() {\n            var that = this,\n                options = that.options,\n                value = that.value() || 0,\n                wrapper = that.element;\n\n            if (!options.ariaRole) {\n                return;\n            }\n\n            wrapper.attr({\n                \"role\": \"progressbar\"\n            });\n\n            if (!options.indeterminate) {\n                wrapper.attr({\n                    \"aria-valuemin\": 0,\n                    \"aria-valuemax\": 100\n                });\n            }\n\n            if (!!options.labelId) {\n                wrapper.attr(\"aria-labelledby\", options.labelId);\n            } else if (!!options.label) {\n                wrapper.attr(\"aria-label\", options.label);\n            }\n\n            that.announce = $(announceElement);\n            that.announce.appendTo($(\"body\"));\n\n            if (!options.indeterminate) {\n                wrapper.attr(\"aria-valuenow\", value);\n\n                that.announce.text(value + \"%\");\n            } else {\n                that.announce.text(\"Loading...\");\n            }\n        },\n\n        _restrictValue: function(value) {\n\n            if (value < MINVALUE) {\n                return MINVALUE;\n            }\n\n            if (value > MAXVALUE) {\n                return MAXVALUE;\n            }\n\n            return value;\n        },\n\n        _updateProgress: function() {\n            var that = this;\n            var options = that.options;\n            var value = that.value() || 0;\n\n            if (options.ariaRole && !options.indeterminate) {\n                that.element.attr(\"aria-valuenow\", value);\n\n                if (that.announce) {\n                    that.announce.text(value + \"%\");\n                }\n            }\n        },\n\n        _centerSvgElements: function() {\n            var center = this._getCenter();\n\n            if (this.circle._geometry.center.x !== center.x ||\n                this.circle._geometry.center.y !== center.y) {\n\n                    this.circle._geometry.center.x = center.x;\n                    this.circle._geometry.center.y = center.y;\n                    this.arc._geometry.center.x = center.x;\n                    this.arc._geometry.center.y = center.y;\n                    this.circle.geometryChange();\n                    this.arc.geometryChange();\n            }\n        },\n\n        _centerTemplate: function() {\n            var position;\n            var template;\n            var centerElement;\n\n            if (this.options.centerTemplate) {\n                template = kendo.template(this.options.centerTemplate);\n\n                centerElement = this._getCenterElement();\n\n                centerElement.html(template({ color: this._getColor(this.value()), value: this.value() }));\n\n                position = this._centerTemplatePosition(centerElement.width(), centerElement.height());\n\n                centerElement.css(position);\n            } else if (this._centerElement) {\n                this._centerElement.remove();\n                this._centerElement = null;\n            }\n        },\n\n        _getCenterElement: function() {\n            var centerElement = this._centerElement;\n            if (!centerElement) {\n                centerElement = this._centerElement = $('<div></div>').addClass('k-arcgauge-label');\n                this.element.append(centerElement);\n            }\n\n            return centerElement;\n        },\n\n        _pointerChange: function(oldValue, newValue) {\n            var animation;\n\n            if (this.options.transitions) {\n                animation = new PointerAnimation(this.arc, {\n                    oldAngle: this._slotAngle(oldValue),\n                    startColor: this._getColor(oldValue),\n                    newAngle: this._slotAngle(newValue),\n                    endColor: this._getColor(newValue)\n                });\n                animation.play();\n            } else {\n                this.arc.stroke(this._getColor(newValue));\n                this.arc.geometry().setEndAngle(this._slotAngle(newValue));\n            }\n        },\n\n        _draw: function() {\n            var arc;\n            var center;\n            var animation;\n            var surface = this.surface;\n\n            surface.clear();\n            surface.draw(this._visuals);\n\n            if (this.options.indeterminate) {\n                arc = surface.element.find(\"path\");\n                center = this._getCenter();\n                arc[0].innerHTML = kendo.format('<animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 {0} {1}\" to=\"360 {0} {1}\" dur=\"1s\" repeatCount=\"indefinite\" />', center.x, center.y);\n            } else if (this.options.transitions) {\n                animation = new PointerAnimation(this.arc, {\n                    oldAngle: this._slotAngle(0),\n                    startColor: this._getColor(0),\n                    newAngle: this._slotAngle(this.value()),\n                    endColor: this._getColor(this.value()),\n                });\n                animation.play();\n            }\n        },\n\n\n        _buildVisual: function() {\n            var visuals = this._visuals = new DrawingGroup();\n            var center = this._getCenter();\n            var color = this._getColor(this.value()) || this.theme.pointer.color;\n            var radius = Math.min(center.x, center.y) - DEFAULT_MARGIN - this.options.pointerWidth;\n\n            var circleGeometry = new geometry.Circle([center.x, center.y], radius + (this.options.pointerWidth / 2));\n            var circle = this.circle = new drawing.Circle(circleGeometry, {\n                fill: { color: \"none\" },\n                stroke: { color: this.theme.scale.rangePlaceholderColor, width: this.options.pointerWidth }\n            });\n\n            visuals.append(circle);\n\n            if (this.options.indeterminate) {\n                this.arc = this._createArc(360, radius, center, color);\n            } else {\n                this.arc = this._createArc(this._slotAngle(this.value()), radius, center, color);\n            }\n\n            visuals.append(this.arc);\n        },\n\n        _slotAngle: function(value) {\n            var result;\n\n            result = ((value - MINVALUE) / (MAXVALUE) * 360) + 90;\n\n            return result + GEO_ARC_ADJUST_ANGLE;\n        },\n\n        _getColor: function(value) {\n            var options = this.options;\n            var colors = options.colors;\n            var color = options.color;\n            var currentValue = dataviz.isNumber(value) ? value : 0;\n\n            if (colors) {\n                for (var idx = 0; idx < colors.length; idx++) {\n                    var range = colors[idx];\n                    var rangeColor = range.color;\n                    var from = range.from; if (from === void 0) { from = 0; }\n                    var to = range.to; if (to === void 0) { to = 100; }\n\n                    if (from <= currentValue && currentValue <= to) {\n                        return rangeColor;\n                    }\n                }\n            }\n\n            return color;\n        },\n\n        _createArc: function(endAngle, rangeRadius, center, color) {\n            var rangeSize = this.options.pointerWidth;\n            var rangeGeom = new geometry.Arc([center.x, center.y], {\n                radiusX: rangeRadius + (rangeSize / 2),\n                radiusY: rangeRadius + (rangeSize / 2),\n                startAngle: 270,\n                endAngle: endAngle\n            });\n\n            return new Arc(rangeGeom, {\n                stroke: {\n                    width: rangeSize,\n                    color: this.options.color || color,\n                    opacity: this.options.opacity\n                }\n            });\n        },\n\n        _centerTemplatePosition: function(width, height) {\n            var size = this._getSize();\n            var center = this._getCenter();\n\n            var left = center.x - width / 2;\n            var top = center.y - height / 2;\n            var right;\n            var bottom;\n\n            if (width < size.width) {\n                right = left + width;\n\n                left = Math.max(left, 0);\n\n                if (right > size.width) {\n                    left -= right - size.width;\n                }\n            }\n\n            if (height < size.height) {\n                bottom = top + height;\n\n                if (bottom > size.height) {\n                    top -= bottom - size.height;\n                }\n            }\n\n            return {\n                left: left,\n                top: top\n            };\n        },\n\n        _getCenter: function() {\n            var size = this._getSize();\n            return new dataviz.Point(size.width / 2, size.height / 2);\n        },\n\n        _getSize: function() {\n            var element = this.element;\n            var defaultSize = {\n                width: DEFAULT_WIDTH,\n                height: DEFAULT_HEIGHT\n            };\n            var width = element[0].offsetWidth;\n            var height = element[0].offsetHeight;\n\n            if (!width) {\n                width = defaultSize.width;\n            }\n\n            if (!height) {\n                height = defaultSize.height;\n            }\n\n            return { width: width, height: height };\n        },\n\n        _surfaceElement: function() {\n            if (!this.surfaceElement) {\n                this.surfaceElement = document.createElement('div');\n                this.element[0].appendChild(this.surfaceElement);\n            }\n\n            return this.surfaceElement;\n        },\n\n        _initSurface: function() {\n            var that = this;\n            var options = that.options;\n            var surface = that.surface;\n            var element = this._surfaceElement();\n            var size = this._getSize();\n\n            dataviz.elementSize(element, size);\n\n            if (!surface) {\n                this.surface = Surface.create(element, {\n                    type: options.renderAs\n                });\n            } else {\n                this.surface.clear();\n                this.surface.resize();\n            }\n        }\n\n    });\n\n    function themeOptions(options) {\n        var themes = dataviz.ui.themes || {};\n        var themeName = options.theme || \"\";\n        var lowerName = themeName.toLowerCase();\n\n        if (dataviz.SASS_THEMES.indexOf(lowerName) != -1) {\n            return dataviz.autoTheme().gauge;\n        }\n\n        return (themes[themeName] || themes[lowerName] || {}).gauge;\n    }\n\n    ui.plugin(CircularProgressBar);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","dataviz","interpolateValue","drawing","ui","Widget","Surface","geometry","Animation","Arc","limitValue","round","DrawingGroup","Group","DEFAULT_HEIGHT","GEO_ARC_ADJUST_ANGLE","MINVALUE","MAXVALUE","DEFAULT_MARGIN","ANGULAR_SPEED","DEFAULT_WIDTH","MAX_DURATION","announceElement","PointerAnimation","extend","init","element","options","fn","call","this","animationOptions","color","endColor","startColor","duration","Math","abs","newAngle","oldAngle","Color","step","pos","that","angle","setEndAngle","r","g","b","stroke","toHex","CircularProgressBar","userOptions","theme","themeOptions","_value","value","addClass","redraw","_centerTemplate","_aria","ariaRole","centerTemplate","colors","transitions","pointerWidth","indeterminate","label","labelId","events","_restrictValue","_centerSvgElements","_pointerChange","_updateProgress","_initSurface","_buildVisual","_draw","resize","destroy","announce","remove","wrapper","attr","role","aria-valuemin","aria-valuemax","appendTo","text","center","_getCenter","circle","_geometry","x","y","arc","geometryChange","position","template","centerElement","_getCenterElement","html","_getColor","_centerTemplatePosition","width","height","css","_centerElement","append","oldValue","newValue","animation","_slotAngle","play","surface","clear","draw","_visuals","find","innerHTML","format","visuals","pointer","radius","min","circleGeometry","Circle","fill","scale","rangePlaceholderColor","_createArc","result","currentValue","isNumber","idx","length","range","rangeColor","from","to","endAngle","rangeRadius","rangeSize","rangeGeom","radiusX","radiusY","startAngle","opacity","size","_getSize","left","top","right","bottom","max","Point","defaultSize","offsetWidth","offsetHeight","_surfaceElement","surfaceElement","document","createElement","appendChild","elementSize","create","type","renderAs","themes","themeName","lowerName","toLowerCase","SASS_THEMES","indexOf","autoTheme","gauge","plugin","amd","a1","a2","a3"],"mappings":"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"}