/**
 * Kendo UI v2022.3.913 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("util/undoredostack.min",["kendo.core.min"],function(){var t=kendo,e=t.Observable.extend({init:function(e){t.Observable.fn.init.call(this,e);this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo();this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo();this.trigger("redo",{command:e})}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});t.deepExtend(t,{util:{UndoRedoStack:e}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/main.min",["../util/undoredostack.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.window.min","kendo.colorpicker.min"],function(){var f=window.kendo.jQuery,p=void 0,m=window.kendo,t=m.Class,h=m.ui.Widget,k=m.support.mobileOS,c=m.support.browser,g=f.extend,w=m.deepExtend,v=m.keys,i="select",r="select.k-select-overlay",o="k-placeholder",a="placeholder",s=200,y="en",n=t.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return m.template(e.template,{useWithBlock:false})(e)}}),b={editorWrapperTemplate:'<table cellspacing="0" cellpadding="0" class="k-widget k-editor" role="presentation">'+"<tbody>"+'<tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-toolbar k-editor-toolbar" role="toolbar"></ul></td></tr>'+'<tr><td class="k-editable-area k-editor-content"></td></tr>'+"</tbody>"+"</table>",buttonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-tool" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="#= iconCssClass #"></span>'+'<span class="k-tool-text k-button-text">#= data.title #</span>'+"</button>",iconTextButtonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-i-import k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="k-button-icon #= iconCssClass #"></span>'+'<span class="k-button-text">#= data.title #</span>'+"</button>",tableWizardButtonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-tool k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="#= iconCssClass #"></span>'+'<span class="k-tool-text">#= data.title #</span>'+"</button>",colorPickerTemplate:'<input class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />',comboBoxTemplate:'<select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #"></select>',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #"></select></span>',separatorTemplate:'<span class="k-separator"></span>',overflowAnchorTemplate:'<button type="button" tabindex="0" role="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-tool k-overflow-anchor" data-popup'+' title="#= data.title #" aria-label="#= data.title #" aria-haspopup="true" aria-expanded="false">'+'<span class="k-icon k-i-more-vertical k-button-icon"></span>'+"</button>",formatByName:function(e,t){for(var i=0;i<t.length;i++)if(f.inArray(e,t[i].tags)>=0)return t[i]},getToolCssClass:function(e){var t={superscript:"sup-script",subscript:"sub-script",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",insertUpperRomanList:"list-roman-upper",insertLowerRomanList:"list-roman-lower",import:"import",indent:"indent-increase",outdent:"indent-decrease",createLink:"link-horizontal",unlink:"unlink-horizontal",insertImage:"image",insertFile:"file-add",viewHtml:"html",foreColor:"foreground-color",backColor:"paint",createTable:"table-insert",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCellsHorizontally:"cells-merge-horizontally",mergeCellsVertically:"cells-merge-vertically",splitCellHorizontally:"cell-split-horizontally",splitCellVertically:"cell-split-vertically",tableWizard:"table-properties",tableWizardInsert:"table-wizard",tableAlignLeft:"table-position-left",tableAlignCenter:"table-position-center",tableAlignRight:"table-position-right",cleanFormatting:"clear-css",copyFormat:"copy-format",applyFormat:"apply-format"};var i=t[e];if(i)return i;return e},registerTool:function(e,t){var i=t.options;if(i&&i.template)i.template.options.cssClass="k-"+b.getToolCssClass(e);if(!t.name){t.options.name=e;t.name=e.toLowerCase()}l.defaultTools[e]=t},registerFormat:function(e,t){l.fn.options.formats[e]=t},cacheComments:function(e,t){for(var i in t)e=e.replace(t[i],"{"+i+"}");return e},retrieveComments:function(e,t){for(var i in t)e=e.replace("{"+i+"}",t[i]);return e}},d,C=typeof document.documentElement.contentEditable!="undefined",e={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],formatPainter:["copyFormat","applyFormat"],links:["createLink","unlink"],tables:["tableWizard","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","tableAlignLeft","tableAlignCenter","tableAlignRight"]},l=h.extend({init:function(e,t){var n=this,i,r=m.ui.editor,o,a,s,l;var d;var u=r.Dom;if(!C)return;h.fn.init.call(n,e,t);n.options=w({},n.options,t);n.options.tools=n.options.tools.slice();e=n.element;d=e[0];s=u.name(d);this._registerHandler(e.closest("form"),"submit",n.update.bind(n,p));a=g({},n.options);a.editor=n;if(s=="textarea"){n._wrapTextarea();o=n.wrapper.find(".k-editor-toolbar");if(d.id)o.attr("aria-controls",d.id)}else{n.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");a.popup=true;o=f('<ul class="k-toolbar k-editor-toolbar" role="toolbar" />').insertBefore(e)}n.toolbar=new r.Toolbar(o[0],a);n.toolbar.bindTo(n);if(s=="textarea")setTimeout(function(){var e=n.wrapper[0].style.height;var t=parseInt(e,10);var i=n.wrapper.height();if(e.indexOf("px")>0&&!isNaN(t)&&i>t)n.wrapper.height(t-(i-t))});n._resizable();n._initializeContentElement(n);n.keyboard=new r.Keyboard([new r.BackspaceHandler(n),new r.TypingHandler(n),new r.SystemHandler(n),new r.SelectAllHandler(n)]);n.clipboard=new r.Clipboard(this);n.undoRedoStack=new m.util.UndoRedoStack;if(t&&t.value)i=t.value;else if(n.textarea){i=d.value;if(!i.replace(/\s/g,"").length)i=i.replace(/\s/g,"");if(n.options.encoded&&d.defaultValue&&d.defaultValue.trim().length)i=d.defaultValue;var c=r.Serializer.htmlToDom(i,f("<div></div>")[0],n.options.deserialization);l=u.getAllComments(c);i=b.cacheComments(i,l);i=i.replace(/[\r\n\v\f\t ]+/gi," ");i=b.retrieveComments(i,l)}else i=d.innerHTML;n.value(i||"\ufeff");this._registerHandler(document,{mousedown:function(){n._endTyping()},mouseup:function(e){n._mouseup(e)}});n._initializeImmutables();if(s=="textarea")n._ariaLabel(n.wrapper.find("iframe"));n.toolbar.resize();m.notify(n)},setOptions:function(e){var t=this;h.fn.setOptions.call(t,e);if(e.tools)t.toolbar.bindTo(t);this._initializePlaceholder()},_togglePlaceholder:function(e){var t=this,i=t.body,n=f(i),r=t.options.placeholder;if(!t.textarea||!r)return;n.attr("aria-label",function(){return e?r:""});n.toggleClass(o,e)},_endTyping:function(){var e=this.keyboard;try{if(e.isTypingInProgress()){e.endTyping(true);this.saveSelection()}}catch(e){}},_selectionChange:function(){this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){var e=this.options.resizable;var t=f.isPlainObject(e)?e.content===p||e.content===true:e;if(t&&this.textarea){var i=f("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right'></span></div>").insertAfter(this.textarea);this.wrapper.addClass("k-resizable");this.wrapper.kendoResizable(g({},this.options.resizable,{draggableElement:i,start:function(e){var t=this.editor=f(e.currentTarget).closest(".k-editor");this.initialSize=t.height();t.find("td").last().append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta;var i=this.initialSize+t;var n=this.options.min||0;var r=this.options.max||Infinity;i=Math.min(r,Math.max(n,i));this.editor.height(i)},resizeend:function(){this.editor.find(".k-overlay").remove();this.editor=null}}));if(m.support.mobileOS.ios){var n=this.wrapper.getKendoResizable();n.draggable.options.ignore=r}}},_initializeElementResizing:function(){var e=this;m.ui.editor.ElementResizingFactory.current.create(e);e._showElementResizeHandlesProxy=e._showElementResizeHandles.bind(e);e.bind(i,e._showElementResizeHandlesProxy)},_destroyElementResizing:function(){var e=this;var t=e.elementResizing;if(t){t.destroy();e.elementResizing=null}if(e._showElementResizeHandlesProxy)e.unbind(i,e._showElementResizeHandlesProxy)},_showElementResizeHandles:function(){var e=this;var t=e.elementResizing;if(t&&t.element&&t.element.parentNode)t.showResizeHandles();else if(t&&(!t.element||!t.element.parentNode))e._destroyElementResizing()},_initializeColumnResizing:function(){m.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;if(e.columnResizing){e.columnResizing.destroy();e.columnResizing=null}},_initializeRowResizing:function(){m.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;if(e.rowResizing){e.rowResizing.destroy();e.rowResizing=null}},_wrapTextarea:function(){var e=this,t=e.element,i=t[0].style.width,n=t[0].style.height,r=b.editorWrapperTemplate,o=f(r).insertBefore(t),a=o.find(".k-editable-area");o.css({width:i,height:n});t.attr("autocomplete","off").appendTo(a).addClass("k-content k-raw-content").css("display","none");e.textarea=t;e.wrapper=o},_createContentElement:function(u){var e=this;var t,i,n;var r=e.textarea;var o=e.options.domain;var a=o||document.domain;var s="";var l='javascript:""';var d="";r.hide();t=f("<iframe />",{title:e.options.messages.editAreaTitle,frameBorder:"0"})[0];f(t).css("display","").addClass("k-content k-iframe").attr("tabindex",r[0].tabIndex).insertBefore(r);if(o||a!=location.hostname){s='<script>document.domain="'+a+'"<\/script>';l="javascript:document.write('"+s+"')";t.src=l}if(!t.src)t.src="";i=t.contentWindow||t;n=i.document||t.contentDocument;f(t).one("load",function(){e.toolbar.decorateFrom(n.body)});d=document.getElementsByTagName("html")[0].getAttribute("lang")||y;n.open();n.write("<!DOCTYPE html><html lang='"+d+"'><head>"+"<meta charset='utf-8' />"+"<title>Kendo UI Editor content</title>"+"<style>"+"html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}"+"body{padding:0;margin:0;}"+"body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;"+"word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(m.support.isRtl(r)?"direction:rtl;":"")+(k.ios?"word-break:keep-all;":"")+(c.edge||c.chrome?"height:100%;":"")+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"span{-ms-high-contrast-adjust:none;}"+"a{color:#00a}"+"code{font-size:1.23em}"+"telerik\\3Ascript{display: none;}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table th{outline:0;border: 1px dotted #999;}"+".k-table p{margin:0;padding:0;}"+".k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}"+".k-column-resize-handle {width: 100%; height: 100%;}"+".k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}"+".k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}"+".k-row-resize-handle {display: table; width: 100%; height: 100%;}"+".k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}"+".k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}"+".k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}"+".k-element-resize-handle {width: 100%; height: 100%;}"+".k-element-resize-handle.k-resize-east{cursor:e-resize;}"+".k-element-resize-handle.k-resize-north{cursor:n-resize;}"+".k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}"+".k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}"+".k-element-resize-handle.k-resize-south{cursor:s-resize;}"+".k-element-resize-handle.k-resize-southeast{cursor:se-resize;}"+".k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}"+".k-element-resize-handle.k-resize-west{cursor:w-resize;}"+".k-table.k-element-resizing{opacity:0.6;}"+".k-placeholder{color:grey}"+"k\\:script{display:none;}"+"</style>"+s+f.map(u,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");n.close();return i},_blur:function(){var e=this.textarea;var t=e?e.val():this._oldValue;var i=this.options.encoded?this.encodedValue():this.value();this.update();if(e)e.trigger("blur");if(i!=t){this.trigger("change");if(e)e.trigger("change")}},_spellCorrect:function(e){var t;var i=false;this._registerHandler(e.body,{contextmenu:function(){e.one("select",function(){t=null});e._spellCorrectTimeout=setTimeout(function(){t=new m.ui.editor.RestorePoint(e.getRange(),e.body);i=false},10)},input:function(){if(!t)return;if(m.support.browser.mozilla&&!i){i=true;return}m.ui.editor._finishUpdate(e,t)}})},_registerHandler:function(e,t,i){var n=this;var r=".kendoEditor";var o;var a;e=f(e);if(!this._handlers)this._handlers=[];if(e.length)if(f.isPlainObject(t)){for(var s in t)if(t.hasOwnProperty(s))this._registerHandler(e,s,t[s])}else{o=m.applyEventMap(t).split(" ");for(a=0;a<o.length;a++){n._handlers.push({element:e,type:o[a]+r,handler:i});e.on(o[a]+r,i)}}},_deregisterHandlers:function(){var e=this._handlers;for(var t=0;t<e.length;t++){var i=e[t];i.element.off(i.type,i.handler)}this._handlers=[]},_initializeContentElement:function(){var c=this;var e;var t;var i;if(c.textarea){c.window=c._createContentElement(c.options.stylesheets);e=c.document=c.window.contentDocument||c.window.document;if(!e.body){var n=e.createElement("body");n.setAttribute("contenteditable","true");n.setAttribute("autocorrect","off");e.getElementsByTagName("html")[0].appendChild(n);var r=setInterval(function(){if(f(c.document).find("body").length>1){f(c.document).find("body").last().remove();window.clearInterval(r)}},10)}c.body=e.body;t=c.window;i=e;this._registerHandler(e,"mouseup",this._mouseup.bind(this))}else{c.window=window;e=c.document=document;c.body=c.element[0];t=c.body;i=c.body;c.toolbar.decorateFrom(c.body)}this._registerHandler(t,"blur",this._blur.bind(this));c._registerHandler(i,"down",c._mousedown.bind(c));try{e.execCommand("enableInlineTableEditing",null,false)}catch(e){}if(m.support.touch)this._registerHandler(e,{keydown:function(){if(m._activeElement()!=e.body)c.window.focus()}});this._initializePlaceholder();this._spellCorrect(c);this._registerHandler(c.document,{"mouseover dragenter":function(e){var t=f(c.body).height();var i=f(c.body.parentElement).height();if(i>t&&e.target.nodeName.toLowerCase()==="html"){c._cachedHeight=""+c.body.style.height;c.body.style.height="100%"}},"mouseout dragleave drop contextmenu":function(e){var t=function(){if(c._cachedHeight!==p&&e.target===c.body){c.body.style.height=c._cachedHeight;delete c._cachedHeight}};if(e.type==="contextmenu")setTimeout(function(){t()},10);else t()}});this._registerHandler(c.body,{keydown:function(e){var t;if((e.keyCode===v.BACKSPACE||e.keyCode===v.DELETE)&&c.body.getAttribute("contenteditable")!=="true")return false;if(e.keyCode===v.F10){setTimeout(c.toolbar.focus.bind(c.toolbar),100);c.toolbar.preventPopupHide=true;e.preventDefault();return}else if(e.keyCode==v.LEFT||e.keyCode==v.RIGHT){t=c.getRange();var i=e.keyCode==v.LEFT;var n=t[i?"startContainer":"endContainer"];var r=t[i?"startOffset":"endOffset"];var o=i?-1:1;var a=r+o;var s=i?a:r;if(n.nodeType==3&&n.nodeValue[s]=="\ufeff"){t.setStart(n,a);t.collapse(true);c.selectRange(t)}}var l=c.toolbar.tools;var d=c.keyboard.toolFromShortcut(l,e);var u=d?l[d].options:{};if(d&&!u.keyPressCommand){e.preventDefault();if(!/^(undo|redo)$/.test(d))c.keyboard.endTyping(true);c.trigger("keydown",e);c.exec(d);c._runPostContentKeyCommands(e);return false}c.keyboard.clearTimeout();c.keyboard.keydown(e)},keypress:function(e){setTimeout(function(){c._runPostContentKeyCommands(e);c._showElementResizeHandles()},0)},keyup:function(e){var t=[v.BACKSPACE,v.TAB,v.PAGEUP,v.PAGEDOWN,v.END,v.HOME,v.LEFT,v.UP,v.RIGHT,v.DOWN,v.INSERT,v.DELETE];if(f.inArray(e.keyCode,t)>-1||e.keyCode==65&&e.ctrlKey&&!e.altKey&&!e.shiftKey){window.clearTimeout(this._refreshInterval);this._refreshInterval=window.setTimeout(function(){c._selectionChange()},s)}c.keyboard.keyup(e)},click:function(e){var t=m.ui.editor.Dom,i;if(t.name(e.target)==="img"){i=c.createRange();i.selectNode(e.target);c.selectRange(i)}},"cut copy paste drop dragover":function(e){c.clipboard["on"+e.type](e)},focusin:function(){if(c.body.hasAttribute("contenteditable")){f(this).addClass("k-active");c.toolbar.show();c._togglePlaceholder(false)}},focusout:function(){setTimeout(function(){var e=m._activeElement();var t=c.body;var i=c.toolbar;if(i.options.popup){var n=i.window.element.get(0);if(n&&!(f.contains(n,e)||n==e))i.preventPopupHide=false}if(e!=t&&!f.contains(t,e)&&!i.focused()&&!i.preventPopupHide){f(t).removeClass("k-active");i.hide()}c._togglePlaceholder(!c.value().trim())},10)}});c._initializeColumnResizing();c._initializeRowResizing();c._initializeElementResizing()},_initializePlaceholder:function(){var e=this,t=e.options.placeholder,i,n;if(!e.textarea||!t)return;i="<style id='"+a+"'>."+o+":before { content: '"+t+"'; }"+"</style>";n=f(e.document.head);n.find("#"+a).remove();n.append(i);e._togglePlaceholder(!e.value().trim())},_initializeImmutables:function(){var e=this,t=m.ui.editor;if(e.options.immutables)e.immutables=new t.Immutables(e)},_mousedown:function(e){var t=this;t._selectionStarted=true;if(f(t.body).parents(".k-window").length)e.stopPropagation();if(c.gecko)return;var i=f(e.target).closest("a[href]");if((e.which==2||e.which==1&&e.ctrlKey)&&i&&i.is("a[href]"))window.open(i.attr("href"),"_new");if(e.target.tagName&&e.target.tagName.toLowerCase()==="html")setTimeout(function(){t.body.focus()},0)},_mouseup:function(e){var t=this;if(m.support.mobileOS.ios&&e&&f(e.target).is(r))return;if(t._selectionStarted)setTimeout(function(){t._selectionChange()},1)},_runPostContentKeyCommands:function(e){var t=this.getRange();var i=this.keyboard.toolsFromShortcut(this.toolbar.tools,e);for(var n=0;n<i.length;n++){var r=i[n];var o=r.options;if(!o.keyPressCommand)continue;var a=new o.command({range:t});if(a.changesContent()){this.keyboard.endTyping(true);this.exec(r.name)}}},refresh:function(){var e=this;if(e.textarea){e._destroyResizings();var t=e.value();e.textarea.val(t);e.wrapper.find("iframe").remove();e._initializeContentElement(e);e.value(t)}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Ok",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCellsHorizontally:"Merge cells horizontally",mergeCellsVertically:"Merge cells vertically",splitCellHorizontally:"Split cells horizontally",splitCellVertically:"Split cells vertically",tableAlignLeft:"Table Align Left",tableAlignCenter:"Table Align Center",tableAlignRight:"Table Align Right",tableWizard:"Table Wizard",tableTab:"Table",cellTab:"Cell",accessibilityTab:"Accessibility",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",background:"Background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Select All Cells",exportAs:"Export As",import:"Import",print:"Print",headerRows:"Header Rows",headerColumns:"Header Cols",tableSummaryPlaceholder:"Summary attribute is not HTML5 compatible.",associateNone:"None",associateScope:"Associate using 'scope' attribute",associateIds:"Associate using Ids",copyFormat:"Copy format",applyFormat:"Apply format",borderNone:"None",undo:"Undo",redo:"Redo"},placeholder:"",formats:{},encoded:true,domain:null,resizable:false,deserialization:{custom:null},serialization:{entities:true,semantic:true,scripts:false,optimizeTags:false,keepEOL:false},pasteCleanup:{all:false,css:false,custom:null,keepNewLines:false,msAllFormatting:false,msConvertLists:true,msTags:true,none:false,span:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial, Helvetica, sans-serif"},{text:"Courier New",value:'"Courier New", Courier, monospace'},{text:"Georgia",value:"Georgia, serif"},{text:"Impact",value:"Impact, Charcoal, sans-serif"},{text:"Lucida Console",value:'"Lucida Console", Monaco, monospace'},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{text:"Times New Roman",value:'"Times New Roman", Times, serif'},{text:"Trebuchet MS",value:'"Trebuchet MS", Helvetica, sans-serif'},{text:"Verdana",value:"Verdana, Geneva, sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],e.basic,["undo","redo"],e.alignment,e.formatPainter,e.lists,e.indenting,e.links,["insertImage"],e.tables)},destroy:function(){var e=this;h.fn.destroy.call(this);this._endTyping(true);this._deregisterHandlers();clearTimeout(this._spellCorrectTimeout);this._focusOutside();this.toolbar.destroy();e._destroyUploadWidget();e._destroyResizings();m.destroy(this.wrapper)},_destroyResizings:function(){var e=this;e._destroyElementResizing();m.ui.editor.ElementResizingFactory.current.dispose(e);e._destroyRowResizing();m.ui.editor.RowResizing.dispose(e);e._destroyColumnResizing();m.ui.editor.ColumnResizing.dispose(e)},_focusOutside:function(){if(m.support.browser.msie&&this.textarea){var e=f("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).trigger("focus");e.trigger("blur").remove()}},_destroyUploadWidget:function(){var e=this;if(e._uploadWidget){e._uploadWidget.destroy();e._uploadWidget=null}},state:function(e){var t=l.defaultTools[e];var i=t&&(t.options.finder||t.finder);var n=m.ui.editor.RangeUtils;var r,o;if(i){r=this.getRange();o=n.textNodes(r);if(!o.length&&r.collapsed)o=[r.startContainer];return i.getFormat?i.getFormat(o):i.isFormatted(o)}return false},value:function(e){var t=this.body,i=m.ui.editor,n=this.options,r=i.Serializer.domToXhtml(t,n.serialization);if(e===p)return r;if(e==r)return;i.Serializer.htmlToDom(e,t,n.deserialization);this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(e){e=e||this.getRange();var t=e.commonAncestorContainer,i=this.body;if(t==i||f.contains(i,t))this.selectionRestorePoint=new m.ui.editor.RestorePoint(e,i)},_focusBody:function(){var e=this.body;var t=this.wrapper&&this.wrapper.find("iframe")[0];var i=this.document.documentElement;var n=m._activeElement();var r;if(!t&&e.scrollHeight>e.clientHeight){r=e.scrollTop;e.focus();e.scrollTop=r}else if(n!=e&&n!=t){r=i.scrollTop;e.focus();i.scrollTop=r}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint)this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(e);this._togglePlaceholder(!e.trim())}else this._oldValue=e},encodedValue:function(){return m.ui.editor.Dom.encode(this.value())},createRange:function(e){return m.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return m.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges();t.addRange(e);this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),i=this.document;if(t.startContainer==i&&t.endContainer==i&&!t.startOffset&&!t.endOffset){t.setStart(this.body,0);t.collapse(true)}return t},_containsRange:function(e){var t=m.ui.editor.Dom;var i=this.body;return e&&t.isAncestorOrSelf(i,e.startContainer)&&t.isAncestorOrSelf(i,e.endContainer)},_deleteSavedRange:function(){if("_range"in this)delete this._range},selectedHtml:function(){return m.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,t){this.focus();var i=new m.ui.editor.InsertHtmlCommand(f.extend({range:this.getRange(),html:e},t));i.editor=this;i.exec()},exec:function(e,t){var i=this;var n=null;var r,o,a;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(i.body.getAttribute("contenteditable")!=="true"&&e!=="print"&&e!=="pdf"&&e!=="exportAs")return false;e=e.toLowerCase();if(!i.keyboard.isTypingInProgress()){i._focusBody();i.selectRange(i._range||i.getRange())}o=i.toolbar.toolById(e);if(!o)for(var s in l.defaultTools)if(s.toLowerCase()==e){o=l.defaultTools[s];break}if(o){r=i.getRange();if(o.command)n=o.command(g({range:r,body:i.body,immutables:!!i.immutables},t));a=i.trigger("execute",{name:e,command:n});if(a)return;if(/^(undo|redo)$/i.test(e))i.undoRedoStack[e]();else if(n){i.execCommand(n);if(n.async){n.change=i._selectionChange.bind(i);return}}i._selectionChange()}},execCommand:function(e){if(!e.managesUndoRedo)this.undoRedoStack.push(e);e.editor=this;e.exec()}}),u=(l.defaultTools={},m.ui.plugin(l),t.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title,"aria-label":t.title})},command:function(e){return new this.options.command(e)},update:f.noop})),x=(u.exec=function(e,t,i){e.exec(t,{value:i})},u.extend({command:f.noop,update:function(e,t,i){var n=this,r=n.options.name;switch(r){case"undo":e.attr("disabled",!i.canUndo());break;case"redo":e.attr("disabled",!i.canRedo());break;default:break}}})),_=(b.registerTool("separator",new u({template:new n({template:b.separatorTemplate})})),b.registerTool("undo",new x({key:"Z",ctrl:true,template:new n({template:b.buttonTemplate,title:"Undo"})})),b.registerTool("redo",new x({key:"Y",ctrl:true,template:new n({template:b.buttonTemplate,title:"Redo"})})),"\ufeff"),T=_;if(c.msie||c.edge)T=_="&nbsp;";if(g(m.ui,{editor:{ToolTemplate:n,EditorUtils:b,Tool:u,emptyElementContent:_,emptyTableCellContent:T}}),m.PDFMixin){m.PDFMixin.extend(l.prototype);l.prototype._drawPDF=function(){return m.drawing.drawDOM(this.body,this.options.pdf)};l.prototype.saveAsPDF=function(){var t=new f.Deferred;var e=t.promise();var i={promise:e};if(this.trigger("pdfExport",i))return;var n=this.options.pdf;this._drawPDF(t).then(function(e){return m.drawing.exportPDF(e,n)}).done(function(e){m.saveAs({dataURI:e,fileName:n.fileName,proxyURL:n.proxyURL,proxyTarget:n.proxyTarget,forceProxy:n.forceProxy});t.resolve()}).fail(function(e){t.reject(e)});return e}}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/dom.min",["./main.min"],function(){var y=window.kendo.jQuery,a=window.kendo,o=y.map,r=y.extend,s=a.support.browser,u="style",l="float",d="cssFloat",f="styleFloat",p="class",m="k-marker";function e(e){var t={},i,n;for(i=0,n=e.length;i<n;i++)t[e[i]]=true;return t}var i=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),h="p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),g=h.concat(["ul","ol","li"]),v=e(g),b=e("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),k="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),w=e(k),C=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),x=["hgroup","ol","ul","dl","object","video","audio","table","colgroup","tbody","thead","tfoot","tr","select","optgroup"],n=function(e){if(e.nodeType==1)e.normalize()};if(s.msie&&s.version>=8)n=function(e){if(e.nodeType==1&&e.firstChild){var t=e.firstChild,i=t;n(i);while(true){i=i.nextSibling;if(!i)break;n(i);if(i.nodeType==3&&t.nodeType==3){i.nodeValue=t.nodeValue+i.nodeValue;c.remove(t)}t=i}}};var _=/^\s+$/,T=/^[\n\r\t]+$/,N=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,R=/\ufeff/g,S=/^(\s+|\ufeff)$/,t,A=("color,padding-left,padding-right,padding-top,padding-bottom,"+"background-color,background-attachment,background-image,background-position,background-repeat,"+"border-top-style,border-top-width,border-top-color,"+"border-bottom-style,border-bottom-width,border-bottom-color,"+"border-left-style,border-left-width,border-left-color,"+"border-right-style,border-right-width,border-right-color,"+"font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),z=/[<>\&]/g,E=/[\u00A0-\u2666<>\&]/g,I={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},c={block:v,inline:w,findNodeIndex:function(e,t){var i=0;if(!e)return-1;while(true){e=e.previousSibling;if(!e)break;if(!(t&&e.nodeType==3))i++}return i},isDataNode:function(e){return e&&e.nodeValue!==null&&e.data!==null},isAncestorOf:function(e,t){try{return!c.isDataNode(e)&&(y.contains(e,c.isDataNode(t)?t.parentNode:t)||t.parentNode==e)}catch(e){return false}},isAncestorOrSelf:function(e,t){return c.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(c.isAncestorOf(e,t))while(t&&t.parentNode!=e)t=t.parentNode;return t},getAllComments:function(e){var t=[];var i=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},false);var n=i.nextNode();while(n){t.push(n.nodeValue);n=i.nextNode()}return t},getNodeLength:function(e){return c.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){var i=e.cloneNode(false);var n="";var r=e.nextSibling;var o;while(r&&r.nodeType==3&&r.nodeValue){n+=r.nodeValue;o=r;r=r.nextSibling;c.remove(o)}e.deleteData(t,e.length);i.deleteData(0,t);i.nodeValue+=n;c.insertAfter(i,e)},attrEquals:function(e,t){for(var i in t){var n=e[i];if(i==l)n=e[a.support.cssFloat?d:f];if(typeof n=="object"){if(!c.attrEquals(n,t[i]))return false}else if(n!=t[i])return false}return true},blockParentOrBody:function(e){return c.parentOfType(e,g)||e.ownerDocument.body},blockParents:function(e){var t=[],i,n;for(i=0,n=e.length;i<n;i++){var r=c.parentOfType(e[i],c.blockElements);if(r&&y.inArray(r,t)<0)t.push(r)}return t},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:n,blockElements:g,nonListBlockElements:h,inlineElements:k,empty:i,fillAttrs:C,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=N.exec(e);if(!t)return e;return"#"+o(t.slice(1),function(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e}).join("")},encode:function(e,t){var i=!t||t.entities?E:z;return e.replace(i,function(e){var t=e.charCodeAt(0);var i=I[t];return i?"&"+i+";":e})},isBom:function(e){return e&&e.nodeType===3&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||"").replace(R,"")},stripBomNode:function(e){if(c.isBom(e))e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return e.className=="k-marker"||c.is(e,"br")&&(e.className=="k-br"||t._moz_dirty||t._moz_editor_bogus_node)||c.is(e,"span")&&e.className=="k-br"},tableCell:function(e){return c.is(e,"td")||c.is(e,"th")},significantNodes:function(e){return y.grep(e,function(e){var t=c.name(e);if(t=="br")return false;else if(c.insignificant(e))return false;else if(c.emptyTextNode(e))return false;else if(e.nodeType==1&&!i[t]&&c.emptyNode(e))return false;return true})},emptyTextNode:function(e){return e&&e.nodeType==3&&S.test(e.nodeValue)},emptyNode:function(e){return e.nodeType==1&&!c.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(e){return y.grep(e.childNodes,function(e){return e.nodeType!=3||!c.isWhitespace(e)})},lastTextNode:function(e){var t=null;if(e.nodeType==3)return e;for(var i=e.lastChild;i;i=i.previousSibling){t=c.lastTextNode(i);if(t)return t}return t},is:function(e,t){return e&&c.name(e)==t},isMarker:function(e){return e.className==m},isWhitespace:function(e){return _.test(e.nodeValue)},allowsTextContent:function(t){var i=true;x.every(function(e){if(c.is(t,e)){i=false;return false}else return true});return i},allWhitespaceContent:function(e){var t=e.firstChild;while(t&&c.isWhitespace(t))t=t.nextSibling;return!t},isEmptyspace:function(e){return T.test(e.nodeValue)},htmlIndentSpace:function(e){if(!(c.isDataNode(e)&&c.isWhitespace(e)))return false;if(T.test(e.nodeValue))return true;var t=function(e,t){while(e[t]){e=e[t];if(c.significantNodes([e]).length>0)return e}};var i=e.parentNode;var n=t(e,"previousSibling");var r=t(e,"nextSibling");if(R.test(e.nodeValue))return!!(n||r);if(y(i).is("tr,tbody,thead,tfoot,table,ol,ul"))return true;if(c.isBlock(i)||c.is(i,"body")){var o=n&&c.isBlock(n);var a=r&&c.isBlock(r);if(!r&&o||!n&&a||o&&a)return true}return false},isBlock:function(e){return v[c.name(e)]},isSelfClosing:function(e){return b[c.name(e)]},isEmpty:function(e){return i[c.name(e)]},isInline:function(e){return w[c.name(e)]},isBr:function(e){return c.name(e)=="br"},list:function(e){var t=e?c.name(e):"";return t=="ul"||t=="ol"||t=="dl"},scrollContainer:function(e){var t=c.windowFromDocument(e),i=(t.contentWindow||t).document||t.ownerDocument||t;if(i.compatMode=="BackCompat")i=i.body;else i=i.scrollingElement||i.documentElement;return i},scrollTo:function(e,t){var i=e.ownerDocument;var n=c.windowFromDocument(i);var r=n.innerHeight;var o=c.scrollContainer(i);var a,s,l,d;if(c.isDataNode(e))if(t){d=c.create(i,"span",{innerHTML:"&#xfeff;"});c.insertBefore(d,e);a=y(d)}else a=y(e.parentNode);else a=y(e);s=a.offset().top;l=a[0].offsetHeight;if(t||!l)l=parseInt(a.css("line-height"),10)||Math.ceil(1.2*parseInt(a.css("font-size"),10))||15;if(d)c.remove(d);if(l+s>o.scrollTop+r)o.scrollTop=l+s-r},persistScrollTop:function(e){t=c.scrollContainer(e).scrollTop},offset:function(e,t){var i={top:e.offsetTop,left:e.offsetLeft};var n=e.offsetParent;while(n&&(!t||c.isAncestorOf(t,n))){i.top+=n.offsetTop;i.left+=n.offsetLeft;n=n.offsetParent}return i},restoreScrollTop:function(e){if(typeof t=="number"){c.scrollContainer(e).scrollTop=t;t=undefined}},insertAt:function(e,t,i){e.insertBefore(t,e.childNodes[i]||null)},insertBefore:function(e,t){if(t.parentNode)return t.parentNode.insertBefore(e,t);else return t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){if(e.parentNode)e.parentNode.removeChild(e)},removeChildren:function(e){while(e.firstChild)e.removeChild(e.firstChild)},removeTextSiblings:function(e){var t=e.parentNode;while(e.nextSibling&&e.nextSibling.nodeType==3)t.removeChild(e.nextSibling);while(e.previousSibling&&e.previousSibling.nodeType==3)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var i=e.childNodes[t];if(c.isDataNode(i)){if(!c.stripBom(i.nodeValue).length)c.remove(i)}else if(i.className!=m){c.trim(i);if(!c.isEmpty(i)&&i.childNodes.length===0||c.isBlock(i)&&c.allWhitespaceContent(i))c.remove(i)}}return e},closest:function(e,t){if(typeof t==="string")t=[t];while(e&&t.indexOf(c.name(e))<0)e=e.parentNode;return e},closestBy:function(e,t,i){while(e&&!t(e)){if(i&&i(e))return null;e=e.parentNode}return e},sibling:function(e,t){do{e=e[t]}while(e&&e.nodeType!=1);return e},next:function(e){return c.sibling(e,"nextSibling")},prev:function(e){return c.sibling(e,"previousSibling")},parentOfType:function(e,t){do{e=e.parentNode}while(e&&!c.ofType(e,t));return e},ofType:function(e,t){return y.inArray(c.name(e),t)>=0},changeTag:function(e,t,i){var n=c.create(e.ownerDocument,t),r=e.attributes,o,a,s,l,d;if(!i)for(o=0,a=r.length;o<a;o++){d=r[o];if(d.specified){s=d.nodeName;l=d.nodeValue;if(s==p)n.className=l;else if(s==u)n.style.cssText=e.style.cssText;else n.setAttribute(s,l)}}while(e.firstChild)n.appendChild(e.firstChild);c.insertBefore(n,e);c.remove(e);return n},editableParent:function(e){while(e&&(e.nodeType==3||e.contentEditable!=="true"))e=e.parentNode;return e},wrap:function(e,t){c.insertBefore(t,e);t.appendChild(e);return t},unwrap:function(e){var t=e.parentNode;while(e.firstChild)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(e){var t=c.closestBy(e,function(e){return e.parentNode&&c.significantNodes(e.parentNode.childNodes).length>1});return y(t).is("body,.k-editor")?undefined:t},create:function(e,t,i){return c.attr(e.createElement(t),i)},createEmptyNode:function(e,t,i){var n=c.attr(e.createElement(t),i);n.innerHTML="\ufeff";return n},attr:function(e,t){t=r({},t);if(t&&u in t){c.style(e,t.style);delete t.style}for(var i in t)if(t[i]===null){e.removeAttribute(i);delete t[i]}else if(i=="className")e[i]=t[i];return r(e,t)},mergeAttributes:function(e,t,i){if(!e.attributes.length)return;y.each(e.attributes,function(){if(this.name!=="contenteditable"&&(!i||this.name!==u))y(t).attr(this.name,this.value);if(i&&this.name===u)y.each(e.style,function(){t.style[this]=e.style[this]})})},style:function(e,t){y(e).css(t||{})},unstyle:function(e,t){for(var i in t){if(i==l)i=a.support.cssFloat?d:f;e.style[i]=""}if(e.style.cssText==="")e.removeAttribute(u)},inlineStyle:function(e,t,i){var n=y(c.create(e.ownerDocument,t,i)),r;e.appendChild(n[0]);r=o(A,function(e){if(s.msie&&e=="line-height"&&n.css(e)=="1px")return"line-height:1.5";else return e+":"+n.css(e)}).join(";");n.remove();return r},getEffectiveBackground:function(e){var t=e.css("background-color")||"";if(t.indexOf("rgba(0, 0, 0, 0")<0&&t!=="transparent")return t;else if(e[0].tagName.toLowerCase()==="html")return"Window";else return c.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;t=t.replace(/<!--(.|\s)*?-->/gi,"");t=t.replace(/<\/?[^>]+?\/?>/gm,"");return t},removeClass:function(e,t){var i=" "+e.className+" ",n=t.split(" "),r,o;for(r=0,o=n.length;r<o;r++)i=i.replace(" "+n[r]+" "," ");i=a.trim(i);if(i.length)e.className=i;else e.removeAttribute(p)},commonAncestor:function(){var e=arguments.length,t=[],i=Infinity,n=null,r,o,a,s,l;if(!e)return null;if(e==1)return arguments[0];for(r=0;r<e;r++){o=[];a=arguments[r];while(a){o.push(a);a=a.parentNode}t.push(o.reverse());i=Math.min(i,o.length)}if(e==1)return t[0][0];for(r=0;r<i;r++){s=t[0][r];for(l=1;l<e;l++)if(s!=t[l][r])return n;n=s}return n},closestSplittableParent:function(e){var t;if(e.length==1)t=c.parentOfType(e[0],["ul","ol"]);else t=c.commonAncestor.apply(null,e);if(!t)t=c.parentOfType(e[0],["p","td"])||e[0].ownerDocument.body;if(c.isInline(t))t=c.blockParentOrBody(t);var i=o(e,c.editableParent);var n=c.commonAncestor(i)[0];if(y.contains(t,n))t=n;return t},closestEditable:function(e,t){var i;var n=c.editableParent(e);if(c.ofType(e,t))i=e;else i=c.parentOfType(e,t);if(i&&n&&y.contains(i,n))i=n;else if(!i&&n)i=n;return i},closestEditableOfType:function(e,t){var i=c.closestEditable(e,t);if(i&&c.ofType(i,t)&&!y(i).is(".k-editor"))return i},filter:function(t,e,i){var n=function(e){return c.name(e)==t};return c.filterBy(e,n,i)},filterBy:function(e,t,i){var n=0;var r=e.length;var o=[];var a;for(;n<r;n++){a=t(e[n]);if(a&&!i||!a&&i)o.push(e[n])}return o},ensureTrailingBreaks:function(e){var t=y(e).find("p,td,th");var i=t.length;var n=0;if(i)for(;n<i;n++)c.ensureTrailingBreak(t[n]);else c.ensureTrailingBreak(e)},removeTrailingBreak:function(e){y(e).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){c.removeTrailingBreak(e);var t=e.lastChild;var i=t&&c.name(t);var n;if(!i||i!="br"&&i!="img"||i=="br"&&t.className!="k-br"){n=e.ownerDocument.createElement("br");n.className="k-br";e.appendChild(n)}},reMapTableColumns:function(e,t){c._mapColIndices(e,t)},clearTableMappings:function(e,t){y(e).find("["+t+"]").removeAttr(t)},_mapColIndices:function(e,t){var i={};for(var n=0;n<e.rows.length;n++){var r=e.rows[n].cells;var o=0;for(var a=0;a<r.length;a++,o++){var s=r[a];if(s.rowSpan>1)this._mapColspan(s,n,o,i);if(i[n])while(i[n][o])o++;s.setAttribute(t,o);if(s.colSpan>1)o=o+s.colSpan-1}}},_mapColspan:function(e,t,i,n){var r=e.rowSpan,o=e.colSpan,a;for(var s=0;s<o;s++){a=i+s;for(var l=t+1;l<t+r;l++){if(!n[l]){n[l]={};n[l].length=0}if(n[t])while(n[t][a])a++;n[l][a]=true;n[l].length++}}},associateWithIds:function(e){var t=this;var i=0;var n=e.rows;var r=n.length;var o=[];var a=[];var s,l;if(e.tHead){s=e.tHead.rows;i=s.length}else{i=t._getNumberOfHeaderRows(e);s=[];for(l=0;l<i;l++)s.push(n[l])}for(l=0;l<i;l++)o.push([]);for(l=0;l<r;l++)a.push([]);t._generateIdsForColumns(o,s);t._generateIdsForRows(o,a,i,n);t._assignIds(o,a,i,n)},_generateIdsForColumns:function(e,t){var u=(new Date).getTime();var c=t?t.length:0;var f,i,n,r,o,p,m,a,s,l,d;for(a=0;a<c;a++){f=t[a];i=f.cells;r=0;for(s=0;s<i.length;s++){n=i[s];o="table"+a+s+ ++u;n.setAttribute("id",o);p=n.getAttribute("colspan")||1;m=n.getAttribute("rowspan")||1;while(e[a][s+r])r+=1;for(l=0;l<m;l++)for(d=0;d<p;d++)e[a+l][s+r+d]=o}}},_generateIdsForRows:function(u,e,c,f){var p=this;var m=(new Date).getTime();var h=f.length;var g,t,i,n,r,v,b,o,a,s,l,k,d;var w=function(e){d.push(e[k])};for(o=c;o<h;o++){g=f[o];t=y(g.cells).filter("th");n=0;for(a=0;a<t.length;a++){i=t[a];r="table"+o+a+ ++m;i.setAttribute("id",r);v=i.getAttribute("colspan")||1;b=i.getAttribute("rowspan")||1;while(e[o][a+n])n+=1;for(s=0;s<b;s++)for(l=0;l<v;l++)e[o+s][a+n+l]=r;k=i.getAttribute("col-index");d=[];u.forEach(w);d=d.filter(p._onlyUnique);i.setAttribute("headers",d.join(" ").trim())}}},_assignIds:function(e,t,u,i){var c=this;var f=i.length;var n,r,o,a,s,l,d;var p=function(e){d.push(e[l])};for(a=u;a<f;a++){n=i[a];r=y(n.cells).filter("td");for(s=0;s<r.length;s++){o=r[s];l=o.getAttribute("col-index");d=t[a].slice();e.forEach(p);d=d.filter(c._onlyUnique);o.setAttribute("headers",d.join(" ").trim())}}},_getNumberOfColumns:function(e){var t=y(e).find("th, td");var i=0;var n,r,o;for(r=0;r<t.length;r++){n=t[r];o=Number(n.getAttribute("col-index"))+1;if(o>i)i=o}return i},_getNumberOfHeaderColumns:function(e,t){var i=e.rows;var n=0;var r,o,a,s,l;for(a=t;a<i.length;a++){o=i[a];for(s=0;s<o.cells.length;s++){l=o.cells[s];if(this.is(l,"th")){r=Number(l.getAttribute("col-index"))+1;if(r>n)n=r}}}return n},_getNumberOfHeaderRows:function(e){var t=e.rows;var i=e.tHead;var n=i&&e.tHead.rows?e.tHead.rows.length:0;var r,o,a,s;if(n===0){o=t[0];s=o.cells&&o.cells.length;while(o&&s&&this.is(o.cells[0],"th")){for(r=0;r<s;r++){a=o?o.cells[r]:null;if(!this.is(a,"th"))o=null}if(o){n+=1;o=this.next(o);s=o&&o.cells&&o.cells.length}}}return n},_onlyUnique:function(e,t,i){return i.indexOf(e)===t}};a.ui.editor.Dom=c})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/serializer.min",["./dom.min"],function(){var y=window.kendo.jQuery,C=void 0,x=window.kendo,_=x.ui.editor,T=_.Dom,t=y.extend,s="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),l=/"/g,R=/<br[^>]*>/i,N=/^\d+(\.\d*)?(px)?$/i,S=/<p>(?:&nbsp;)?<\/p>/i,A=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,z=/^sizzle-\d+/i,E=/^k-script-/i,i=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,n='<br class="k-br">',o="<span class='k-br'>\ufeff</span>",e=document.createElement("div"),I=(e.innerHTML=" <hr>",e.firstChild.nodeType===3),u=(e=null,x.isFunction),D="td",d={toEditableHtml:function(e){return(e||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,function(e){return e.replace(i,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,n+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+n)},_toEditableImmutables:function(e){var t=_.Immutables.immutable,i=T.emptyTextNode,n=e.firstChild,r=e.lastChild;while(i(n))n=n.nextSibling;while(i(r))r=r.previousSibling;if(n&&t(n))y(o).prependTo(e);if(r&&t(r))y(o).appendTo(e)},_fillEmptyElements:function(e){y(e).find("p,td").each(function(){var e=y(this);if(/^\s*$/g.test(e.text())&&!e.find("img,input").length){var t=this;while(t.children[0]&&t.children[0].nodeType!=3)t=t.children[0];if(t.nodeType==1&&!T.empty[T.name(t)])if(T.is(t,"td"))t.innerHTML=x.ui.editor.emptyTableCellContent;else t.innerHTML=x.ui.editor.emptyElementContent}})},_removeSystemElements:function(e){y(".k-paste-container",e).remove()},_resetOrderedLists:function(e){var t=e.getElementsByTagName("ol"),i,n,r;for(i=0;i<t.length;i++){n=t[i];r=n.getAttribute("start");n.setAttribute("start",1);if(r)n.setAttribute("start",r);else n.removeAttribute(r)}},_preventScriptExecution:function(e){y(e).find("*").each(function(){var e=this.attributes;var t,i,n,r;var o=[];for(i=0,n=e.length;i<n;i++){t=e[i];r=t.nodeName;if(t.specified&&/^on/i.test(r)){this.setAttribute("k-script-"+r,t.value);o.push(r)}}for(i=0,n=o.length;i<n;i++)this.removeAttribute(o[i])})},htmlToDom:function(e,t,i){var n=x.support.browser;var r=n.msie;var o=i||{};var a=o.immutables;e=d.toEditableHtml(e);if(u(o.custom))e=o.custom(e)||e;t.innerHTML=e;if(a)a.deserialize(t);if(r){T.normalize(t);d._resetOrderedLists(t)}d._preventScriptExecution(t);d._fillEmptyElements(t);d._removeSystemElements(t);d._toEditableImmutables(t);y("table",t).addClass("k-table");return t},domToXhtml:function(e,u){var c=[];var f=u&&u.immutables;function a(e){return y.grep(e,function(e){return e.name!="style"})}function t(e,t){c.push("<"+t);h(e);c.push(">")}var p={iframe:{start:function(e){t(e,"iframe")},end:function(){c.push("</iframe>")}},"k:script":{start:function(e){t(e,"script")},end:function(){c.push("<\/script>")},skipEncoding:true},span:{canOptimize:true,semantic:true,start:function(e){var t=e.style;var i=m(e);var n=a(i);if(n.length){c.push("<span");h(e,n);c.push(">")}if(t.textDecoration=="underline")c.push("<u>");var r=[];if(t.color)r.push('color="'+T.toHex(t.color)+'"');if(t.fontFamily)r.push('face="'+t.fontFamily+'"');if(t.fontSize){var o=y.inArray(t.fontSize,s);r.push('size="'+o+'"')}if(r.length)c.push("<font "+r.join(" ")+">")},end:function(e){var t=e.style;if(t.color||t.fontFamily||t.fontSize)c.push("</font>");if(t.textDecoration=="underline")c.push("</u>");if(a(m(e)).length)c.push("</span>")}},strong:{semantic:true,start:function(e){t(e,"b")},end:function(){c.push("</b>")}},em:{semantic:true,start:function(e){t(e,"i")},end:function(){c.push("</i>")}},b:{semantic:false,start:function(e){t(e,"strong")},end:function(){c.push("</strong>")}},i:{semantic:false,start:function(e){t(e,"em")},end:function(){c.push("</em>")}},u:{semantic:false,start:function(e){c.push("<span");var t=m(e);var i=y(t).filter(function(e,t){return t.name=="style"})[0];var n={nodeName:"style",value:"text-decoration:underline;"};if(i){n.value=i.value;if(!/text-decoration/i.test(n.value))n.value="text-decoration:underline;"+n.value;t.splice(y.inArray(i,t),1)}t.push(n);h(e,t);c.push(">")},end:function(){c.push("</span>")}},font:{canOptimize:true,semantic:false,start:function(e){c.push('<span style="');var t=e.getAttribute("color");var i=s[e.getAttribute("size")];var n=e.getAttribute("face");if(t){c.push("color:");c.push(T.toHex(t));c.push(";")}if(n){c.push("font-family:");c.push(n);c.push(";")}if(i){c.push("font-size:");c.push(i);c.push(";")}c.push('">')},end:function(){c.push("</span>")}}};p.script=p["k:script"];u=u||{};if(typeof u.semantic=="undefined")u.semantic=true;function n(e){var t=x.trim;var i=t(e);var n;var r,o;var a=[];A.lastIndex=0;while(true){n=A.exec(i);if(!n)break;r=t(n[1].toLowerCase());o=t(n[2]);if(r=="font-size-adjust"||r=="font-stretch")continue;if(r.indexOf("color")>=0)o=T.toHex(o);else if(r.indexOf("font")>=0)o=o.replace(l,"'");else if(/\burl\(/g.test(o))o=o.replace(l,"");a.push({property:r,value:o})}return a}function v(e){var t=n(e);var i;for(i=0;i<t.length;i++){c.push(t[i].property);c.push(":");c.push(t[i].value);c.push(";")}}function m(e){var t=[];var i=e.attributes;var n,r,o;var a,s,l;for(r=0,o=i.length;r<o;r++){n=i[r];a=n.nodeName;s=n.value;l=n.specified;if(a=="value"&&"value"in e&&e.value)l=true;else if(a=="type"&&s=="text")l=true;else if(a=="class"&&!s)l=false;else if(z.test(a))l=false;else if(a=="complete")l=false;else if(a=="altHtml")l=false;else if(a=="start"&&T.is(e,"ul"))l=false;else if(a=="start"&&T.is(e,"ol")&&s=="1")l=false;else if(a.indexOf("_moz")>=0)l=false;else if(E.test(a))l=!!u.scripts;else if(a=="data-role"&&s=="resizable"&&(T.is(e,"tr")||T.is(e,"td")))l=false;if(l)t.push(n)}return t}function h(e,t){var i,n,r,o,a;t=t||m(e);if(T.is(e,"img")){var s=e.style.width,l=e.style.height,d=y(e);if(s&&N.test(s)){d.attr("width",parseInt(s,10));T.unstyle(e,{width:C})}if(l&&N.test(l)){d.attr("height",parseInt(l,10));T.unstyle(e,{height:C})}}if(!t.length)return;for(i=0,n=t.length;i<n;i++){r=t[i];o=r.nodeName;a=r.value;if(o=="class"&&a=="k-table")continue;o=o.replace(E,"");c.push(" ");c.push(o);c.push('="');if(o=="style")v(a||e.style.cssText);else if(o=="src"||o=="href")c.push(x.htmlEncode(e.getAttribute(o,2)));else c.push(T.fillAttrs[o]?o:a);c.push('"')}}function g(e,t,i){for(var n=e.firstChild;n;n=n.nextSibling)r(n,t,i)}function b(e){return e.nodeValue.replace(/\ufeff/g,"")}function k(e){if(T.isBom(e)){do{e=e.parentNode;if(T.is(e,D)&&e.childNodes.length===1)return true;if(e.childNodes.length!==1)return false}while(!T.isBlock(e));return true}return false}function r(e,t,i){var n=e.nodeType,r,o,a,s,l,d;if(f&&_.Immutables.immutable(e))c.push(f.serialize(e));else if(n==1){r=T.name(e);d=y(e);if(d.hasClass("k-element-resize-handle-wrapper")||d.hasClass("k-column-resize-handle-wrapper")||d.hasClass("k-row-resize-handle-wrapper"))return;if(!r||T.insignificant(e))return;if(!u.scripts&&(r=="script"||r=="k:script"))return;o=p[r];if(o){if(o.canOptimize&&u.optimizeTags&&w(e)){g(e,false,o.skipEncoding);return}if(typeof o.semantic=="undefined"||u.semantic^o.semantic){o.start(e);g(e,false,o.skipEncoding);o.end(e);return}}c.push("<");c.push(r);h(e);if(T.empty[r])c.push(" />");else{c.push(">");g(e,t||T.is(e,"pre"));c.push("</");c.push(r);c.push(">")}}else if(n==3){if(k(e)){c.push("&nbsp;");return}s=b(e);if(!t&&I){a=e.parentNode;l=e.previousSibling;if(!l)l=(T.isInline(a)?a:e).previousSibling;if(!l||l.innerHTML===""||T.isBlock(l))if(u.keepEOL)s=s.replace(/[\r\n\v\f\t ]+/," ");else s=s.replace(/^[\r\n\v\f\t ]+/,"");s=s.replace(/ +/," ")}c.push(i?s:T.encode(s,u))}else if(n==4){c.push("<![CDATA[");c.push(e.data);c.push("]]>")}else if(n==8)if(e.data.indexOf("[CDATA[")<0){c.push("\x3c!--");c.push(e.data);c.push("--\x3e")}else{c.push("<!");c.push(e.data);c.push(">")}}function w(e){return e.attributes.length===0}function i(e){var t=e.childNodes.length;var i=t&&e.firstChild.nodeType==3;return i&&(t==1||t==2&&T.insignificant(e.lastChild))}function o(){if(x.isFunction(u.custom))c=u.custom(c)||c}if(i(e)){c=T.encode(b(e.firstChild).replace(/[\r\n\v\f\t ]+/," "),u);o();return c}g(e);c=c.join("");o();if(c.replace(R,"").replace(S,"")==="")return"";return c}};t(_,{Serializer:d})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/components.min",["./serializer.min"],function(){var d=window.kendo.jQuery,n=void 0,u=window.kendo,r=u.ui.DropDownList,l=u.ui.editor.Dom,e=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);if(u.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",this._initSelectOverlay.bind(this))}i.text(i.options.title);i.element.attr("title",i.options.title);i.wrapper.attr("title",i.options.title);i.bind("open",function(){if(i.options.autoSize){var e=i.list,t;e.css({whiteSpace:"nowrap",width:"auto"});t=e.width();if(t>0)t+=20;else t=i._listWidth;e.css("width",t+u.support.scrollbar());i._listWidth=t}})},options:{name:"SelectBox",index:-1,size:"medium",fillMode:"solid",rounded:"medium"},_initSelectOverlay:function(){var e=this;var t=e.value();var i=this.dataSource.view();var n;var r="";var o=u.htmlEncode;for(var a=0;a<i.length;a++){n=i[a];r+="<option value='"+o(n.value)+"'";if(n.value==t)r+=" selected";r+=">"+o(n.text)+"</option>"}var s=d("<select class='k-select-overlay'>"+r+"</select>");var l=d(this.element).closest(".k-dropdownlist");l.next(".k-select-overlay").remove();s.insertAfter(l);s.on("change",function(){e.value(this.value);e.trigger("change")})},value:function(e){var t=this,i=r.fn.value.call(t,e);if(e===n)return i;if(!r.fn.value.call(t))t.text(t.options.title)},decorate:function(e){var t=this,i=t.dataSource,n=i.data(),r,o,a,s;if(e)t.list.css("background-color",l.getEffectiveBackground(d(e)));for(r=0;r<n.length;r++){o=n[r].tag||"span";a=n[r].className;s=l.inlineStyle(e,o,{className:a});s=s.replace(/"/g,"'");n[r].style=s+";display:inline-block"}i.trigger("change")}});u.ui.plugin(e),u.ui.editor.SelectBox=e,u.cssProperties.registerPrefix("SelectBox","k-picker-"),u.cssProperties.registerValues("SelectBox",[{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}])})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/range.min",["./components.min"],function(){var r=window.kendo.jQuery,t=window.kendo,e=t.Class,i=r.extend,o=t.ui.editor,l=t.support.browser,g=o.Dom,h=g.findNodeIndex,v=g.isDataNode,n=g.findClosestAncestor,c=g.getNodeLength,b=g.normalize,s={selectionFromWindow:function(e){if(!e)return;if(!("getSelection"in e))return new k(e.document);return e.getSelection()},selectionFromRange:function(e){var t=d.documentFromRange(e);return s.selectionFromDocument(t)},selectionFromDocument:function(e){return s.selectionFromWindow(g.windowFromDocument(e))}},u=e.extend({init:function(e){r.extend(this,{ownerDocument:e,startContainer:e,endContainer:e,commonAncestorContainer:e,startOffset:0,endOffset:0,collapsed:true})},setStart:function(e,t){this.startContainer=e;this.startOffset=t;m(this);p(this,true)},setEnd:function(e,t){this.endContainer=e;this.endOffset=t;m(this);p(this,false)},setStartBefore:function(e){this.setStart(e.parentNode,h(e))},setStartAfter:function(e){this.setStart(e.parentNode,h(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,h(e))},setEndAfter:function(e){this.setEnd(e.parentNode,h(e)+1)},selectNode:function(e){this.setStartBefore(e);this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0);this.setEnd(e,e[e.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;if(e)t.setEnd(t.startContainer,t.startOffset);else t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();if(e.startContainer!=e.commonAncestorContainer)e.setStartAfter(n(e.commonAncestorContainer,e.startContainer));e.collapse(true);(function e(t){while(t.next())if(t.hasPartialSubtree())e(t.getSubtreeIterator());else t.remove()})(new a(t))},cloneContents:function(){var r=d.documentFromRange(this);return function e(t){var i,n=r.createDocumentFragment();while(i=t.next()){i=i.cloneNode(!t.hasPartialSubtree());if(t.hasPartialSubtree())i.appendChild(e(t.getSubtreeIterator()));n.appendChild(i)}return n}(new a(this))},extractContents:function(){var r=this,e=r.cloneRange();if(r.startContainer!=r.commonAncestorContainer)r.setStartAfter(n(r.commonAncestorContainer,r.startContainer));r.collapse(true);var o=d.documentFromRange(r);return function e(t){var i,n=o.createDocumentFragment();while(i=t.next()){if(t.hasPartialSubtree()){i=i.cloneNode(false);i.appendChild(e(t.getSubtreeIterator()))}else t.remove(r.originalRange);n.appendChild(i)}return n}(new a(e))},insertNode:function(e){var t=this;if(v(t.startContainer)){if(t.startOffset!=t.startContainer.nodeValue.length)g.splitDataNode(t.startContainer,t.startOffset);g.insertAfter(e,t.startContainer)}else g.insertAt(t.startContainer,e,t.startOffset);t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return r.extend(new u(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return[e=="#text"?this.startContainer.nodeValue:e,"(",this.startOffset,") : ",t=="#text"?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}});function f(e,t,i,n){if(e==t)return n-i;var r=t;while(r&&r.parentNode!=e)r=r.parentNode;if(r)return h(r)-i;r=e;while(r&&r.parentNode!=t)r=r.parentNode;if(r)return n-h(r)-1;var o=g.commonAncestor(e,t);var a=e;while(a&&a.parentNode!=o)a=a.parentNode;if(!a)a=o;var s=t;while(s&&s.parentNode!=o)s=s.parentNode;if(!s)s=o;if(a==s)return 0;return h(s)-h(a)}function p(e,t){function i(e){try{return f(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(e){return true}}if(i(e)){if(t){e.commonAncestorContainer=e.endContainer=e.startContainer;e.endOffset=e.startOffset}else{e.commonAncestorContainer=e.startContainer=e.endContainer;e.startOffset=e.endOffset}e.collapsed=true}}function m(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;var t=e.startContainer;while(t&&t!=e.endContainer&&!g.isAncestorOf(t,e.endContainer))t=t.parentNode;e.commonAncestorContainer=t}u.fromNode=function(e){return new u(e.ownerDocument)};var a=e.extend({init:function(e){r.extend(this,{range:e,_current:null,_next:null,_end:null});if(e.collapsed)return;var t=e.commonAncestorContainer;this._next=e.startContainer==t&&!v(e.startContainer)?e.startContainer.childNodes[e.startOffset]:n(t,e.startContainer);this._end=e.endContainer==t&&!v(e.endContainer)?e.endContainer.childNodes[e.endOffset]:n(t,e.endContainer).nextSibling},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null;if(v(e._current)){if(e.range.endContainer==e._current){t=t.cloneNode(true);t.deleteData(e.range.endOffset,t.length-e.range.endOffset)}if(e.range.startContainer==e._current){t=t.cloneNode(true);t.deleteData(0,e.range.startOffset)}}return t},traverse:function(e){var t=this,i;function n(){t._current=t._next;t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null;return t._current}while(i=n())if(t.hasPartialSubtree())t.getSubtreeIterator().traverse(e);else e(i);return i},remove:function(e){var t=this,i=t.range.startContainer==t._current,n=t.range.endContainer==t._current,r,o,a;if(v(t._current)&&(i||n)){r=i?t.range.startOffset:0;o=n?t.range.endOffset:t._current.length;a=o-r;if(e&&(i||n)){if(t._current==e.startContainer&&r<=e.startOffset)e.startOffset-=a;if(t._current==e.endContainer&&o<=e.endOffset)e.endOffset-=a}t._current.deleteData(r,a)}else{var s=t._current.parentNode;if(e&&(t.range.startContainer==s||t.range.endContainer==s)){var l=h(t._current);if(s==e.startContainer&&l<=e.startOffset)e.startOffset-=1;if(s==e.endContainer&&l<e.endOffset)e.endOffset-=1}g.remove(t._current)}},hasPartialSubtree:function(){return!v(this._current)&&(g.isAncestorOrSelf(this._current,this.range.startContainer)||g.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new a(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();t.selectNodeContents(e._current);if(g.isAncestorOrSelf(e._current,e.range.startContainer))t.setStart(e.range.startContainer,e.range.startOffset);if(g.isAncestorOrSelf(e._current,e.range.endContainer))t.setEnd(e.range.endContainer,e.range.endOffset);return t}}),k=e.extend({init:function(e){this.ownerDocument=e;this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();y(t,e,false);y(t,e,true);t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;if(e.type!="None")e.empty()},getRangeAt:function(){var e,t=new u(this.ownerDocument),i=this.ownerDocument.selection,n,r;try{e=i.createRange();n=e.item?e.item(0):e.parentElement();if(n.ownerDocument!=this.ownerDocument)return t}catch(e){return t}if(i.type=="Control")t.selectNode(e.item(0));else{r=w(e);C(e,t,r,true);C(e,t,r,false);if(t.startContainer.nodeType==9)t.setStart(t.endContainer,t.startOffset);if(t.endContainer.nodeType==9)t.setEnd(t.startContainer,t.endOffset);if(e.compareEndPoints("StartToEnd",e)===0)t.collapse(false);var o=t.startContainer,a=t.endContainer,s=this.ownerDocument.body;if(!t.collapsed&&t.startOffset===0&&t.endOffset==c(t.endContainer)&&!(o==a&&v(o)&&o.parentNode==s)){var l=false,d=false;while(h(o)===0&&o==o.parentNode.firstChild&&o!=s){o=o.parentNode;l=true}while(h(a)==c(a.parentNode)-1&&a==a.parentNode.lastChild&&a!=s){a=a.parentNode;d=true}if(o==s&&a==s&&l&&d){t.setStart(o,0);t.setEnd(a,c(s))}}}return t}});function w(e){var t=e.duplicate(),i=e.duplicate();t.collapse(true);i.collapse(false);return g.commonAncestor(e.parentElement(),t.parentElement(),i.parentElement())}function y(e,t,i){var n=t[i?"startContainer":"endContainer"],r=t[i?"startOffset":"endOffset"],o=0,u=v(n),c=u?n:n.childNodes[r]||null,a=u?n.parentNode:n,s=t.ownerDocument,l=s.body.createTextRange(),d;if(n.nodeType==3||n.nodeType==4)o=r;if(!a)a=s.body;if(a.nodeName.toLowerCase()=="img"){l.moveToElementText(a);l.collapse(false);e.setEndPoint(i?"StartToStart":"EndToStart",l)}else{d=a.insertBefore(g.create(s,"a"),c);l.moveToElementText(d);g.remove(d);l[i?"moveStart":"moveEnd"]("character",o);l.collapse(false);e.setEndPoint(i?"StartToStart":"EndToStart",l)}}function C(e,t,u,i){var n=g.create(t.ownerDocument,"a"),r=e.duplicate(),c=i?"StartToStart":"StartToEnd",f,o,a,s,l,d,p,m=false;n.innerHTML="\ufeff";r.collapse(i);o=r.parentElement();if(!g.isAncestorOrSelf(u,o))o=u;do{if(m)o.insertBefore(n,n.previousSibling);else{o.appendChild(n);m=true}r.moveToElementText(n)}while((f=r.compareEndPoints(c,e))>0&&n.previousSibling);a=n.nextSibling;if(f==-1&&v(a)){r.setEndPoint(i?"EndToStart":"EndToEnd",e);g.remove(n);d=[a,r.text.length]}else{s=!i&&n.previousSibling;l=i&&n.nextSibling;if(v(l))d=[l,0];else if(v(s))d=[s,s.length];else{p=h(n);if(o.nextSibling&&p==o.childNodes.length-1)d=[o.nextSibling,0];else d=[o,p]}g.remove(n)}t[i?"setStart":"setEnd"].apply(t,d)}var x=e.extend({init:function(e){this.enumerate=function(){var t=[];function i(e){if(g.is(e,"img")||e.nodeType==3&&(!g.isEmptyspace(e)||e.nodeValue=="\ufeff"))t.push(e);else{e=e.firstChild;while(e){i(e);e=e.nextSibling}}}new a(e).traverse(i);return t}}}),_=a.extend({hasPartialSubtree:function(){var e=o.Immutables&&o.Immutables.immutable;return e&&!e(this._current)&&a.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new _(this.getSubRange())}}),T=e.extend({init:function(e){this.enumerate=function(){var t=[];var i=o.Immutables&&o.Immutables.immutable;function n(e){if(i&&!i(e))if(g.is(e,"img")||e.nodeType==3&&(!g.isEmptyspace(e)||e.nodeValue=="\ufeff"))t.push(e);else{e=e.firstChild;while(e){n(e);e=e.nextSibling}}}new _(e).traverse(n);return t}}}),N=e.extend({init:function(e,t,i){var n=this;n.range=e;n.rootNode=d.documentFromRange(e);n.body=t||n.getEditable(e);if(g.name(n.body)!="body")n.rootNode=n.body;n.startContainer=n.nodeToPath(e.startContainer);n.endContainer=n.nodeToPath(e.endContainer);n.startOffset=n.offset(e.startContainer,e.startOffset);n.endOffset=n.offset(e.endContainer,e.endOffset);n.immutables=i&&i.immutables;if(n.immutables)n.serializedImmutables=o.Immutables.removeImmutables(n.body);n.html=n.body.innerHTML;if(n.immutables&&!n.serializedImmutables.empty)o.Immutables.restoreImmutables(n.body,n.serializedImmutables)},index:function(e){var t=0,i=e.nodeType;while(e=e.previousSibling){var n=e.nodeType;if(n!=3||i!=n)t++;i=n}return t},getEditable:function(e){var t=e.commonAncestorContainer;while(t&&(t.nodeType==3||t.attributes&&(!t.attributes.contentEditable||t.attributes.contentEditable.nodeValue.toLowerCase()=="false")))t=t.parentNode;return t},restoreHtml:function(){var e=this;g.removeChildren(e.body);e.body.innerHTML=e.html;if(e.immutables&&!e.serializedImmutables.empty)o.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(e.nodeType==3)while((e=e.previousSibling)&&e.nodeType==3)t+=e.nodeValue.length;return t},nodeToPath:function(e){var t=[];while(e!=this.rootNode){t.push(this.index(e));e=e.parentNode}return t},toRangePoint:function(e,t,i,n){var r=this.rootNode,o=i.length,a=n;while(o--&&r)r=r.childNodes[i[o]];while(r&&r.nodeType==3&&r.nodeValue.length<a){a-=r.nodeValue.length;r=r.nextSibling}if(r&&a>=0)e[t?"setStart":"setEnd"](r,a)},toRange:function(){var e=this,t=e.range.cloneRange();e.toRangePoint(t,true,e.startContainer,e.startOffset);e.toRangePoint(t,false,e.endContainer,e.endOffset);return t}}),R=e.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;var i=t.caret=g.create(d.documentFromRange(e),"span",{className:"k-marker"});e.insertNode(i);g.stripBomNode(i.previousSibling);g.stripBomNode(i.nextSibling);e.selectNode(i);return i},removeCaret:function(e){var t=this,i=t.caret.previousSibling,n=0;if(i)n=v(i)?i.nodeValue.length:h(i);var r=t.caret.parentNode;var o=i?h(i):0;g.remove(t.caret);b(r);var a=r.childNodes[o];if(v(a))e.setStart(a,n);else if(a){var s=g.lastTextNode(a);if(s)e.setStart(s,s.nodeValue.length);else e[i?"setStartAfter":"setStartBefore"](a)}else{if(!l.msie&&!r.innerHTML)r.innerHTML='<br _moz_dirty="" />';e.selectNodeContents(r)}e.collapse(true)},add:function(e,t){var i=this;var n=e.collapsed&&!d.isExpandable(e);var r=d.documentFromRange(e);if(t&&e.collapsed){i.addCaret(e);e=d.expand(e)}var o=e.cloneRange();o.collapse(false);i.end=g.create(r,"span",{className:"k-marker"});o.insertNode(i.end);o=e.cloneRange();o.collapse(true);i.start=i.end.cloneNode(true);o.insertNode(i.start);i._removeDeadMarkers(i.start,i.end);if(n){var a=r.createTextNode("\ufeff");g.insertAfter(a.cloneNode(),i.start);g.insertBefore(a,i.end)}b(e.commonAncestorContainer);e.setStartBefore(i.start);e.setEndAfter(i.end);return e},_removeDeadMarkers:function(e,t){if(e.previousSibling&&e.previousSibling.nodeValue=="\ufeff")g.remove(e.previousSibling);if(t.nextSibling&&t.nextSibling.nodeValue=="\ufeff")g.remove(t.nextSibling)},_normalizedIndex:function(e){var t=h(e);var i=e;while(i.previousSibling){if(i.nodeType==3&&i.previousSibling.nodeType==3)t--;i=i.previousSibling}return t},remove:function(e){var t=this,i=t.start,n=t.end,r,o,u;b(e.commonAncestorContainer);while(!i.nextSibling&&i.parentNode)i=i.parentNode;while(!n.previousSibling&&n.parentNode)n=n.parentNode;r=i.previousSibling&&i.previousSibling.nodeType==3&&(i.nextSibling&&i.nextSibling.nodeType==3);o=n.previousSibling&&n.previousSibling.nodeType==3&&(n.nextSibling&&n.nextSibling.nodeType==3);u=r&&o;i=i.nextSibling;n=n.previousSibling;var a=i===n&&g.isBom(i);if(a&&i.length>1)i.nodeValue=i.nodeValue.charAt(0);var s=a;var l=false;if(i==t.end){l=!!t.start.previousSibling;i=n=t.start.previousSibling||t.end.nextSibling;s=true}g.remove(t.start);g.remove(t.end);if(!i||!n){e.selectNodeContents(e.commonAncestorContainer);e.collapse(true);return}var d=s?v(i)?i.nodeValue.length:i.childNodes.length:0;var c=v(n)?n.nodeValue.length:n.childNodes.length;if(i.nodeType==3)while(i.previousSibling&&i.previousSibling.nodeType==3){i=i.previousSibling;d+=i.nodeValue.length}if(n.nodeType==3)while(n.previousSibling&&n.previousSibling.nodeType==3){n=n.previousSibling;c+=n.nodeValue.length}var f=i.parentNode;var p=n.parentNode;var m=this._normalizedIndex(i);var h=this._normalizedIndex(n);b(f);if(i.nodeType==3)i=f.childNodes[m];b(p);if(n.nodeType==3)n=p.childNodes[h];if(s){if(i.nodeType==3)e.setStart(i,d);else e[l?"setStartAfter":"setStartBefore"](i);e.collapse(true)}else{if(i.nodeType==3)e.setStart(i,d);else e.setStartBefore(i);if(n.nodeType==3)e.setEnd(n,c);else e.setEndAfter(n)}if(t.caret)t.removeCaret(e)}}),S=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,d={nodes:function(e){var t=d.textNodes(e);if(!t.length){e.selectNodeContents(e.commonAncestorContainer);t=d.textNodes(e);if(!t.length)t=g.significantChildNodes(e.commonAncestorContainer)}return t},textNodes:function(e){var t=new x(e).enumerate(),i=t.filter(function(e){return g.allowsTextContent(e.parentElement)});return i},editableTextNodes:function(e){var t=[],i=o.Immutables&&o.Immutables.immutableParent,n=[];if(i&&!i(e.commonAncestorContainer)){t=new T(e).enumerate();n=t.filter(function(e){return g.allowsTextContent(e.parentElement)})}return n},documentFromRange:function(e){var t=e.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(e){return e.createRange()},selectRange:function(e){var t=d.image(e);if(t){e.setStartAfter(t);e.setEndAfter(t)}var i=s.selectionFromRange(e);i.removeAllRanges();i.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",g.name(e.startContainer),e.startOffset,g.name(e.endContainer),e.endOffset)},split:function(n,r,o){function e(e){var t=n.cloneRange();t.collapse(e);t[e?"setStartBefore":"setEndAfter"](r);var i=t.extractContents();if(o)i=g.trim(i);g[e?"insertBefore":"insertAfter"](i,r)}e(true);e(false)},mapAll:function(e,i){var n=[];new a(e).traverse(function(e){var t=i(e);if(t&&r.inArray(t,n)<0)n.push(t)});return n},getAll:function(e,t){var i=t;if(typeof t=="string")t=function(e){return g.is(e,i)};return d.mapAll(e,function(e){if(t(e))return e})},getMarkers:function(e){return d.getAll(e,function(e){return e.className=="k-marker"})},image:function(e){var t=d.getAll(e,"img");if(t.length==1)return t[0]},isStartOf:function(e,t){if(e.startOffset!==0)return false;var i=e.cloneRange();while(i.startOffset===0&&i.startContainer!=t){var n=g.findNodeIndex(i.startContainer);var r=i.startContainer.parentNode;while(n>0&&r[n-1]&&g.insignificant(r[n-1]))n--;i.setStart(r,n)}return i.startOffset===0&&i.startContainer==t},isEndOf:function(e,t){var i=e.cloneRange();i.collapse(false);var n=i.startContainer;if(g.isDataNode(n)&&i.startOffset==g.getNodeLength(n)){i.setStart(n.parentNode,g.findNodeIndex(n)+1);i.collapse(true)}i.setEnd(t,g.getNodeLength(t));var r=[];function o(e){if(!g.insignificant(e)&&!(g.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)))r.push(e)}new a(i).traverse(o);return!r.length},wrapSelectedElements:function(e){var t=g.editableParent(e.startContainer);var i=g.editableParent(e.endContainer);while(e.startOffset===0&&e.startContainer!=t)e.setStart(e.startContainer.parentNode,g.findNodeIndex(e.startContainer));function n(e,t){var i=g.getNodeLength(t);if(e==i)return true;for(var n=e;n<i;n++)if(!g.insignificant(t.childNodes[n]))return false;return true}while(n(e.endOffset,e.endContainer)&&e.endContainer!=i)e.setEnd(e.endContainer.parentNode,g.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange();var i=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1];var n=t.endContainer.childNodes[t.endOffset];if(!v(i)||!v(n))return t;var r=i.nodeValue;var o=n.nodeValue;if(!r||!o)return t;var a=r.split("").reverse().join("").search(S);var s=o.search(S);if(!a||!s)return t;s=s==-1?o.length:s;a=a==-1?0:r.length-a;t.setStart(i,a);t.setEnd(n,s);return t},isExpandable:function(e){var t=e.startContainer;var i=d.documentFromRange(e);if(t==i||t==i.body)return false;var n=e.cloneRange();var r=t.nodeValue;if(!r)return false;var o=r.substring(0,n.startOffset);var a=r.substring(n.startOffset);var s=0,l=0;if(o)s=o.split("").reverse().join("").search(S);if(a)l=a.search(S);return s&&l}};i(o,{SelectionUtils:s,W3CRange:u,RangeIterator:a,W3CSelection:k,RangeEnumerator:x,RestorePoint:N,Marker:R,RangeUtils:d})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/immutables.min",["./range.min"],function(){var a=window.kendo.jQuery,n=void 0,d=window.kendo,t=d.Class,r=d.ui.editor,u=r.Dom,f=d.template,o=r.RangeUtils,p=["ul","ol","tbody","thead","table"],m=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],s="k-immutable",h="["+s+"]",g="[contenteditable='false']",v=function(e){return a(e).is("body,.k-editor")},b=function(e){return e.getAttribute&&e.getAttribute("contenteditable")=="false"},l=function(e){return u.closestBy(e,b,v)},k=function(e){var t=l(e.startContainer);var i=l(e.endContainer);if(t||i){if(t)e.setStartBefore(t);if(i)e.setEndAfter(i)}},c=function(e){if(l(e.commonAncestorContainer))return true;else if(l(e.startContainer)||l(e.endContainer)){var t=o.editableTextNodes(e);if(t.length===0)return true}return false},w=function(e){var t="";var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=e||10;n>0;--n)t+=i.charAt(Math.round(Math.random()*(i.length-1)));return t},y=function(e){var i={empty:true},n,r,o;a(e).find(g).each(function(e,t){n=u.name(t);r=w();o="<"+n+" "+s+"='"+r+"'></"+n+">";i[r]={node:t,style:a(t).attr("style")};i.empty=false;a(t).replaceWith(o)});return i},C=function(e,i){var n,r;a(e).find(h).each(function(e,t){n=t.getAttribute(s);r=i[n];a(t).replaceWith(r.node);if(r.style!=a(r.node).attr("style"))a(r.node).removeAttr("style").attr("style",r.style)})},x=function(e){var t=d.keys;return e===t.BACKSPACE||e==t.DELETE},i=function(e){var t=e?e.options:n;if(t&&t.finder)t.finder._initOptions({immutables:true})},e=t.extend({init:function(e){this.editor=e;this.serializedImmutables={};this.options=a.extend({},e&&e.options&&e.options.immutables);var t=e.toolbar.tools;i(t.justifyLeft);i(t.justifyCenter);i(t.justifyRight);i(t.justifyFull)},serialize:function(e){var t=this._toHtml(e),i;if(t.indexOf(s)===-1){i=this.randomId();t=t.replace(/>/," "+s+'="'+i+'">')}else i=t.match(/k-immutable\s*=\s*['"](.*)['"]/)[1];this.serializedImmutables[i]=e;return t},_toHtml:function(e){var t=this.options.serialization;var i=typeof t;var n;switch(i){case"string":return f(t)(e);case"function":return t(e);default:n=u.name(e);return"<"+n+"></"+n+">"}},deserialize:function(e){var i=this;var n=this.options.deserialization;a(h,e).each(function(){var e=this.getAttribute(s);var t=i.serializedImmutables[e];if(d.isFunction(n))n(this,t);a(this).replaceWith(t)});i.serializedImmutables={}},randomId:function(e){return w(e)},keydown:function(e,t){var i=x(e.keyCode);var n=i&&this._cancelDeleting(e,t)||!i&&this._cancelTyping(e,t);if(n){e.preventDefault();return true}},_cancelTyping:function(e,t){var i=this.editor;var n=i.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&c(t)},_cancelDeleting:function(e,t){var i=d.keys;var n=e.keyCode===i.BACKSPACE;var r=e.keyCode==i.DELETE;if(!n&&!r)return false;var o=false;if(t.collapsed){if(c(t))return true;var a=this.nextImmutable(t,r);if(a&&n){var s=u.closest(t.commonAncestorContainer,"li");if(s){var l=u.closest(a,"li");if(l&&l!==s)return o}}if(a&&!u.tableCell(a)){if(u.parentOfType(a,p)===u.parentOfType(t.commonAncestorContainer,p)){while(a&&a.parentNode.childNodes.length==1)a=a.parentNode;if(u.tableCell(a))return o;this._removeImmutable(a,t)}o=true}}return o},nextImmutable:function(e,t){var i=e.commonAncestorContainer;if(u.isBom(i)||(t&&o.isEndOf(e,i)||!t&&o.isStartOf(e,i))){var n=this._nextNode(i,t);if(n&&u.isBlock(n)&&!l(n))while(n&&n.children&&n.children[t?0:n.children.length-1])n=n.children[t?0:n.children.length-1];return l(n)}},_removeImmutable:function(e,t){var i=this.editor;var n=new r.RestorePoint(t,i.body);u.remove(e);r._finishUpdate(i,n)},_nextNode:function(e,t){var i=t?"nextSibling":"previousSibling";var n=e,r;while(n&&!r){r=n[i];if(r&&u.isDataNode(r)&&/^\s|[\ufeff]$/.test(r.nodeValue)){n=r;r=n[i]}if(!r)n=n.parentNode}return r}});e.immutable=b,e.immutableParent=l,e.expandImmutablesIn=k,e.immutablesContext=c,e.toolsToBeUpdated=m,e.removeImmutables=y,e.restoreImmutables=C,r.Immutables=e})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/command.min",["./immutables.min"],function(){var n=window.kendo.jQuery,r=window.kendo,e=r.Class,t=r.ui.editor,i=t.Dom,o=t.RestorePoint,a=t.Marker,s=n.extend;function l(e,t){var i=e.selectionRestorePoint=new o(e.getRange(),e.body);var n=new d(t,i);n.editor=e;e.undoRedoStack.push(n);e.toolbar.refreshTools();return i}var u=e.extend({init:function(e){this.options=e;this.restorePoint=new o(e.range,e.body,{immutables:e.immutables});this.marker=new a;this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e);this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml();this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(e,t){var i=this.editor;return n(e).appendTo(document.body).kendoWindow(s({},i.options.dialogOptions,t)).closest(".k-window").toggleClass("k-rtl",r.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(e);this.releaseRange(e)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){if(this.immutables()){r.ui.editor.Immutables.expandImmutablesIn(e);this.restorePoint=new o(e,this.editor.body)}}}),d=e.extend({init:function(e,t){this.body=e.body;this.startRestorePoint=e;this.endRestorePoint=t},redo:function(){i.removeChildren(this.body);this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){i.removeChildren(this.body);this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});s(t,{_finishUpdate:l,Command:u,GenericCommand:d})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/toolbar.min",["./range.min"],function(){var k=window.kendo.jQuery,p=void 0,w=window.kendo,e=w.ui,c=e.editor,n=e.Widget,l=k.extend,u=w.keys,s=".kendoEditor",t=c.EditorUtils,i=c.ToolTemplate,r=c.Tool,o=w._outerWidth,d=w._outerHeight,y="overflowAnchor",f=".k-tool-group:visible .k-tool:not(.k-disabled):not([disabled]),"+".k-tool.k-overflow-anchor:visible,"+".k-tool-group:visible .k-colorpicker:not(input),"+".k-tool-group:visible .k-selectbox,"+".k-tool-group:visible .k-dropdownlist,"+".k-tool-group:visible .k-combobox .k-input-inner",a={"k-i-sup-script":"superscript","k-i-sub-script":"subscript","k-i-align-left":"justifyLeft","k-i-align-center":"justifyCenter","k-i-align-right":"justifyRight","k-i-align-justify":"justifyFull","k-i-list-unordered":"insertUnorderedList","k-i-list-ordered":"insertOrderedList","k-i-list-roman-upper":"insertUpperRomanList","k-i-list-roman-lower":"insertLowerRomanList","k-i-import":"import","k-i-indent-increase":"indent","k-i-indent-decrease":"outdent","k-i-link-horizontal":"createLink","k-i-unlink-horizontal":"unlink","k-i-image":"insertImage","k-i-file-add":"insertFile","k-i-html":"viewHtml","k-i-foreground-color":"foreColor","k-i-paint":"backColor","k-i-table-insert":"createTable","k-i-table-column-insert-left":"addColumnLeft","k-i-table-column-insert-right":"addColumnRight","k-i-table-row-insert-above":"addRowAbove","k-i-table-row-insert-below":"addRowBelow","k-i-table-row-delete":"deleteRow","k-i-table-column-delete":"deleteColumn","k-i-table-properties":"tableWizard","k-i-table-wizard":"tableWizardInsert","k-i-table-position-left":"tableAlignLeft","k-i-table-position-center":"tableAlignCenter","k-i-table-position-right":"tableAlignRight","k-i-clear-css":"cleanFormatting","k-i-cells-merge-horizontally":"mergeCellsHorizontally","k-i-cells-merge-vertically":"mergeCellsVertically","k-i-cell-split-horizontally":"splitCellHorizontally","k-i-cell-split-vertically":"splitCellVertically","k-i-copy-format":"copyFormat","k-i-apply-format":"applyFormat",".k-i-undo":"undo","k-i-redo":"redo"},m=r.extend({initialize:function(e,t){var i=t.editor.toolbar;e.attr("aria-controls",t.editor.element.attr("id")).on("click",function(){this.overflowPopup.toggle()}.bind(i))},options:{name:y},command:k.noop,update:k.noop,destroy:k.noop}),h=(t.registerTool(y,new m({key:"",ctrl:true,template:new i({template:t.overflowAnchorTemplate})})),n.extend({init:function(e,t){var i=this;t=l({},t,{name:"EditorToolbar"});n.fn.init.call(i,e,t);if(t.popup)i._initPopup();if(t.resizable&&t.resizable.toolbar){i._resizeHandler=w.onResize(function(){i.resize(true)});i.element.addClass("k-toolbar-resizable")}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],undo:["undo","redo"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","insertUpperRomanList","insertLowerRomanList","indent","outdent"],tablesInsert:["createTable"],tablesAddDelete:["addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],tablesMerge:["mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],tablesPosition:["tableAlignLeft","tableAlignCenter","tableAlignRight"],advanced:["viewHtml","cleanFormatting","print","pdf","exportAs","import"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"],formatPainter:["copyFormat","applyFormat"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){var t=this;this.window=k(this.element).wrap("<div class='editorToolbarWindow' />").parent().prepend("<span class='k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag'></span></span>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(e){if(!k(e.target).is(".k-icon"))t.preventPopupHide=true}).on("focusout",function(){t.options.editor.element.focusout()}).data("kendoWindow")},_toggleOverflowStyles:function(e,t){e.find("> li").toggleClass("k-item",t).find(".k-tool:not(.k-disabled), .k-overflow-button").toggleClass("k-overflow-button",t)},_initOverflowPopup:function(t){var i=this;var e="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";i.overflowPopup=k(e).appendTo("body").kendoPopup({anchor:t,origin:w.support.isRtl(i.element)?"bottom left":"bottom right",position:w.support.isRtl(i.element)?"top left":"top right",copyAnchorStyles:false,open:function(e){if(this.element.is(":empty"))e.preventDefault();i._toggleOverflowStyles(this.element,true);t.attr("aria-expanded",true)},close:function(){t.attr("aria-expanded",false)},activate:i.focusOverflowPopup.bind(i)}).data("kendoPopup")},items:function(){var e=this.options.resizable&&this.options.resizable.toolbar,t,i;i=this.element.children().find("> *, select");if(e){t=this.overflowPopup;i=i.add(t.element.children().find("> *"))}return i},focused:function(){var e=w._activeElement(),t=this.window,i=this.overflowPopup;return t&&k(e).closest(t.wrapper).length||i&&i.visible()},toolById:function(e){var t,i=this.tools;for(t in i)if(t.toLowerCase()==e)return i[t]},toolGroupFor:function(e){var t,i=this.groups;if(this.isCustomTool(e))return"custom";for(t in i)if(k.inArray(e,i[t])>=0)return t},bindTo:function(l){var d=this,e=d.window;if(d._editor)d._editor.unbind("select",d.resize.bind(d));d._editor=l;if(d.options.resizable&&d.options.resizable.toolbar)l.options.tools.push(y);d.tools=d.expandTools(l.options.tools);d.render();d.element.find(".k-combobox .k-input-inner").on("keydown",function(e){var t=k(this).closest(".k-combobox").data("kendoComboBox"),i=e.keyCode;if(i==u.RIGHT||i==u.LEFT)t.close();else if(i==u.DOWN)if(!t.dropDown.isOpened()){e.stopImmediatePropagation();t.open()}});d._attachEvents();d.items().each(function e(){var t=d._toolName(this),i=t!=="moreVertical"?d.tools[t]:d.tools.overflowAnchor,n=i&&i.options,r=l.options.messages,o=n&&n.tooltip||r[t],a=k(this);if(!i||!i.initialize)return;if(t=="fontSize"||t=="fontName"){var s=r[t+"Inherit"];a.find("input").val(s).end().find("span.k-input-inner").text(s).end()}i.initialize(a,{title:d._appendShortcutSequence(o,i),editor:d._editor});a.closest(".k-dropdownlist",d.element).addClass("k-editor-widget");a.closest(".k-combobox",d.element).addClass("k-editor-widget");a.closest(".k-colorpicker",d.element).next(".k-colorpicker").addClass("k-editor-widget")});l.bind("select",d.resize.bind(d));d.update();if(e)e.wrapper.css({top:"",left:"",width:""})},show:function(){var e=this,t=e.window,i=e.options.editor,n,r,o,a=w.support.browser;if(t){n=t.wrapper;r=i.element;if(!n.is(":visible")||!e.window.options.visible){if(!n[0].style.width)n.width(this._getWindowWidth());if(!t._moved){o=r.offset();n.css({top:Math.max(0,parseInt(o.top,10)-d(n)-parseInt(e.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(o.left,10))})}if((a.msie||a.edge)&&e._overlaps(r))setTimeout(function(){t.open()},0);else t.open()}}},_getWindowWidth:function(){var e=this,t=e.window.wrapper,i=e.options.editor.element;return o(i)-parseInt(t.css("border-left-width"),10)-parseInt(t.css("border-right-width"),10)},_overlaps:function(e){var t=this.window.wrapper,i=t.offset(),n=i.left,r=i.top,o=e.offset(),a=o.left,s=o.top;return!(a+e.width()<n||a>n+t.width()||s+e.height()<r||s>r+t.height())},hide:function(){if(this.window)this.window.close()},focus:function(){var e="tabIndex";var t=this.element;var i=this._editor.element.attr(e);t.attr(e,i||0).trigger("focus").find(f).first().trigger("focus");if(!i&&i!==0)t.removeAttr(e)},focusOverflowPopup:function(){var e="tabIndex";var t=this.overflowPopup.element;var i=this._editor.element.attr(e);t.closest(".k-animation-container").addClass("k-overflow-wrapper");t.attr(e,i||0).find(f).first().trigger("focus");if(!i&&i!==0)t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var i=e+" (";if(t.ctrl)i+="Ctrl + ";if(t.shift)i+="Shift + ";if(t.alt)i+="Alt + ";i+=t.key+")";return i},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function(e){return!(e in w.ui.Editor.defaultTools)},expandTools:function(e){var t,i,n=this._nativeTools,r,o=w.deepExtend({},w.ui.Editor.defaultTools),a={},s;for(i=0;i<e.length;i++){t=e[i];s=t.name;if(k.isPlainObject(t))if(s&&o[s]){a[s]=l({},o[s]);l(a[s].options,t)}else{r=l({cssClass:"k-i-gear",type:"button",title:""},t);if(!r.name)r.name="custom";r.cssClass="k-"+r.name;if(!r.template&&r.type=="button"){r.template=c.EditorUtils.buttonTemplate;r.title=r.title||r.tooltip}a[s]={options:r}}else if(o[t])a[t]=o[t]}for(i=0;i<n.length;i++)if(!a[n[i]])a[n[i]]=o[n[i]];return a},render:function(){var e=this,u=e.tools,i,t,c,n,f=e._editor.element,p=e.element.empty(),m,r,o=e._editor.options.tools,a,s,h=0,g=e.options.resizable&&e.options.resizable.toolbar,l=this.overflowFlaseTools;function v(e){var t="";if(e.getHtml)t=e.getHtml();else{if(!w.isFunction(e))e=w.template(e);t=e(i)}return w.trim(t)}function d(){if(a.children().length){if(g){a.data("position",h);h++}a.appendTo(p)}}function b(e){if(e!==y){a=k("<li class='k-tool-group' role='presentation' />");a.data("overflow",k.inArray(e,l)===-1?true:false)}else a=k("<li class='k-overflow-tools' />")}p.empty();if(o.length)n=o[0].name||o[0];b(n,l);for(s=0;s<o.length;s++){n=o[s].name||o[s];i=u[n]&&u[n].options;if(!i&&k.isPlainObject(n))i=n;t=i&&i.template;if(n=="break"){d();k("<li class='k-row-break' role='presentation' />").appendTo(e.element);b(n,l)}if(!t)continue;r=e.toolGroupFor(n);if(m!=r||n==y){d();b(n,l);m=r}if(n==y)t.options.title=e.options.messages.overflowAnchor;t=v(t);c=k(t).appendTo(a);if(r=="custom"){d();b(n,l)}if(i.exec&&c.hasClass("k-tool"))c.on("click",i.exec.bind(f[0]))}d();k(e.element).children(":has(> .k-tool)").not(".k-overflow-tools").addClass("k-button-group");e.updateGroups();if(g)e._initOverflowPopup(e.element.find(".k-overflow-anchor"));e.angular("compile",function(){return{elements:e.element}})},updateGroups:function(){k(this.element).children().not(".k-overflow-tools").each(function(){k(this).children().removeClass("k-group-start k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var e=k(this).data("kendoSelectBox");if(e)e.decorate(t)})},destroy:function(){n.fn.destroy.call(this);var e,t=this.tools;for(e in t)if(t[e].destroy)t[e].destroy();if(this.window)this.window.destroy();if(this._resizeHandler)w.unbindResize(this._resizeHandler);if(this.overflowPopup)this.overflowPopup.destroy()},_attachEvents:function(){var e=this,t=e.overflowPopup?e.overflowPopup.element:k([]);e.attachToolsEvents(e.element.add(t))},attachToolsEvents:function(e){var d=this,t="[role=button].k-tool",i=t+":not(.k-disabled)"+", [role=button].k-i-import:not(.k-disabled)",n=t+".k-disabled",r=".k-dropdownlist",o=".k-colorpicker",a=[t,r,o].join(",");e.off(s).on("mouseenter"+s,i,function(){k(this).addClass("k-hover")}).on("mouseleave"+s,i,function(){k(this).removeClass("k-hover")}).on("mousedown"+s,a,function(e){e.preventDefault()}).on("keydown"+s,f,function(e){var o=this;var t=d.options.resizable&&d.options.resizable.toolbar;var i=w.support.isRtl(d.element)?-1:1;var n;var r,a,s=e.keyCode;function l(e,t,i){var n=t.find(f);var r=n.index(o)+e;if(i)r=Math.max(0,Math.min(n.length-1,r));return n[r]}if(s==u.RIGHT||s==u.LEFT)if(!k(o).is(".k-dropdownlist"))r=l(s==u.RIGHT?1*i:-1*i,d.element,true);else r=k(o);else if(t&&(s==u.UP||s==u.DOWN))r=l(s==u.DOWN?1:-1,d.overflowPopup.element,true);else if(s==u.HOME){r=d.element.find(f)[0];e.preventDefault()}else if(s==u.END){n=d.element.find(f).filter(function(){return k(this).css("visibility")!=="hidden"});r=n[n.length-1];e.preventDefault()}else if(s==u.ESC){if(d.overflowPopup&&d.overflowPopup.visible())d.overflowPopup.close();r=d._editor}else if(s==u.TAB&&!(e.ctrlKey||e.altKey)){if(t)a=k(o.parentElement).hasClass("k-overflow-tool-group")?d.overflowPopup.element:d.element;else a=d.element;if(e.shiftKey)r=l(-1,a);else{r=l(1,a);if(!r||k(r).closest(".k-overflow-tools").css("visibility")==="hidden")r=d._editor}}if(r){e.preventDefault();r.focus()}if((s===u.ENTER||s===u.SPACEBAR)&&(k(o).is("button")||k(o).is("a"))&&!k(o).attr("href"))d._executeToolCommand(o,e)}).on("click"+s,i,function(e){d._executeToolCommand(this,e)}).on("click"+s,n,function(e){e.preventDefault()})},_executeToolCommand:function(e,t){var i=this;var n=k(e);t.preventDefault();t.stopPropagation();n.removeClass("k-hover");if(!n.is("[data-popup]"))i._editor.exec(i._toolName(e))},_toolName:function(e){if(!e)return;var t=e.className;if(/k-tool\b/i.test(t))t=e.firstChild.className;var i=k.grep(t.split(" "),function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)});if(i[0]){var n=i[0];if(a[n])n=a[n];if(n.indexOf("k-i-")>=0)return w.toCamelCase(n.substring(n.indexOf("k-i-")+4));else return n.substring(n.lastIndexOf("-")+1)}return"custom"},refreshTools:function(){var i=this,n=i._editor,e=n.getRange(),r=c.RangeUtils.textNodes(e),o=n.options.immutables,a=i._immutablesContext(e);r=c.Dom.filterBy(r,c.Dom.htmlIndentSpace,true);if(!r.length)r=[e.startContainer];i.items().each(function(){var e=i.tools[i._toolName(this)];if(e){var t=k(this);if(e.update)e.update(t,r,n.undoRedoStack);if(o)i._updateImmutablesState(e,t,a)}});this.update()},_immutablesContext:function(e){if(this._editor.options.immutables)if(e.collapsed)return c.Immutables.immutablesContext(e);else return c.RangeUtils.editableTextNodes(e).length===0},_updateImmutablesState:function(e,t,i){var n=e.name;var r=t;var o=e.options.trackImmutables;if(o===p)o=k.inArray(n,c.Immutables.toolsToBeUpdated)>-1;if(o){var a=i?"none":"";if(!t.is(".k-tool")){var s=t.data();for(var l in s)if(l.match(/^kendo[A-Z][a-zA-Z]*/)){var u=s[l];r=u.wrapper;break}}r.css("display",a);var d=r.closest("li");if(d.children(":visible").length===0)d.css("display",a)}},update:function(){this.updateGroups()},_resize:function(e){var t=e.width;var i=this.options.resizable&&this.options.resizable.toolbar;var n=this.overflowPopup;var r=this.options.editor.element;var o=this.window;this.refreshTools();if(!i)return;if(o){o.wrapper.width(this._getWindowWidth());if(!o._moved)o.wrapper.css({left:Math.max(0,parseInt(r.offset().left,10))})}if(n.visible())n.close(true);this._refreshWidths();this._shrink(t);this._stretch(t);this._toggleOverflowStyles(this.element,false);this._toggleOverflowStyles(this.overflowPopup.element,true);this.element.children("li.k-overflow-tools").css("visibility",n.element.is(":empty")?"hidden":"visible")},_refreshWidths:function(){this.element.children("li").each(function(e,t){var i=k(t);i.data("outerWidth",o(i,true))})},_shrink:function(e){var t,i;if(e<this._groupsWidth()){i=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var n=i.length-1;n>=0;n--){t=i.eq(n);if(e>this._groupsWidth())break;else this._hideGroup(t)}}},_stretch:function(e){var t,i;if(e>this._groupsWidth()){i=this._hiddenGroups();for(var n=0;n<i.length;n++){t=i.eq(n);if(e<this._groupsWidth()||!this._showGroup(t,e))break}}},_hiddenGroups:function(){var e=this.overflowPopup;var t=this.element.children("li.k-tool-group").filter(":hidden");t=t.add(e.element.children("li"));t.sort(function(e,t){return k(e).data("position")>k(t).data("position")?1:-1});return t},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var e=0;this._visibleGroups().each(function(){e+=k(this).data("outerWidth")});return Math.ceil(e)},_hideGroup:function(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group")}else e.addClass("k-hidden")},_showGroup:function(e,t){var i,n,r;if(e.hasClass("k-disabled"))return true;if(e.hasClass("k-overflow-tool-group"))r=e.data("outerWidth");else{e.removeClass("k-hidden");r=o(e,true);e.addClass("k-hidden")}if(e.length&&t>this._groupsWidth()+r){if(e.hasClass("k-overflow-tool-group")){i=e.data("position");if(i===0)e.detach().prependTo(this.element);else{n=this.element.children().filter(function(e,t){return k(t).data("position")===i-1});e.detach().insertAfter(n)}e.removeClass("k-overflow-tool-group")}else e.removeClass("k-hidden");return true}return false}}));k.extend(c,{Toolbar:h})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/viewhtml.min",["../command.min"],function(){var u=window.kendo.jQuery,c=void 0,f=window.kendo,e=u.extend,t=f.ui.editor,p=t.EditorUtils,i=t.Command,n=t.Tool,r=t.ToolTemplate,h=t.Dom,m=i.extend({init:function(e){var t=this;t.options=e;i.fn.init.call(t,e);t.attributes=null;t.async=true},exec:function(){var t=this,i=t.editor,n=i.options,e=i.options.messages,r=u(f.template(m.template)(e)).appendTo(document.body),o=".k-editor-textarea > textarea",a,s;n.serialization.immutables=i.immutables;s=h.getAllComments(i.body);a=p.cacheComments(i.value(),s);a=m.indent(a);a=p.retrieveComments(a,s);n.serialization.immutables=c;function l(e){n.deserialization.immutables=i.immutables;i.value(r.find(o).val());n.deserialization.immutables=c;d(e);if(t.change)t.change();i.trigger("change")}function d(e){e.preventDefault();r.data("kendoWindow").destroy();if(i.immutables)i.immutables.serializedImmutables={};i.focus()}this.createDialog(r,{title:e.viewHtml,width:600,height:400,resizable:true,close:d,visible:false}).find(o).val(a).end().find(".k-dialog-update").on("click",l).end().find(".k-dialog-close").on("click",d).end().data("kendoWindow").center().open();r.find(o).trigger("focus")}});e(m,{template:""+"<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'>"+"<span class='k-input k-textarea k-input-solid k-input-md k-rounded-md k-editor-textarea'><textarea class='k-input-inner !k-overflow-auto !k-resize-none'></textarea></span>"+"<div class='k-edit-buttons'>"+"<button class='k-dialog-update k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary'><span class='k-button-text'>#: dialogUpdate #</span></button>"+"<button class='k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class='k-button-text'>#: dialogCancel #</span></button>"+"</div>"+"</div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.EditorUtils.registerTool("viewHtml",new n({command:f.ui.editor.ViewHtmlCommand=m,template:new r({template:p.buttonTemplate,title:"View HTML"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/format.min",["../command.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=e.extend,n=t.ui.editor,r=n.Tool,o=n.Command,a=n.EditorUtils,s=o.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;if(t&&a.formatByName("immutable",t.format))t._initOptions({immutables:e.immutables});o.fn.init.call(this,e)}}),l=r.extend({init:function(e){r.fn.init.call(this,e)},command:function(e){var t=this;return new s(i(e,{formatter:t.options.formatter}))},update:function(e,t){var i=this.options.finder.isFormatted(t);e.toggleClass("k-selected",i);e.attr("aria-pressed",i)}});e.extend(n,{FormatCommand:s,FormatTool:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/inlineformat.min",["./format.min"],function(){var c=window.kendo.jQuery,h=window.kendo,o=h.Class,r=h.ui.editor,e=h.ui.Editor.fn.options.formats,l=r.EditorUtils,d=r.Tool,t=r.ToolTemplate,a=r.FormatTool,g=r.Dom,s=r.RangeUtils,u=c.extend,i=r.EditorUtils.registerTool,f=r.EditorUtils.registerFormat,p="mousedown.kendoEditor",m="keydown.kendoEditor",v="k-marker",b=o.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t=0,i=0,n=0,r=e.parentNode,o;for(o=r.firstChild;o;o=o.nextSibling)if(o!=e)if(o.className==v)n++;else if(o.nodeType==3)t++;else i++;if(n>1&&r.firstChild.className==v&&r.lastChild.className==v)return 0;else return i+t},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;var i=e.parentNode;var n=this.format[0].tags;while(!g.ofType(i,n)){if(this.numberOfSiblings(i)>0)return null;i=i.parentNode}return i},findFormat:function(e){var t=this.format,i=g.attrEquals,n,r,o,a,s;for(n=0,r=t.length;n<r;n++){o=e;a=t[n].tags;s=t[n].attr;if(o&&g.ofType(o,a)&&i(o,s))return o;while(o){o=g.parentOfType(o,a);if(o&&i(o,s))return o}}return null},isFormatted:function(e){var t,i;for(t=0,i=e.length;t<i;t++)if(this.findFormat(e[t]))return true;return false}}),k=o.extend({init:function(e,t){this.finder=new b(e);this.attributes=u({},e[0].attr,t);this.tag=e[0].tags[0]},wrap:function(e){return g.wrap(e,g.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){if(this.finder.isFormatted(t)){this.split(e);this.remove(t)}else this.apply(t)},toggle:function(e){var t=this.immutables()?s.editableTextNodes:s.textNodes;var i=t(e);if(i.length>0)this.activate(e,i)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t=[];var i,n,r,o;if(e.length>1)for(i=0,n=e.length;i<n;i++){r=e[i];o=this.format(r,true);t.push(o)}else{r=e[0];o=this.format(r,false)}this.consolidate(t)},format:function(e,t){var i=this.finder.findSuitable(e);var n=this.attributes;var r=n?n.style||{}:{};if(i){if(g.is(i,"font")){if(r.color)i.removeAttribute("color");if(r.fontName)i.removeAttribute("face");if(r.fontSize)i.removeAttribute("size")}g.attr(i,n)}else{while(!g.isBlock(e.parentNode)&&e.parentNode.childNodes.length==1&&e.parentNode.contentEditable!=="true"&&t)e=e.parentNode;i=this.wrap(e)}return i},remove:function(e){var t,i,n;for(t=0,i=e.length;t<i;t++){n=this.finder.findFormat(e[t]);if(n)if(this.attributes&&this.attributes.style){g.unstyle(n,this.attributes.style);if(!n.style.cssText&&!n.attributes["class"])g.unwrap(n)}else g.unwrap(n)}},split:function(e){var t=s.textNodes(e);var i=t.length;var n,r;if(i>0)for(n=0;n<i;n++){r=this.finder.findFormat(t[n]);if(r)s.split(e,r,true)}},consolidate:function(e){var t,i;while(e.length>1){t=e.pop();i=e[e.length-1];if(t.previousSibling&&t.previousSibling.className==v)i.appendChild(t.previousSibling);if(t.tagName==i.tagName&&t.previousSibling==i&&t.style.cssText==i.style.cssText&&t.className===i.className){while(t.firstChild)i.appendChild(t.firstChild);g.remove(t)}}}}),w=b.extend({init:function(e,t,i){this.format=e;this.greedyProperty=t;this.fontAttr=i;b.fn.init.call(this,e)},getInlineCssValue:function(u){var e=u.attributes;var t=h.trim;var i,c,n,r,f,o,a,s,p;var m,l,d;if(!e)return;for(i=0,c=e.length;i<c;i++){n=e[i];r=n.nodeName;f=n.nodeValue;if(n.specified&&r=="style"){o=t(f||u.style.cssText).split(";");for(s=0,p=o.length;s<p;s++){a=o[s];if(a.length){m=a.split(":");l=t(m[0].toLowerCase());d=t(m[1]);if(l!=this.greedyProperty)continue;return l.indexOf("color")>=0?g.toHex(d):d}}}if(this.fontAttr&&n.specified&&r==this.fontAttr){l=n.nodeValue;d=n.nodeValue;return l.indexOf("color")>=0?g.toHex(d):d}}},getFormatInner:function(e){var t=c(g.isDataNode(e)?e.parentNode:e);var i=t.parentsUntil("[contentEditable]").addBack().toArray().reverse();var n,r,o;for(n=0,r=i.length;n<r;n++){o=this.greedyProperty=="className"?i[n].className:this.getInlineCssValue(i[n]);if(o)return o}return"inherit"},getFormat:function(e){var t=this.getFormatInner(e[0]),i,n;for(i=1,n=e.length;i<n;i++)if(t!=this.getFormatInner(e[i]))return"";return t},isFormatted:function(e){return this.getFormat(e)!==""}}),y=k.extend({init:function(e,t,i){k.fn.init.call(this,e,t);this.values=t;this.finder=new w(e,i);if(i)this.greedyProperty=h.toCamelCase(i)},activate:function(e,t){var i=this.greedyProperty;var n="apply";this.split(e);if(i&&this.values.style[i]=="inherit")n="remove";this[n](t)}}),n=a.extend({init:function(e){a.fn.init.call(this,u(e,{finder:new b(e.format),formatter:function(){return new k(e.format)}}))}}),C=d.extend({update:function(e,t){var i=e.data(this.type);i.close();i.value(this.finder.getFormat(t))}}),x=C.extend({init:function(e){d.fn.init.call(this,e);this.type=h.support.browser.msie||h.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span","font"]}];this.finder=new w(this.format,e.cssAttr,e.fontAttr)},command:function(e){var t=this.options,i=this.format,n={};return new r.FormatCommand(u(e,{formatter:function(){n[t.domAttr]=e.value;return new y(i,{style:n},t.cssAttr)}}))},initialize:function(e,t){var i=t.editor,n=this.options,r=n.name,o,a,s=[];if(n.defaultValue)s=[{text:i.options.messages[n.defaultValue[0].text],value:n.defaultValue[0].value}];o=s.concat(n.items?n.items:i.options[r]||[]);e.attr({title:t.title});e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:o,change:function(){i._range=a;d.exec(i,r,this.value())},close:function(){setTimeout(function(){i._deleteSavedRange()},0)},highlightFirst:false});e.closest(".k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on");var l=e.data(this.type);l.value("inherit");l.wrapper.on(p,".k-select,.k-input-button,.k-input",function(){var e=i.getRange();a=i._containsRange(e)?e:a}).on(m,function(e){if(e.keyCode===h.keys.ENTER){i._deleteSavedRange();e.preventDefault()}})}}),_=d.extend({init:function(e){d.fn.init.call(this,e);this.format=[{tags:["span","font"]}];this.finder=new w(this.format,e.cssAttr)},options:{palette:"websafe",columns:18},update:function(){this._widget.close()},command:function(e){var t=this.options,i=this.format,n={};return new r.FormatCommand(u(e,{formatter:function(){n[t.domAttr]=e.value;return new y(i,{style:n},t.cssAttr)}}))},initialize:function(t,e){var i=this,n=e.editor,r=this.name,o=u({},_.fn.options,this.options),a=o.palette,s=o.columns;t=this._widget=new h.ui.ColorPicker(t,{closeOnSelect:true,views:["palette"],preview:false,input:false,buttons:false,toolIcon:"k-icon k-i-"+l.getToolCssClass(o.name),palette:a,columns:s,change:function(){var e=t.value();if(h.support.browser.msie&&i.storedRange&&i._inputFocused)n.selectRange(i.storedRange);if(e)d.exec(n,r,e);delete i.storedRange;delete i._inputFocused;n.focus()},open:function(e){var t=e.sender;i.storedRange=n.getRange();t._popup.element.on(p,function(e){if(!c(e.target).is("input.k-color-value"))e.preventDefault()});if(!t._popup.element.is("[unselectable='on']"))t._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",function(){i._inputFocused=true});setTimeout(function(){t._popup.element.find(".k-colorpalette").trigger("focus")})},close:function(e){e.sender._popup.element.off(p);if(h.support.browser.msie&&i.storedRange&&i._inputFocused)n.selectRange(i.storedRange)},activate:function(e){e.preventDefault();if(e.sender._value.toCssRgba()==="rgba(255, 255, 255, 0)")return;t.trigger("change")}});t.wrapper.attr({title:e.title,unselectable:"on"}).find("*:not(input)").attr("unselectable","on");t.value("transparent")}});u(r,{InlineFormatFinder:b,InlineFormatter:k,DelayedExecutionTool:C,GreedyInlineFormatFinder:w,GreedyInlineFormatter:y,InlineFormatTool:n,FontTool:x,ColorTool:_}),f("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),i("bold",new n({key:"B",ctrl:true,format:e.bold,template:new t({template:l.buttonTemplate,title:"Bold"})})),f("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),i("italic",new n({key:"I",ctrl:true,format:e.italic,template:new t({template:l.buttonTemplate,title:"Italic"})})),f("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),i("underline",new n({key:"U",ctrl:true,format:e.underline,template:new t({template:l.buttonTemplate,title:"Underline"})})),f("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),i("strikethrough",new n({format:e.strikethrough,template:new t({template:l.buttonTemplate,title:"Strikethrough"})})),f("superscript",[{tags:["sup"]}]),i("superscript",new n({format:e.superscript,template:new t({template:l.buttonTemplate,title:"Superscript"})})),f("subscript",[{tags:["sub"]}]),i("subscript",new n({format:e.subscript,template:new t({template:l.buttonTemplate,title:"Subscript"})})),i("foreColor",new _({cssAttr:"color",fontAttr:"color",domAttr:"color",name:"foreColor",template:new t({template:l.colorPickerTemplate,title:"Color"})})),i("backColor",new _({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new t({template:l.colorPickerTemplate,title:"Background Color"})})),i("fontName",new x({cssAttr:"font-family",fontAttr:"face",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new t({template:l.comboBoxTemplate,title:"Font Name"})})),i("fontSize",new x({cssAttr:"font-size",fontAttr:"size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new t({template:l.comboBoxTemplate,title:"Font Size"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/link.min",["./inlineformat.min"],function(){var s=window.kendo.jQuery,d=void 0,l=window.kendo,e=l.Class,o=s.extend,t=l.ui.editor,u=t.Dom,c=t.RangeUtils,a=t.EditorUtils,n=t.Command,i=t.Tool,p=t.ToolTemplate,m=t.InlineFormatter,h=t.InlineFormatFinder,f=c.textNodes,g=c.editableTextNodes,r=t.EditorUtils.registerTool,v=l.keys,b="http://",k=/^\w*:\/\//,w=/[\w\/\$\-_\*\?]/i,y=e.extend({findSuitable:function(e){return u.parentOfType(e,["a"])}}),C=e.extend({init:function(){this.finder=new y},apply:function(e,t){var i=this.immutables?g(e):f(e);var n,r,o,a,s;if(t.innerText){r=c.documentFromRange(e);n=c.getMarkers(e);e.deleteContents();a=u.create(r,"a",t);e.insertNode(a);s=a.parentNode;if(u.name(s)=="a")u.insertAfter(a,s);if(u.emptyNode(s))u.remove(s);var l=a;for(var d=0;d<n.length;d++){u.insertAfter(n[d],l);l=n[d]}if(n.length){u.insertBefore(r.createTextNode("\ufeff"),n[1]||n[0]);u.insertAfter(r.createTextNode("\ufeff"),n[1]||n[0]);e.setStartBefore(n[0]);e.setEndAfter(n[n.length-1])}}else{o=new m([{tags:["a"]}],t);o.finder=this.finder;o.apply(i)}}}),x=n.extend({init:function(e){var i=this;e.formatter={toggle:function(e){var t=i.immutables()?g(e):f(e);new m([{tags:["a"]}]).remove(t)}};this.options=e;n.fn.init.call(this,e)}}),_=n.extend({init:function(e){var t;this.options=e;n.fn.init.call(this,e);this.formatter=new C;if(!e.url){this.attributes=null;this.async=true}else this.exec=function(){this.formatter.immutables=t&&t.immutables();this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}},_dialogTemplate:function(){return l.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+"<div class='k-edit-label'>"+"<label for='k-editor-link-url'>#: messages.linkWebAddress #</label>"+"</div>"+"<div class='k-edit-field'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-url'></span>"+"</div>"+"<div class='k-edit-label k-editor-link-text-row'>"+"<label for='k-editor-link-text'>#: messages.linkText #</label>"+"</div>"+"<div class='k-edit-field k-editor-link-text-row'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-text'></span>"+"</div>"+"<div class='k-edit-label'>"+"<label for='k-editor-link-title'>#: messages.linkToolTip #</label>"+"</div>"+"<div class='k-edit-field'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-title'></span>"+"</div>"+"<div class='k-edit-label'></div>"+"<div class='k-edit-field'>"+"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' id='k-editor-link-target'>"+"<label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label>"+"</div>"+"<div class='k-edit-buttons'>"+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages})},exec:function(){var e=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);this.formatter.immutables=this.immutables();var t=f(this._range);var i=t.length?this.formatter.finder.findSuitable(t[0]):null;var n=t.length&&u.name(t[0])=="img";var r=this.createDialog(this._dialogTemplate(),{title:e.createLink,close:this._close.bind(this),visible:false});if(i){this._range.selectNodeContents(i);t=f(this._range)}this._initialText=this.linkText(t);r.find(".k-dialog-insert").on("click",this._apply.bind(this)).end().find(".k-dialog-close").on("click",this._close.bind(this)).end().find(".k-edit-field input").on("keydown",this._keydown.bind(this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").attr("checked",i?i.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!n);this._dialog=r.data("kendoWindow").center().open();s("#k-editor-link-url",r).trigger("focus").select()},_keydown:function(e){var t=l.keys;if(e.keyCode==t.ENTER)this._apply(e);else if(e.keyCode==t.ESC)this._close(e)},_apply:function(e){var t=this._dialog.element;var i=s("#k-editor-link-url",t).val();var n,r,o;var a=s("#k-editor-link-text",t);if(i&&i!=b){if(i.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(i))i="mailto:"+i;this.attributes={href:i};n=s("#k-editor-link-title",t).val();if(n)this.attributes.title=n;if(a.is(":visible")){r=l.trim(a.val());if(!r&&!this._initialText)this.attributes.innerText=i;else if(r&&r!==this._initialText)this.attributes.innerText=u.stripBom(r)}o=s("#k-editor-link-target",t).is(":checked");this.attributes.target=o?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(e);if(this.change)this.change()},_close:function(e){e.preventDefault();this._dialog.destroy();u.windowFromDocument(c.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(e){if(e)return e.getAttribute("href",2);return b},linkText:function(e){var t="";var i;for(i=0;i<e.length;i++)t+=e[i].nodeValue;return u.stripBom(t||"")},redo:function(){var e=this.lockRange(true);this.formatter.apply(e,this.attributes);this.releaseRange(e)}}),T=n.extend({init:function(e){n.fn.init.call(this,e);this.formatter=new C},exec:function(){var e=this.detectLink();if(!e)return;var t=this.getRange();var i=new l.ui.editor.Marker;var n=t.cloneRange();n.setStart(e.start.node,e.start.offset);n.setEnd(e.end.node,e.end.offset);t=this.lockRange();i.add(n);this.formatter.apply(n,{href:this._ensureWebProtocol(e.text)});i.remove(n);this.releaseRange(t)},detectLink:function(){var e=this.getRange();var t=e.startContainer;var i=e.startOffset;var n=t.previousSibling;if(!n&&(u.isBom(t)&&!t.nextSibling||!i&&u.isDataNode(t))){t=t.parentNode;i=0}var r=new I({node:t,offset:i,cancelAtNode:function(e){return e&&u.name(e)==="a"}});var o=new R(r);return o.detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){var t=this._hasProtocolPrefix(e);return t?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return k.test(e)},_prefixWithWebProtocol:function(e){return b+e}}),N=i.extend({init:function(e){this.options=e;this.finder=new h([{tags:["a"]}]);i.fn.init.call(this,s.extend(e,{command:x}))},initialize:function(e,t){i.fn.initialize.call(this,e,t);e.addClass("k-disabled")},update:function(e,t){e.toggleClass("k-disabled",!this.finder.isFormatted(t)).removeClass("k-hover")}}),R=e.extend({init:function(e){this.traverser=e;this.start=z();this.end=z();this.text=""},detectLink:function(){var e=this.traverser.node;var t=this.traverser.offset;if(u.isDataNode(e)){var i=e.data.substring(0,t);if(/\s{2}$/.test(u.stripBom(i)))return}else if(t===0){var n=u.closestEditableOfType(e,u.blockElements);if(n&&n.previousSibling)this.traverser.init({node:n.previousSibling})}this.traverser.traverse(this._detectEnd.bind(this));if(!this.end.blank()){this.traverser=this.traverser.clone(this.end);this.traverser.traverse(this._detectStart.bind(this));if(!this._isLinkDetected()){var r=this.traverser.extendOptions(this.start);var o=new D(r);o.traverse(this._skipStartPuntuation.bind(this));if(!this._isLinkDetected())this.start=z()}}if(this.start.blank())return null;else return{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return k.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var i=S(e,w);if(i>-1){this.end.node=t;this.end.offset=i+1;return false}},_detectStart:function(e,t){var i=S(e,/\s/);var n=i+1;this.text=e.substring(n)+this.text;this.start.node=t;this.start.offset=n;if(i>-1)return false},_skipStartPuntuation:function(e,t,i){var n=A(e,/\w/);var r=n;if(n===-1)r=e.length;this.text=this.text.substring(r);this.start.node=t;this.start.offset=r+(i|0);if(n>-1)return false}});function S(e,t){var i=e.length;while(i--&&!t.test(e[i]));return i}function A(e,t){var i=t.exec(e);return i?i.index:-1}var z=function(){return{node:null,offset:null,blank:function(){return this.node===null&&this.offset===null}}},E=e.extend({init:function(e){this.node=e.node;this.offset=e.offset===d?u.isDataNode(this.node)&&this.node.length||0:e.offset;this.cancelAtNode=e.cancelAtNode||this.cancelAtNode||s.noop},traverse:function(e){if(!e)return;this.cancel=false;this._traverse(e,this.node,this.offset)},_traverse:function(e,t,i){if(!t||this.cancel)return;if(t.nodeType===3){var n=t.data;if(i!==d)n=this.subText(n,i);this.cancel=e(n,t,i)===false}else{var r=this.edgeNode(t);this.cancel=this.cancel||this.cancelAtNode(r);return this._traverse(e,r)}var o=this.next(t);if(!o){var a=t.parentNode;while(!o&&u.isInline(a)){o=this.next(a);a=a.parentNode}}this.cancel=this.cancel||this.cancelAtNode(o);this._traverse(e,o)},extendOptions:function(e){return s.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},e||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}}),I=E.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new I(t)}}),D=E.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new D(t)}});o(l.ui.editor,{LinkFormatFinder:y,LinkFormatter:C,UnlinkCommand:x,LinkCommand:_,AutoLinkCommand:T,UnlinkTool:N,DomTextLinkDetection:R,LeftDomTextTraverser:I,RightDomTextTraverser:D}),r("createLink",new i({key:"K",ctrl:true,command:_,template:new p({template:a.buttonTemplate,title:"Create Link"})})),r("unlink",new N({key:"K",ctrl:true,shift:true,template:new p({template:a.buttonTemplate,title:"Remove Link"})})),r("autoLink",new i({key:[v.ENTER,v.SPACEBAR],keyPressCommand:true,command:T}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatblock.min",["./format.min"],function(){var f=window.kendo.jQuery,a=window.kendo,s=a.Class,p=f.extend,m=a.ui.editor,e=a.ui.Editor.fn.options.formats,h=m.Dom,t=m.ToolTemplate,l=m.FormatTool,c=m.EditorUtils,i=c.registerTool,n=c.registerFormat,d=m.RangeUtils,r=s.extend({init:function(e){this.format=e},contains:function(e,t){var i,n,r;for(i=0,n=t.length;i<n;i++){r=t[i];if(!r||!h.isAncestorOrSelf(e,r))return false}return true},findSuitable:function(e){var t=this.format,i=[],n,r,o;for(n=0,r=e.length;n<r;n++){for(var a=t.length-1;a>=0;a--){o=h.ofType(e[n],t[a].tags)?e[n]:h.closestEditableOfType(e[n],t[a].tags);if(o)break}if(!o||o.contentEditable==="true")return[];if(f.inArray(o,i)<0)i.push(o)}this._resolveListsItems(i);for(n=0,r=i.length;n<r;n++)if(this.contains(i[n],i))return[i[n]];return i},_resolveListsItems:function(e){var t,i,n;for(t=0;t<e.length;t++){i=e[t];n=h.is(i,"li")?i:h.wrapper(i);n=n&&h.list(n)?n.children[0]:n;if(h.is(n,"li"))i=e[t]=n}},findFormat:function(e,t){var i=this.format,n,r,o,a,s;var l=h.editableParent(e);var u=this.options&&this.options.immutables;var c=m.Immutables;for(n=0,r=i.length;n<r;n++){o=e;a=i[n].tags;s=i[n].attr;if(u&&a&&a[0]=="immutable"){var d=c.immutableParent(o);if(d&&h.attrEquals(d,s))return o}while(o&&h.isAncestorOf(l,o)){if(h.ofType(o,a)&&h.attrEquals(o,s))return o;if(t&&t(o))break;o=o.parentNode}}return null},getFormat:function(e){var t=this,i=function(e){return t.findFormat(h.isDataNode(e)?e.parentNode:e)},n=i(e[0]),r,o;if(!n)return"";for(r=1,o=e.length;r<o;r++)if(n!=i(e[r]))return"";return n.nodeName.toLowerCase()},isFormatted:function(e,t){for(var i=0,n=e.length;i<n;i++)if(!this.findFormat(e[i],t))return false;return true}}),g=s.extend({init:function(e,t){this.format=e;this.values=t;this.finder=new r(e)},wrap:function(e,t,i){var n=i.length==1?h.blockParentOrBody(i[0]):h.commonAncestor.apply(null,i);if(h.isInline(n))n=h.blockParentOrBody(n);var r=h.significantChildNodes(n),o=h.findNodeIndex(r[0]),a=h.create(n.ownerDocument,e,t),s,l;for(s=0;s<r.length;s++){l=r[s];if(h.isBlock(l)){h.attr(l,t);if(a.childNodes.length){h.insertBefore(a,l);a=a.cloneNode(false)}o=h.findNodeIndex(l)+1;continue}a.appendChild(l)}if(a.firstChild)h.insertAt(n,a,o)},apply:function(e){var t,i=this.values;function n(e){return p({},e&&e.attr,i)}this._handleImmutables(e,true);var r=h.filter("img",e);var o=c.formatByName("img",this.format);var a=n(o);f.each(r,function(){h.attr(this,a)});if(r.length==e.length)return;var s=h.filter("img",e,true);var l=this.finder.findSuitable(s);if(l.length)for(var d=0,u=l.length;d<u;d++){t=c.formatByName(h.name(l[d]),this.format);h.attr(l[d],n(t))}else{t=this.format[0];this.wrap(t.tags[0],n(t),s)}},_handleImmutables:function(e,t){if(!this.immutables())return;var i=c.formatByName("immutable",this.format);if(!i)return;var n=m.Immutables;var r=e.length-1;for(var o=r;o>=0;o--){var a=n.immutableParent(e[o]);if(!a)continue;if(a!==e[o+1])if(t)h.attr(a,i.attr);else h.unstyle(a,i.attr.style);e.splice(o,1)}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,i,n,r,o;this._handleImmutables(e,false);for(t=0,i=e.length;t<i;t++){n=this.finder.findFormat(e[t]);if(n){o=h.name(n);r=c.formatByName(o,this.format);if(r.attr.style)h.unstyle(n,r.attr.style);if(r.attr.className)h.removeClass(n,r.attr.className)}}},toggle:function(e){var t=this,i=h.filterBy(d.nodes(e),h.htmlIndentSpace,true);if(t.finder.isFormatted(i))t.remove(i);else t.apply(i)}}),u=s.extend({init:function(e,t){var i=this;i.format=e;i.values=t;i.finder=new r(e)},apply:function(e){var t=this.format;var i=h.blockParents(e);var n=t[0].tags[0];var r,o,a,u,s;var c;var l;var d;var f;if(i.length)for(r=0,o=i.length;r<o;r++){d=i[r];f=this.immutables()&&m.Immutables.immutableParent(d);if(!f){l=h.name(d);if(l=="li"){a=d.parentNode;u=new m.ListFormatter(a.nodeName.toLowerCase(),n);s=this.editor.createRange();s.selectNode(i[r]);u.toggle(s)}else if(n&&(l=="td"||d.attributes.contentEditable))new g(t,this.values).apply(d.childNodes);else{c=h.changeTag(d,n);h.attr(c,t[0].attr)}}}else{var p=new g(t,this.values);p.editor=this.editor;p.apply(e)}},toggle:function(e){var t=d.textNodes(e);if(!t.length){e.selectNodeContents(e.commonAncestorContainer);t=d.textNodes(e);if(!t.length)t=h.significantChildNodes(e.commonAncestorContainer)}this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),o=l.extend({init:function(e){l.fn.init.call(this,p(e,{finder:new r(e.format),formatter:function(){return new g(e.format)}}))}}),v=(p(m,{BlockFormatFinder:r,BlockFormatter:g,GreedyBlockFormatter:u,BlockFormatTool:o}),["ul","ol","li"]);n("justifyLeft",[{tags:h.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:v,attr:{style:{textAlign:"left",listStylePosition:""}}}]),i("justifyLeft",new o({format:e.justifyLeft,template:new t({template:c.buttonTemplate,title:"Justify Left"})})),n("justifyCenter",[{tags:h.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:v,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),i("justifyCenter",new o({format:e.justifyCenter,template:new t({template:c.buttonTemplate,title:"Justify Center"})})),n("justifyRight",[{tags:h.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:v,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),i("justifyRight",new o({format:e.justifyRight,template:new t({template:c.buttonTemplate,title:"Justify Right"})})),n("justifyFull",[{tags:h.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:v,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),i("justifyFull",new o({format:e.justifyFull,template:new t({template:c.buttonTemplate,title:"Justify Full"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/lists.min",["./formatblock.min"],function(){var f=window.kendo.jQuery,a=window.kendo,s=a.Class,t=f.extend,u=a.ui.editor,p=u.Dom,l=u.RangeUtils,e=u.EditorUtils,d=u.Command,i=u.ToolTemplate,c=u.FormatTool,m=u.BlockFormatFinder,h=l.textNodes,n=u.EditorUtils.registerTool,o=m.extend({init:function(e){this.tag=e.tag;this.attr=e.attr;this.altAttr=e.altAttr;var t=this.tags=[this.tag=="ul"?"ol":"ul",this.tag];var i=[{tags:t,attr:this.attr}];if(this.altAttr)i.push({tags:t,attr:this.altAttr});m.fn.init.call(this,i)},matchesType:function(e){return p.attrEquals(e,this.attr)||this.altAttr&&p.attrEquals(e,this.altAttr)},isList:function(e){return p.list(e)},isFormatted:function(e){var t=[];var i,n;for(n=0;n<e.length;n++){i=this.findFormat(e[n],this.isList);if(i&&p.name(i)==this.tag&&this.matchesType(i))t.push(i)}if(t.length<1)return false;if(t.length!=e.length)return false;for(n=0;n<t.length;n++){if(t[n].parentNode!=i.parentNode)break;if(t[n]!=i)return false}return true},findSuitable:function(e){var t=this.findFormat(e[0],this.isList);if(t&&p.name(t)==this.tag)return t;return null}}),g=s.extend({init:function(e,t){var i=this;e=f.isPlainObject(e)?e:{tag:e,attr:null};i.tag=e.tag;i.attr=e.attr;i.finder=new o(e);i.unwrapTag=t},isList:function(e){return p.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(e,t){var i=p.create(e.ownerDocument,"li"),n,r,o=this.immutables()?u.Immutables.immutable:f.noop;for(n=0;n<t.length;n++){r=t[n];if(p.is(r,"li")){e.appendChild(r);continue}if(this.isList(r)){while(r.firstChild)e.appendChild(r.firstChild);continue}if(p.is(r,"td")){while(r.firstChild)i.appendChild(r.firstChild);e.appendChild(i);r.appendChild(e);e=e.cloneNode(false);i=i.cloneNode(false);continue}i.appendChild(r);if(p.isBlock(r)){e.appendChild(i);if(!o(r))p.unwrap(r);i=i.cloneNode(false)}}if(i.firstChild)e.appendChild(i)},containsAny:function(e,t){for(var i=0;i<t.length;i++)if(p.isAncestorOrSelf(e,t[i]))return true;return false},suitable:function(e,t){if(e.className=="k-marker"){var i=e.nextSibling;if(i&&p.isBlock(i))return false;i=e.previousSibling;if(i&&p.isBlock(i))return false}return this.containsAny(e,t)||p.isInline(e)||e.nodeType==3},_parentLists:function(e){var t=p.closestEditable(e);return f(e).parentsUntil(t,"ul,ol")},split:function(e){var t=h(e);var i,n,r;if(t.length){i=p.parentOfType(t[0],["li"]);n=p.parentOfType(t[t.length-1],["li"]);e.setStartBefore(i);e.setEndAfter(n);for(var o=0,a=t.length;o<a;o++){var s=this.finder.findFormat(t[o]);if(s){r=this._parentLists(s);if(r.length)l.split(e,r.last()[0],true);else l.split(e,s,true)}}}},merge:function(e,t){var i=t.previousSibling,n;while(i&&(i.className=="k-marker"||i.nodeType==3&&p.isWhitespace(i)))i=i.previousSibling;if(i&&p.name(i)==e&&this.finder.matchesType(i)){while(t.firstChild)i.appendChild(t.firstChild);p.remove(t);t=i}n=t.nextSibling;while(n&&(n.className=="k-marker"||n.nodeType==3&&p.isWhitespace(n)))n=n.nextSibling;if(n&&p.name(n)==e&&this.finder.matchesType(n)){while(t.lastChild)n.insertBefore(t.lastChild,n.firstChild);p.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|thead|tr|td/.test(p.name(e))&&!e.attributes.contentEditable},findSuitableNode:function(e){var t=this,i=t.finder,n=t.tag,r;r=i.findSuitable(e);if(!r){i=new o({tag:n=="ul"?"ol":"ul"});r=i.findSuitable(e)}if(!r){i=new o({tag:n});r=i.findSuitable(e);r=r&&t.finder.matchesType(r)?null:r}return r},applyOnSection:function(u,t){var e=this.tag;var i=this.attr;var n=p.closestSplittableParent(t);var r=[];var o=this.findSuitableNode(t);var a;if(/table|tbody|thead/.test(p.name(n)))a=f.map(t,function(e){return p.parentOfType(e,["td"])});else{a=p.significantChildNodes(n);if(f.grep(a,p.isBlock).length)a=f.grep(a,function(e){return this.containsAny(e,t)}.bind(this));if(!a.length)a=t}function s(){r.push(this)}for(var l=0;l<a.length;l++){var d=a[l];var c=(!o||!p.isAncestorOrSelf(o,d))&&this.suitable(d,t);if(!c)continue;if(o&&this.isList(d)){f.each(d.children,s);p.remove(d)}else r.push(d)}if(r.length==a.length&&this.breakable(n))r=[n];if(!o){o=p.create(n.ownerDocument,e,i);if(p.isBlock(r[0]))p.mergeAttributes(r[0],o);p.insertBefore(o,r[0])}this.wrap(o,r);while(p.isBom(o.nextSibling))p.remove(o.nextSibling);if(!this.finder.matchesType(o)){o.removeAttribute("type");o.style.listStyleType="";p.mergeAttributes(p.create(n.ownerDocument,e,i),o,true)}if(o&&o.getAttribute("type")==="")o.removeAttribute("type");if(!p.is(o,e))p.changeTag(o,e);this.merge(e,o)},apply:function(e){var t=0,i=[],n,r,o,a,s=e.length,l=this.immutables()?u.Immutables.immutableParent:f.noop;function d(){if(n)i.push({section:n,nodes:r})}for(t=0;t<s;t++){a=l(e[t])||e[t];o=p.closestEditable(a,["td","th","body"]);if(!n||o!=n){d();r=[a];n=o}else r.push(a)}d();for(t=0;t<i.length;t++)this.applyOnSection(i[t].section,i[t].nodes)},unwrap:function(e){var t=e.ownerDocument.createDocumentFragment(),i=this.unwrapTag,n,r,o,a;for(r=e.firstChild;r;r=r.nextSibling){o=p.create(e.ownerDocument,i||"p");while(r.firstChild){a=r.firstChild;if(p.isBlock(a)){if(o.firstChild){t.appendChild(o);o=p.create(e.ownerDocument,i||"p")}t.appendChild(a)}else o.appendChild(a)}if(o.firstChild)t.appendChild(o)}n=this._parentLists(e);if(n[0]){p.insertAfter(t,n.last()[0]);n.last().remove()}else p.insertAfter(t,e);p.remove(e)},remove:function(e){var t;for(var i=0,n=e.length;i<n;i++){t=this.finder.findFormat(e[i]);if(t)this.unwrap(t)}},toggle:function(e){var t=this,i=h(e),n=e.commonAncestorContainer;if(!i.length){e.selectNodeContents(n);i=h(e);if(!i.length){var r=n.ownerDocument.createTextNode("");e.startContainer.appendChild(r);i=[r];e.selectNode(r.parentNode)}}i=p.filterBy(i,p.htmlIndentSpace,true);if(t.finder.isFormatted(i)){t.split(e);t.remove(i)}else t.apply(i)}}),v=d.extend({init:function(e){e.formatter=new g({tag:e.tag,attr:e.attr});d.fn.init.call(this,e)}}),r=c.extend({init:function(e){this.options=e;c.fn.init.call(this,t(e,{finder:new o(e)}))},command:function(e){return new v(t(e,{tag:this.options.tag,attr:this.options.attr}))}});t(u,{ListFormatFinder:o,ListFormatter:g,ListCommand:v,ListTool:r}),n("insertUnorderedList",new r({tag:"ul",attr:{style:{listStyleType:""},type:""},template:new i({template:e.buttonTemplate,title:"Insert unordered list"})})),n("insertOrderedList",new r({tag:"ol",attr:{style:{listStyleType:""},type:""},template:new i({template:e.buttonTemplate,title:"Insert ordered list"})})),n("insertUpperRomanList",new r({tag:"ol",attr:{style:{listStyleType:"upper-roman"}},altAttr:{type:"I"},template:new i({template:e.buttonTemplate,title:"Insert upper roman list"})})),n("insertLowerRomanList",new r({tag:"ol",attr:{style:{listStyleType:"lower-roman"}},altAttr:{type:"i"},template:new i({template:e.buttonTemplate,title:"Insert lower roman list"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatting.min",["./inlineformat.min"],function(){var d=window.kendo.jQuery,s=window.kendo,a=s.ui.editor,l=a.Tool,e=a.ToolTemplate,u=a.DelayedExecutionTool,n=a.Command,c=a.Dom,t=a.EditorUtils,r=a.RangeUtils,i=t.registerTool,o=u.extend({init:function(e){var t=this;l.fn.init.call(t,s.deepExtend({},t.options,e));t.type="kendoSelectBox";t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var i=t.indexOf(".");if(i===0)e.className=t.substring(1);else if(i==-1)e.tag=t;else{e.tag=t.substring(0,i);e.className=t.substring(i+1)}return e},command:function(e){var n=this;var r=e.value;r=this.toFormattingItem(r);return new a.FormatCommand({range:e.range,formatter:function(){var e,t=(r.tag||r.context||"span").split(","),i=[{tags:t,attr:{className:r.className||""}}];if(d.inArray(t[0],c.inlineElements)>=0)e=new a.GreedyInlineFormatter(i);else e=new a.GreedyBlockFormatter(i);e.editor=n.editor;return e}})},initialize:function(e,t){var i=t.editor;var n=this.options;var r=n.name;var o=this;var a;o.editor=i;e.width(n.width);a=e.kendoSelectBox({autoWidth:true,dataTextField:"text",dataValueField:"value",dataSource:n.items||i.options[r],title:i.options.messages[r],autoSize:true,change:function(){var e=this.dataItem();if(e)l.exec(i,r,e.toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;e<t.length;e++)t[e]=o.toFormattingItem(t[e])},highlightFirst:false,template:s.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}).data("kendoSelectBox");e.attr("title",t.title);a.wrapper.attr("title",t.title);e.addClass("k-decorated").closest(".k-dropdownlist, .k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];var r=n.tag||n.context||"";var o=n.className?"."+n.className:"";var a=r+o;var s=d(t[0]).closest(a)[0];if(!s)continue;if(t.length==1)return n.value;for(var l=1;l<t.length;l++)if(!d(t[l]).closest(a)[0])break;else if(l==t.length-1)return n.value}return""},update:function(e,t){var i=d(e).data(this.type);if(!i)return;var n=i.dataSource,r=n.data(),o,a,s=c.commonAncestor.apply(null,t);if(s!=c.closestEditable(s)&&this._ancestor==s)return;else this._ancestor=s;for(o=0;o<r.length;o++){a=r[o].context;r[o].visible=!a||!!d(s).closest(a).length}n.filter([{field:"visible",operator:"eq",value:true}]);u.fn.update.call(this,e,t);i.value(this.getFormattingValue(n.view(),t));i.wrapper.toggleClass("k-disabled",!n.view().length)},destroy:function(){this._ancestor=null}}),f=n.extend({exec:function(){var e=this.lockRange(true);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");r.wrapSelectedElements(e);var t=r.mapAll(e,function(e){return e});for(var i=t.length-1;i>=0;i--){var n=t[i];if(!this.immutableParent(n))this.clean(n)}this.releaseRange(e)},clean:function(e){if(!e||c.isMarker(e))return;var t=c.name(e);if(t=="ul"||t=="ol"){var i=new a.ListFormatter(t);var n=e.previousSibling;var r=e.nextSibling;i.unwrap(e);for(;n&&n!=r;n=n.nextSibling)this.clean(n)}else if(t=="blockquote")c.changeTag(e,"p");else if(e.nodeType==1&&!c.insignificant(e)){for(var o=e.childNodes.length-1;o>=0;o--)this.clean(e.childNodes[o]);e.removeAttribute("style");e.removeAttribute("class")}else p(e);if(d.inArray(t,this.tagsToClean)>-1)c.unwrap(e)},immutableParent:function(e){return this.immutables()&&a.Immutables.immutableParent(e)}});function p(e){var t=c.closestEditableOfType(e,["li"]);if(t){var i=new a.ListFormatter(c.name(t.parentNode));var n=s.ui.editor.W3CRange.fromNode(e);n.selectNode(t);i.toggle(n)}}d.extend(a,{FormattingTool:o,CleanFormatCommand:f}),i("formatting",new o({template:new e({template:t.dropDownListTemplate,title:"Format"})})),i("cleanFormatting",new l({command:f,template:new e({template:t.buttonTemplate,title:"Clean formatting"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/image.min",["kendo.imagebrowser.min","../command.min"],function(){var n=window.kendo.jQuery,T=void 0,b=window.kendo,N=n.extend,e=b.ui.editor,t=e.EditorUtils,k=e.Dom,r=t.registerTool,o=e.ToolTemplate,w=e.RangeUtils,i=e.Command,y=b.keys,C="#k-editor-image-url",x="#k-editor-image-title",_="#k-editor-image-width",R="#k-editor-image-height",a=i.extend({init:function(e){var t=this;i.fn.init.call(t,e);t.async=true;t.attributes={}},insertImage:function(e,t){var i=this.attributes;var n=w.documentFromRange(t);if(i.src&&i.src!="http://"){var r=function(){setTimeout(function(){if(!i.width)e.removeAttribute("width");if(!i.height)e.removeAttribute("height");e.removeAttribute("complete")})};if(!e){e=k.create(n,"img",i);e.onload=e.onerror=r;t.deleteContents();t.insertNode(e);if(!e.nextSibling)k.insertAfter(n.createTextNode("\ufeff"),e);r();t.setStartAfter(e);t.setEndAfter(e);w.selectRange(t);return true}else{e.onload=e.onerror=r;k.attr(e,i);r()}}return false},_dialogTemplate:function(e){return b.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser k-imagebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-image-url">#: messages.imageWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-title">#: messages.imageAltText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-title"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-width">#: messages.imageWidth #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-width"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-height">#: messages.imageHeight #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-height"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();if(!e.insertImage(w.image(t),t))e.releaseRange(t)},exec:function(){var r=this,o=r.lockRange(),u=false,a=w.image(o),c=a&&a.getAttribute("width")||"",f=a&&a.getAttribute("height")||"",s,p=b.support.browser.msie,m=r.editor.options,h=m.messages,e=m.imageBrowser,t=!!(b.ui.ImageBrowser&&e&&e.transport&&e.transport.read!==T),i={title:h.insertImage,visible:false,resizable:t};this.expandImmutablesIn(o);function n(e){var t=s.element,i=parseInt(t.find(_).val(),10),n=parseInt(t.find(R).val(),10);r.attributes={src:t.find(C).val().replace(/ /g,"%20"),alt:t.find(x).val()};r.attributes.width=null;r.attributes.height=null;if(!isNaN(i)&&i>0)r.attributes.width=i;if(!isNaN(n)&&n>0)r.attributes.height=n;u=r.insertImage(a,o);l(e);if(r.change)r.change()}function l(e){e.preventDefault();s.destroy();k.windowFromDocument(w.documentFromRange(o)).focus();if(!u)r.releaseRange(o)}function g(e){if(e.keyCode==y.ENTER)n(e);else if(e.keyCode==y.ESC)l(e)}i.close=l;if(t)i.width=750;s=this.createDialog(r._dialogTemplate(t),i).toggleClass("k-filebrowser-dialog",t).find(".k-dialog-insert").on("click",n).end().find(".k-dialog-close").on("click",l).end().find(".k-edit-field input").on("keydown",g).end().find(C).val(a?a.getAttribute("src",2):"http://").end().find(x).val(a?a.alt:"").end().find(_).val(c).end().find(R).val(f).end().data("kendoWindow");var d=s.element;if(t){this._imageBrowser=new b.ui.ImageBrowser(d.find(".k-imagebrowser"),N({},e));this._imageBrowser.bind("change",function(e){if(e.selected.get("type")==="f")d.find(C).val(this.value())});this._imageBrowser.bind("apply",n)}if(p){var v=d.closest(".k-window").height();d.css("max-height",v)}s.center().open();d.find(C).trigger("focus").select()}});r("insertImage",new e.Tool({command:b.ui.editor.ImageCommand=a,template:new o({template:t.buttonTemplate,title:"Insert Image"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/import.min",["../main.min"],function(){var r=window.kendo.jQuery,u=void 0,t=window.kendo,e=r.extend,i=t.ui.editor,n=i.EditorUtils,o=i.Command,a=i.Tool,s=n.registerTool,c=i.ToolTemplate,l='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>',d=o.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var e=this;var t=e.editor;var i=t.options["import"];var n=r('<input id="editorImport" name="files" type="file" />').kendoUpload({success:e._onUploadSuccess.bind(e),progress:e._onUploadProgress.bind(e),select:e._onUploadSelect.bind(e),error:e._onUploadError.bind(e),complete:e._onUploadComplete.bind(e),showFileList:false,multiple:false,async:{saveUrl:i.proxyURL,autoUpload:true,saveField:"file"},validation:{allowedExtensions:i.allowedExtensions,maxFileSize:i.maxFileSize}}).getKendoUpload();t._uploadWidget=n;return n},_onUploadComplete:function(e){this._trigger("complete",e);e.sender.clearAllFiles();this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,""));this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e);if(!e.files[0].validationErrors)this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var i=this.editor;var n=i.options["import"];if(typeof n[e]==="function")n[e].call(i,t)},_initLoadingOverlay:function(){var e=this.editor.body;if(i.Dom.is(e,"body"))this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(l);else this._container=r(e).append(l);t.ui.progress(this._container,true)},_removeLoadingOverlay:function(){t.ui.progress(this._container,false);r(this._iframeWrapper).css({position:""});delete this._container;delete this._iframeWrapper}});e(i,{ImportCommand:d}),s("import",new a({command:d,template:new c({template:n.iconTextButtonTemplate,title:"Import"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/insert.min",["../command.min"],function(){var e=window.kendo.jQuery,u,o=window.kendo.ui.editor,t=o.Command,s=o.GenericCommand,i=o.EditorUtils,n=i.registerTool,a=o.Tool,c=o.ToolTemplate,l=o.RestorePoint,f=e.extend,r=t.extend({init:function(e){t.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;var t=this.options;var i=t.range;var n=e.body;var r=new l(i,n);var o=t.html||t.value||"";e.selectRange(i);e.clipboard.paste(o,t);if(t.postProcess)t.postProcess(e,e.getRange());var a=new s(r,new l(e.getRange(),n));a.editor=e;e.undoRedoStack.push(a);e.focus()}}),d=a.extend({initialize:function(e,t){var i=t.editor,n=this.options,r=n.items?n.items:i.options.insertHtml;this._selectBox=new o.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){a.exec(i,"insertHtml",this.value())},title:i.options.messages.insertHtml,highlightFirst:false});e.attr("title",t.title);this._selectBox.wrapper.attr("title",t.title)},command:function(e){return new r(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close();t.value(t.options.title)}});f(o,{InsertHtmlCommand:r,InsertHtmlTool:d}),n("insertHtml",new d({template:new c({template:i.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/export.min",["../main.min"],function(){var n=window.kendo.jQuery,d=void 0,u=window.kendo,e=n.extend,i=u.ui.editor,t=i.EditorUtils,r=i.Command,o=i.Tool,a=t.registerTool,s=i.ToolTemplate,c=[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}],f=r.extend({init:function(e){var t=this;t.options=e;r.fn.init.call(t,e);t.attributes=null;t.exportType=e.exportType},exec:function(){var e=this;var t=this.lockRange(true);e.postToProxy();e.releaseRange(t)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var e=this;var t=e.editor.options.exportAs;var i=n("<form>").attr({action:t&&t.proxyURL||"",method:"POST"});i.append([e.valueInput(),e.exportTypeInput(),e.fileNameInput()]);return i},valueInput:function(){var e=this.editor;return n("<input>").attr({value:e.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){var e=this;return n("<input>").attr({value:e.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var e=this.editor;var t=e.options.exportAs;var i=t&&t.fileName||e.element.attr("id")||"editor";return n("<input>").attr({value:i,name:"fileName",type:"hidden"})}}),l=o.extend({init:function(e){var t=this;o.fn.init.call(t,u.deepExtend({},t.options,e));t.type="kendoSelectBox"},options:{items:c,width:140},command:function(e){var t=e.value;return new i.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var i=this;var n=t.editor;var r=i.options;var o=r.name;var a=i.changeHandler.bind(i);var s=r.items||n.options[o];var l=n.options.messages[o];var d;s.unshift({text:l,value:""});i.editor=n;e.width(r.width);d=e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:s,autoSize:true,change:a,open:function(e){var t=e.sender;t.items()[0].style.display="none";t.unbind("open")},highlightFirst:false,template:u.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>'),valueTemplate:'<span class="k-editor-export"><span class="k-icon k-i-export"></span><span class="k-export-tool-text">'+l+"</span></span>"}).data("kendoSelectBox");e.attr("title",t.title);d.wrapper.attr("title",t.title);e.addClass("k-decorated").closest(".k-dropdownlist").removeClass("k-"+o).find("*").addBack().attr("unselectable","on")},changeHandler:function(e){var t=e.sender;var i=t.dataItem();var n=i&&i.value;this._exec(n);t.value("")},_exec:function(e){if(e)o.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});e(i,{ExportAsTool:l,ExportAsCommand:f}),a("exportAs",new l({template:new s({template:t.dropDownListTemplate,title:"Export As"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/indent.min",["./formatblock.min"],function(){var p=window.kendo.jQuery,a=void 0,e=window.kendo,s=e.Class,l=p.extend,d=e.ui.editor,m=d.Dom,t=d.EditorUtils,i=t.registerTool,n=d.Command,r=d.Tool,u=d.ToolTemplate,c=d.RangeUtils,f=m.blockElements,g=d.BlockFormatFinder,v=d.BlockFormatter;function h(e,t){var i=p(e).css("direction")=="rtl",n=i?"Right":"Left",r=m.name(e)!="td"?"margin"+n:"padding"+n;if(t===a)return e.style[r]||0;else if(t>0)e.style[r]=t+"px";else{e.style[r]="";if(!e.style.cssText)e.removeAttribute("style")}}var o=s.extend({init:function(){this.finder=new g([{tags:m.blockElements}])},apply:function(e){e=m.filterBy(e,m.htmlIndentSpace,true);var t=this.finder.findSuitable(e),i=[],n,u,r,o,a;t=this.mapImmutables(t);if(t.length){for(n=0,u=t.length;n<u;n++)if(m.is(t[n],"li")){if(!p(t[n]).index())i.push(t[n].parentNode);else if(p.inArray(t[n].parentNode,i)<0)i.push(t[n])}else i.push(t[n]);while(i.length){r=i.shift();if(m.is(r,"li")){o=r.parentNode;a=p(r).prev("li");var s=a.find("ul,ol").last();var l=p(r).children("ul,ol")[0];if(l&&a[0])if(s[0]){s.append(r);s.append(p(l).children());m.remove(l)}else{a.append(l);l.insertBefore(r,l.firstChild)}else{l=a.children("ul,ol")[0];if(!l){l=m.create(r.ownerDocument,m.name(o),this.getListTypeAttr(o));a.append(l)}while(r&&r.parentNode==o){l.appendChild(r);r=i.shift()}}}else{var c=parseInt(h(r),10)+30;h(r,c);for(var d=0;d<i.length;d++)if(p.contains(r,i[d]))i.splice(d,1)}}}else{var f=new v([{tags:["p"]}],{style:{marginLeft:30}});f.apply(e)}},getListTypeAttr:function(e){var t=e.getAttribute("type");var i=e.style.listStyleType;return t?{type:t}:{style:{listStyleType:i}}},mapImmutables:function(e){if(!this.immutables)return e;else{var i=[];return p.map(e,function(e){var t=d.Immutables.immutableParent(e);if(t)if(p.inArray(t,i)===-1)i.push(t);else return null;return t||e})}},remove:function(e){e=m.filterBy(e,m.htmlIndentSpace,true);var t=this.finder.findSuitable(e),i,n,r,o,a,s,l,d;t=this.mapImmutables(t);for(n=0,r=t.length;n<r;n++){l=p(t[n]);if(l.is("li")){o=l.parent();a=o.parent();if(a.is("li,ul,ol")&&!h(o[0])){if(i&&p.contains(i,a[0]))continue;s=l.nextAll("li");if(s.length)p(o[0].cloneNode(false)).appendTo(l).append(s);if(a.is("li"))l.insertAfter(a);else l.appendTo(a);if(!o.children("li").length)o.remove();continue}else{if(i==o[0])continue;i=o[0]}}else i=t[n];d=parseInt(h(i),10)-30;h(i,d)}}}),b=n.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var t=new o;t.immutables=this.editor&&this.editor.options.immutables;t.apply(c.nodes(e))}.bind(t)};n.fn.init.call(this,e)}}),k=n.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var t=new o;t.immutables=this.editor&&this.editor.options.immutables;t.remove(c.nodes(e))}.bind(t)};n.fn.init.call(this,e)}}),w=r.extend({init:function(e){r.fn.init.call(this,e);this.finder=new g([{tags:f}])},initialize:function(e,t){r.fn.initialize.call(this,e,t);p.extend(this.options,{immutables:t.editor&&t.editor.options.immutables});e.addClass("k-disabled")},update:function(e,t){var i=this.finder.findSuitable(t),n,r,o,a,s,l;for(o=0,a=i.length;o<a;o++){s=i[o];if(this.options.immutables){l=d.Immutables.immutableParent(s);if(l)s=l}n=h(s);if(!n){r=p(s).parents("ul,ol").length;n=m.is(s,"li")&&(r>1||h(s.parentNode))||m.ofType(s,["ul","ol"])&&r>0}if(n){e.removeClass("k-disabled");return}}e.addClass("k-disabled").removeClass("k-hover")}});l(d,{IndentFormatter:o,IndentCommand:b,OutdentCommand:k,OutdentTool:w}),i("indent",new r({command:b,template:new u({template:t.buttonTemplate,title:"Indent"})})),i("outdent",new w({command:k,template:new u({template:t.buttonTemplate,title:"Outdent"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/linebreak.min",["./formatblock.min"],function(){var v=window.kendo.jQuery,l=window.kendo,r=v.extend,b=l.ui.editor,k=b.Dom,t=b.Command,e=b.Tool,C=b.BlockFormatter,w=k.normalize,y=b.RangeUtils,i=b.EditorUtils.registerTool,n=t.extend({init:function(e){this.options=e;t.fn.init.call(this,e)},_insertMarker:function(e,t){var i=k.create(e,"a"),n;i.className="k-marker";t.insertNode(i);if(!i.parentNode){n=t.commonAncestorContainer;n.innerHTML="";n.appendChild(i)}w(i.parentNode);return i},_moveFocus:function(e,t){if(k.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var i=y.textNodes(e)[0];if(!i){while(t.childNodes.length&&!k.is(t.firstChild,"br"))t=t.firstChild;i=t}if(k.isEmpty(i))e.setStartBefore(i);else{if(k.emptyNode(i))i.innerHTML="\ufeff";var n=i.firstChild||i;if(k.isDataNode(n))e.setStart(n,0);else e.setStartBefore(n)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),i=k.parentOfType(e.startContainer,t),n=k.parentOfType(e.endContainer,t);return i&&!n||!i&&n},_blankAfter:function(e){while(e&&(k.isMarker(e)||k.stripBom(e.nodeValue)===""))e=e.nextSibling;return!e},exec:function(){var e=this.getRange(),u=y.documentFromRange(e),t,i,n,c=b.emptyElementContent,r,o,a,s,l,d,f;this.expandImmutablesIn(e);f=this.shouldTrim(e);e.deleteContents();o=this._insertMarker(u,e);k.stripBomNode(o.previousSibling);k.stripBomNode(o.nextSibling);a=k.closestEditableOfType(o,["li"]);s=k.closestEditableOfType(o,"h1,h2,h3,h4,h5,h6".split(","));l=k.is(o.parentNode,"table")&&o.parentNode;if(a){if(k.emptyNode(a)){r=k.create(u,"p");if(k.next(a)){d=e.cloneRange();d.selectNode(a);y.split(d,a.parentNode)}var p=v("br",a);if(p.length==1)p.remove();var m=a.parentNode;var h=a.parentNode.children.length;var g=h>1&&a.childNodes.length==1&&a.children[0];k.insertAfter(r,m);k.remove(h==1?a.parentNode:a);if(g&&g!==o){r.appendChild(g);r.appendChild(o)}else r.innerHTML=c;n=r}}else if(s&&this._blankAfter(o)){r=this._insertParagraphAfter(s);k.remove(o);n=r}else if(l){r=this._insertParagraphAfter(l);k.remove(o);n=r}if(!n){if(!(a||s))new C([{tags:["p"]}]).apply([o]);e.selectNode(o);t=k.parentOfType(o,[a?"li":s?k.name(s):"p"]);y.split(e,t,f);i=t.previousSibling;if(k.is(i,"li")&&i.firstChild&&!k.is(i.firstChild,"br"))i=i.firstChild;n=t.nextSibling;this.clean(i,{links:true});this.clean(n,{links:true});if(k.is(n,"li")&&n.firstChild&&!k.is(n.firstChild,"br"))n=n.firstChild;k.remove(t);w(i)}w(n);this._moveFocus(e,n);e.collapse(true);k.scrollTo(n,true);y.selectRange(e)},_insertParagraphAfter:function(e){var t=this.getRange();var i=y.documentFromRange(t);var n=b.emptyElementContent;var r=k.create(i,"p");k.insertAfter(r,e);r.innerHTML=n;return r},clean:function(e,t){var i=e;if(e.firstChild&&k.is(e.firstChild,"br"))k.remove(e.firstChild);if(k.isDataNode(e)&&!e.nodeValue)e=e.parentNode;if(e){var n=false;while(e.firstChild&&e.firstChild.nodeType==1){n=n||k.significantNodes(e.childNodes).length>1;e=e.firstChild}if(!k.isEmpty(e)&&e.className!="k-br"&&/^\s*$/.test(e.innerHTML)&&!n){v(i).find(".k-br").remove();e.innerHTML=b.emptyElementContent}if(t&&t.links)while(e!=i){if(k.is(e,"a")&&k.emptyNode(e)){k.unwrap(e);break}e=e.parentNode}}}}),o=t.extend({init:function(e){this.options=e;t.fn.init.call(this,e)},exec:function(){var e=this.getRange();this.expandImmutablesIn(e);var t=k.create(y.documentFromRange(e),"br");var i=e.startContainer;var n;var r=l.support.browser;var o=r.msie&&r.version<11;var a=k.is(i,"table")&&i;var s;e.deleteContents();if(a)k.insertAfter(t,a);else{s=v(i).closest(".k-br");e.insertNode(t);if(s.length)k.unwrap(s[0])}w(t.parentNode);if(!o&&(!t.nextSibling||k.isWhitespace(t.nextSibling))){if(!!t.nextSibling&&k.isWhitespace(t.nextSibling))v(t.nextSibling).remove();n=t.cloneNode(true);n.className="k-br";k.insertAfter(n,t)}e.setStartAfter(t);e.collapse(true);k.scrollTo(t.nextSibling||t,true);y.selectRange(e)}});r(b,{ParagraphCommand:n,NewLineCommand:o}),i("insertLineBreak",new e({key:13,shift:true,command:o})),i("insertParagraph",new e({key:13,command:n}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/file.min",["kendo.filebrowser.min","./link.min"],function(){var n=window.kendo.jQuery,_=void 0,v=window.kendo,T=n.extend,e=v.ui.editor,t=e.EditorUtils,b=e.Dom,r=t.registerTool,o=e.ToolTemplate,k=e.RangeUtils,i=e.Command,a=e.LinkFormatter,N=k.textNodes,w=v.keys,y="#k-editor-file-url",C="#k-editor-file-text",x="#k-editor-file-title",s=i.extend({init:function(e){var t=this;i.fn.init.call(t,e);t.formatter=new a;t.async=true;t.attributes={}},insertFile:function(e,t){var i=this.attributes;var n=k.documentFromRange(t);if(i.href&&i.href!="http://")if(!e){e=b.create(n,"a",{href:i.href});e.innerHTML=i.innerHTML;e.title=i.title;t.deleteContents();t.insertNode(e);if(!e.nextSibling)b.insertAfter(n.createTextNode("\ufeff"),e);t.setStartAfter(e);t.setEndAfter(e);k.selectRange(t);return true}else b.attr(e,i);return false},_dialogTemplate:function(e){return v.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-file-url">#: messages.fileWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-text">#: messages.fileText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-text"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-title">#: messages.fileTitle #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-title"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes);e.releaseRange(t)},exec:function(){var o=this,a=o.lockRange(),u=N(a),c=false,s=u.length?this.formatter.finder.findSuitable(u[0]):null,l,f=v.support.browser.msie,p=o.editor.options,m=p.messages,e=p.fileBrowser,t=!!(v.ui.FileBrowser&&e&&e.transport&&e.transport.read!==_),i={title:m.insertFile,visible:false,resizable:t};this.expandImmutablesIn(a);function n(e){var t=l.element,i=t.find(y).val().replace(/ /g,"%20"),n=t.find(C).val(),r=t.find(x).val();o.attributes={href:i,innerHTML:n!==""?n:i,title:r};c=o.insertFile(s,a);d(e);if(o.change)o.change()}function d(e){e.preventDefault();l.destroy();b.windowFromDocument(k.documentFromRange(a)).focus();if(!c)o.releaseRange(a)}function h(e){if(e.keyCode==w.ENTER)n(e);else if(e.keyCode==w.ESC)d(e)}i.close=d;if(t)i.width=750;l=this.createDialog(o._dialogTemplate(t),i).toggleClass("k-filebrowser-dialog",t).find(".k-dialog-insert").on("click",n).end().find(".k-dialog-close").on("click",d).end().find(".k-edit-field input").on("keydown",h).end().find(y).val(s?s.getAttribute("href",2):"http://").end().find(C).val(s?s.innerText:"").end().find(x).val(s?s.title:"").end().data("kendoWindow");var r=l.element;if(t){o._fileBrowser=new v.ui.FileBrowser(r.find(".k-filebrowser"),T({},e));o._fileBrowser.bind("change",function(e){if(e.selected.get("type")==="f")r.find(y).val(this.value())});o._fileBrowser.bind("apply",n)}if(f){var g=r.closest(".k-window").height();r.css("max-height",g)}l.center().open();r.find(y).trigger("focus").select()}});r("insertFile",new e.Tool({command:v.ui.editor.FileCommand=s,template:new o({template:t.buttonTemplate,title:"Insert File"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/tables.min",["./formatblock.min","./insert.min"],function(){var p=window.kendo.jQuery,t=void 0,b=window.kendo,i=p.extend,f=b.ui.editor,m=f.Dom,a=f.EditorUtils,c=f.RangeUtils,n=f.Command,k="kendoEditor",r="k-active",d="k-selected",h="scope",w="row",y="col",C="rowgroup",x="colgroup",g="colspan",v="rowspan",_="table",T="thead",u="tbody",N="tr",R="td",S="th",A=f.Tool,s=f.ToolTemplate,o=f.InsertHtmlCommand,z=f.BlockFormatFinder,E=f.BlockFormatTool,I=f.FormatCommand,l=f.EditorUtils.registerTool,D=f.EditorUtils.registerFormat,H=b.ui.Editor.fn.options.formats,P=b.getTouches,B=b.template,L="<td style='width:#=width#%;'>#=content#</td>",F=new z([{tags:[_]}]),O=o.extend({init:function(e){var t=p.extend({postProcess:this.postProcess,skipCleaners:true},e||{});o.fn.init.call(this,t)},_tableHtml:function(e,t){e=e||1;t=t||1;var i=B(L)({width:100/t,content:f.emptyTableCellContent});var n=100/e;return"<table class='k-table' data-last>"+new Array(e+1).join("<tr style='height:"+n+"%;'>"+new Array(t+1).join(i)+"</tr>")+"</table>"},postProcess:function(e,t){var i=p("table[data-last]",e.document).removeAttr("data-last");t.setStart(i.find(R)[0],0);t.collapse(true);e.selectRange(t)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns);o.fn.exec.call(this)}}),M=A.extend({initialize:function(e,t){A.fn.initialize.call(this,e,t);var i=p(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:e,copyAnchorStyles:false,open:this._open.bind(this),activate:this._activate.bind(this),close:this._close.bind(this)}).data("kendoPopup");e.on("click",this._toggle.bind(this)).on("keydown",this._keydown.bind(this));var n=this._editor=t.editor;this._popup=i;var r=new f.TableWizardTool({template:new s({template:a.tableWizardButtonTemplate,title:n.options.messages.tableWizard}),command:f.TableWizardCommand,insertNewTable:true});l("tableWizardInsert",r);var o=p("<div>"+r.options.template.getHtml()+"</div>");o.appendTo(i.element);if(n.toolbar)n.toolbar.attachToolsEvents(o)},popup:function(){return this._popup},_activate:p.noop,_open:function(){this._popup.options.anchor.addClass(r)},_close:function(){this._popup.options.anchor.removeClass(r)},_keydown:function(e){var t=this,i=b.keys,n=e.keyCode,r=true;if(n==i.DOWN&&e.altKey||n==i.ENTER||n==i.SPACEBAR){t._popup.open();r=false}else if(n==i.ESC)t._popup.close()},_toggle:function(e){var t=p(e.target).closest(".k-tool");if(!t.hasClass("k-disabled"))this.popup().toggle()},update:function(e){var t=this.popup();if(t.wrapper&&t.wrapper.css("display")=="block")t.close();e.removeClass("k-hover")},destroy:function(){this._popup.destroy()}}),W=M.extend({init:function(e){this.cols=8;this.rows=6;M.fn.init.call(this,p.extend(e,{command:O,popupTemplate:"<div class='k-ct-popup'>"+"<div>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-disabled'></span>")+"</div>"+"<div class='k-status'></div>"+"</div>"}))},_activate:function(){var i=this,e=i._popup.element,t=e.find(".k-ct-cell"),n=t.eq(0),r=t.eq(t.length-1),o=b.getOffset(n),a=b.getOffset(r),u=i.cols,c=i.rows,s,l;e.find("*").addBack().attr("unselectable","on");a.left+=r[0].offsetWidth;a.top+=r[0].offsetHeight;s=(a.left-o.left)/u;l=(a.top-o.top)/c;function d(e){var t=p(window);return{row:Math.floor((e.clientY+t.scrollTop()-o.top)/l)+1,col:Math.floor((e.clientX+t.scrollLeft()-o.left)/s)+1}}e.autoApplyNS(k).on("mousemove",".k-ct-cell",function(e){i._setTableSize(d(e))}).on("mouseleave",".k-ct-cell",function(){i._setTableSize()}).on("down",".k-ct-cell",function(e){e.preventDefault();var t=P(e)[0];i._exec(d(t.location))})},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){if(this._valid(e)){this._editor.exec("createTable",{rows:e.row,columns:e.col});this._popup.close()}},_setTableSize:function(t){var e=this._popup.element;var i=e.find(".k-status");var n=e.find(".k-ct-cell");var r=this.cols;var o=this._editor.options.messages;if(this._valid(t)){i.text(b.format(o.createTableHint,t.row,t.col));n.each(function(e){p(this).toggleClass(d,e%r<t.col&&e/r<t.row)})}else{i.text(o.createTable);n.removeClass(d)}},_keydown:function(e){var t=this._popup.visible();M.fn._keydown.call(this,e);if(!this._popup.visible())return;var i=b.keys;var n=e.keyCode;var u=this._popup.element.find(".k-ct-cell");var r=Math.max(u.filter(".k-selected").last().index(),0);var o=Math.floor(r/this.cols);var a=r%this.cols;var s=false,l;if(n==i.DOWN&&!e.altKey){s=true;o++}else if(n==i.UP){s=true;o--}else if(n==i.RIGHT){s=true;a++}else if(n==i.LEFT){s=true;a--}else if(n==i.TAB){l=this._popup.element.find(".k-button");if(l.length>0){s=true;l.trigger("focus")}}var d={row:Math.max(1,Math.min(this.rows,o+1)),col:Math.max(1,Math.min(this.cols,a+1))};if(n==i.ENTER&&t)this._exec(d);else this._setTableSize(d);if(s){e.preventDefault();e.stopImmediatePropagation()}},_open:function(){var e=this._editor.options.messages;M.fn._open.call(this);this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(d)},_close:function(){M.fn._close.call(this);this.popup().element.off("."+k)}}),U=n.extend({undo:function(){var e=this.restorePoint;e.restoreHtml();p(this.editor.body).find(".k-element-resize-handle-wrapper").each(function(e,t){t.remove()});this.editor.selectRange(e.toRange())},_clearColIndexAttr:function(e){m.clearTableMappings(e,"col-index")},_mapColIndices:function(e){m.reMapTableColumns(e,"col-index")},_findRowSpanCell:function(e,t,i){var n,r;for(var o=t;o>=0;o--){n=e.rows[o];r=p(n).find("[col-index="+i+"]");if(r.length)return r}},_resetElementResizing:function(e){e._destroyResizings();e._initializeColumnResizing();e._initializeRowResizing();e._initializeElementResizing()},_findNextTdInRow:function(e,t){var i=e.find("td:last-child"),n=parseInt(i.attr("col-index"),10)+i.prop("colSpan")-1,r;for(var o=t;o<=n;o++){r=e.find("[col-index="+o+"]");if(r.length)return r}},_adjustColgroups:function(e,t){var i=t.getElementsByTagName(y),n=t.getElementsByTagName(x),r=e.cells,o=r.length,a,s,l;while(i.length>0)i[0].remove();while(n.length>0)n[0].remove();for(a=o-1;a>=0;a--){l=r[a];if(l.getAttribute(h)===x){s=m.createEmptyNode(this.editor.document,x);s.setAttribute("span",l.getAttribute(g));t.prepend(s)}else t.prepend(m.createEmptyNode(this.editor.document,y))}},_associateHeaderIds:function(e){m.clearTableMappings(e,"col-index");m.reMapTableColumns(e,"col-index");p(e).find("th, td").removeAttr("id headers");m.associateWithIds(e)},_getNumberOfColumns:function(e){return m._getNumberOfColumns(e,"td, th")}}),V=U.extend({exec:function(){var e=this.lockRange(true),t=m.closest(e.endContainer,[R,S]),i=m.closest(t,_),n=this.options.position||"after",u,r,o,a,s,c,l;if(!i||this.immutables()&&f.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);r=t.parentNode;s=m.findNodeIndex(r,true);if(t.rowSpan>1&&n==="after")r=i.rows[s+t.rowSpan-1];u=this._getNumberOfColumns(i);a=r.cloneNode(true);p(a).empty();for(var d=0;d<u;d=d+o.prop("colSpan")){o=p(r).find("[col-index="+d+"]");if(o.length)if(o.prop("rowSpan")>1&&n==="after"&&o)o.attr(v,o.prop("rowSpan")+1);else this._appendCell(a,o);else{s=m.findNodeIndex(r,true);o=this._findRowSpanCell(r.parentElement,s,d);c=o.closest(N).index();if(c+o.prop("rowSpan")-1===s&&n==="after")this._appendCell(a,o);else o.attr(v,o.prop("rowSpan")+1)}l=p(a).find("[col-index="+d+"]");if(l.attr(h)===C&&!l.attr(v))l.attr(h,w)}if(n=="before")m.insertBefore(a,r);else m.insertAfter(a,r);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_appendCell:function(e,t){var i;i=t.clone();i.html(f.emptyTableCellContent);i.removeAttr(v);i.appendTo(e)}}),j=U.extend({exec:function(){var e=this.lockRange(true),t=m.closest(e.endContainer,[R,S]),i=m.closest(t,_),n=i.getElementsByTagName(y),u=i.getElementsByTagName(x),r,o,a=i&&i.rows,s,l,d=this.options.position||"after";if(!t||this.immutables()&&f.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);r=parseInt(t.getAttribute("col-index"),10);if(t.colSpan>1&&d==="after"){t.setAttribute("col-index",r+t.colSpan-1);r=r+t.colSpan-1}for(o=0;o<a.length;o++){s=this._processForColSpan(a[o],r,d,t);if(!s)continue;l=s.cloneNode();l.innerHTML=f.emptyTableCellContent;l.removeAttribute(g);if(l.getAttribute(h)&&l.getAttribute(h)===x)l.setAttribute(h,y);if(d=="before")m.insertBefore(l,s);else m.insertAfter(l,s);this._resizeCells(l,s)}if(n.length>0||u.length>0)this._adjustColgroups(a[0],i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_processForColSpan:function(e,t,i,n){var r,o,a=t-1;r=p(e).find("[col-index="+t+"]")[0];if(r&&r.colSpan>1&&i==="after"&&r!==n){r.colSpan+=1;return}if(r)return r;for(a;a>=0;a--){r=p(e).find("[col-index="+a+"]")[0];if(r&&r.colSpan>1)break}if(!r)return;o=parseInt(r.getAttribute("col-index"),10)+r.colSpan-1;if(o===t&&i==="after")return r;else if(t<=o)r.setAttribute(g,r.colSpan+1)},_resizeCells:function(e,t){var i=e.style.width,n,r,o;if(!i)return;n=parseFloat(i);r=i.slice(n.toString().length);o=n/2+r;e.style.width=o;t.style.width=o}}),K=U.extend({exec:function(){var e=this.lockRange();var t=c.mapAll(e,function(e){return p(e).closest(N)[0]});var i=m.closest(e.endContainer,[R,S]);var n=t[0];var u=i?i.rowSpan:1;var r=p(t[0]).index();var o=m.closest(n,_);var a=n.parentElement;var s;if(!o||this.immutables()&&f.Immutables.immutableParent(n)){this.releaseRange(e);return}for(var l=0;l<u;l++)if(t.indexOf(a.rows[r+l])<0)t.push(a.rows[r+l]);if(o.rows.length<=t.length){s=m.next(o);if(!s||m.insignificant(s))s=m.prev(o);if(s&&s.rows)s=s.rows[0].cells[0];m.remove(o);this._resetElementResizing(this.editor)}else if(a.rows.length<=t.length){s=a.nextSibling;if(!s)s=a.previousSibling;m.remove(a)}else{this._mapColIndices(o);for(var d=0;d<t.length;d++){n=t[d];m.removeTextSiblings(n);s=m.next(n)||m.prev(n);s=s.cells[0];this._focusElement(e,s);s=null;this._handleRowSpanCells(o,n);m.remove(n)}this._clearColIndexAttr(o)}if(p(o).find("[headers]").length>0)this._associateHeaderIds(o);else if(m.is(a,T)&&p(o).find("[scope]").length>0)this._adjustColgroups(a.rows[0],o);if(s)this._focusElement(e,s);this._resetElementResizing(this.editor)},_focusElement:function(e,t){e.setStart(t,0);e.collapse(true);this.editor.selectRange(e)},_handleRowSpanCells:function(e,t){var i,n,r,o,a=m.findNodeIndex(t,true),s=e.rows[0],l=s.cells[s.cells.length-1],d=parseInt(l.getAttribute("col-index"),10)+l.colSpan-1;for(i=0;i<=d;i=i+n.prop("colSpan")){n=p(t).find("[col-index="+i+"]");if(n.length&&n.prop("rowSpan")>1){o=e.rows[a+1];r=p(o).find("[col-index="+(i+1)+"]");if(r.length)r.before(n);else p(o).append(n);this._reduceRowSpan(n)}if(!n.length){n=this._findRowSpanCell(t.parentElement,a,i);this._reduceRowSpan(n)}}},_reduceRowSpan:function(e){var t=e.prop("rowSpan")-1;if(t<=1){e.removeAttr(v);if(e.attr(h)===C)e.attr(h,w)}else e.attr(v,t)}}),$=U.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[R,S]),i=m.closest(t,_),n=i&&i.rows,r=m.findNodeIndex(t,true),o=n&&n[0].cells.length,u=i.getElementsByTagName(y),c=i.getElementsByTagName(x),a,s,l,d;if(!t||this.immutables()&&f.Immutables.immutableParent(t)){this.releaseRange(e);return}if(o==1||t.colSpan==o){a=m.next(i);if(!a||m.insignificant(a))a=m.prev(i);if(a&&a.rows)a=a.rows[0].cells[0];m.remove(i);this._resetElementResizing(this.editor)}else{m.removeTextSiblings(t);a=m.next(t)||m.prev(t);this._mapColIndices(i);r=parseInt(t.getAttribute("col-index"),10);for(d=0;d<t.colSpan;d++)for(s=0;s<n.length;s=s+(l.prop("rowSpan")||1)){l=p(n[s]).find("[col-index="+(r+d)+"]");if(l.length&&l.prop("colSpan")<=1)l.remove();else this._handleColSpanCells(n[s],r+d)}this._clearColIndexAttr(i)}if(u.length>0||c.length>0)this._adjustColgroups(n[0],i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);if(a){e.setStart(a,0);e.collapse(true);this.editor.selectRange(e)}this._resetElementResizing(this.editor)},_handleColSpanCells:function(e,t){var i=p(e).find("[col-index="+t+"]");if(i.length&&i.prop("colSpan")>1){var n=i.clone(true);i.after(n);this._reduceColSpan(n);n.attr("col-index",parseInt(i.attr("col-index"),10)+1);i.remove();return}for(var r=t;r>=0;r--){i=p(e).find("[col-index="+r+"]");if(i.length){this._reduceColSpan(i);i.attr("col-index",parseInt(i.attr("col-index"),10)+1);return}}},_reduceColSpan:function(e){var t=e.prop("colSpan")-1;if(t<=1){e.removeAttr(g);if(e.attr(h)===x)e.attr(h,y)}else e.attr(g,t)}}),X=U.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[R,S]),i,n,r,o,a;if(!t){this.releaseRange(e);return}i=m.closest(t,_);n=t.parentNode;r=m.findNodeIndex(t,true);o=n.children[r+1];if(this.immutables()&&f.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);r=parseInt(p(t).attr("col-index"),10);o=p(n).find("[col-index="+(r+1+this._getColspan(t)-1)+"]").get(0);if(!o||o.rowSpan!==t.rowSpan||t.tagName!==o.tagName){this._clearColIndexAttr(i);this.releaseRange(e);return}a=this._getColspan(t)+this._getColspan(o);p(t).prop(g,a).append(m.emptyNode(o)?"":"<br/>"+o.innerHTML);p(t).width(t.offsetWidth);p(o).remove();if(t.getAttribute(h)===y)t.setAttribute(h,x);if(t.getAttribute(h)===x)this._adjustColgroups(n,i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_getColspan:function(e){return parseInt(e.getAttribute(g),10)||1}}),Y=U.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[R,S]),i,n,r,o,a,s,l;if(!t){this.releaseRange(e);return}i=m.closest(t,N);n=m.closest(t,[T,u]);r=m.closest(t,_);o=m.findNodeIndex(t,true);a=m.findNodeIndex(i,true);if(a+1===n.rows.length){this.releaseRange(e);return}s=n.rows[a+this._getRowspan(t)];l=s&&s.children[o];if(this.immutables()&&f.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(r);o=p(t).attr("col-index");l=p(s).find("[col-index="+o+"]").get(0);if(!l||l.colSpan!==t.colSpan||t.tagName!==l.tagName){this._clearColIndexAttr(r);this.releaseRange(e);return}p(t).prop(v,this._getRowspan(t)+this._getRowspan(l)).append(m.emptyNode(l)?"":"<br/>"+l.innerHTML);if(t.getAttribute(h)===w)t.setAttribute(h,C);p(l).remove();if(p(r).find("[headers]").length>0)this._associateHeaderIds(r);this._clearColIndexAttr(r);this.releaseRange(e)},_getRowspan:function(e){return parseInt(e.getAttribute(v),10)||1}}),q=U.extend({exec:function(){var e=this.lockRange(),t=this.options.type,i=t==="row"?g:v,n=m.closest(e.endContainer,[R,S]),r=m.closest(n,[T,u]),o=m.closest(n,_),a=m.createEmptyNode(this.editor.document,n.nodeName.toLowerCase());if(!n||this.immutables()&&f.Immutables.immutableParent(n)){this.releaseRange(e);return}this._mapColIndices(o);if(t==="row"&&p(n).is("["+i+"]"))this._splitCellHorizontally(n,r,i,a);else if(t==="column"&&p(n).is("["+i+"]"))this._splitCellVertically(n,r,i,a);if(p(n).prop(i.toLowerCase())<=1)p(n).removeAttr(i);if(p(o).find("[headers]").length>0)this._associateHeaderIds(o);this._clearColIndexAttr(o);this.releaseRange(e)},_getRowspanValue:function(e){return parseInt(e.getAttribute(v),10)},_getColspanValue:function(e){return parseInt(e.getAttribute(g),10)},_splitCellHorizontally:function(e,t,i,n){var r=e.rowSpan,o=e.colSpan,a=p(n),s=Math.floor(o/2);if(s>1)a.attr(g,s);if(r>1)a.attr(v,r);p(e).prop(i,o-s).after(a);p(e).width(e.offsetWidth);a.width(a[0].offsetWidth);if(e.hasAttribute(h))if(e.getAttribute(h)===x){a.attr(h,y);if(!e.getAttribute(g)||e.getAttribute(g)==="1")e.setAttribute(h,y);this._adjustColgroups(e.parentNode,t.parentNode)}else a.attr(h,e.getAttribute(h))},_splitCellVertically:function(e,t,i,n){var u=m.closest(e,N),c=parseInt(p(e).attr("col-index"),10),f=m.findNodeIndex(u,true),r=e.rowSpan,o=e.colSpan,a=Math.floor(r/2),s=p(t).find(N).eq(f+r-a),l=this._findNextTdInRow(s,c+o),d=p(n);if(a>1)d.attr(v,a);if(o>1)d.attr(g,o);if(l&&l.length)l.before(d);else s.append(d);p(e).prop(i,r-a);if(e.hasAttribute(h))if(e.getAttribute(h)===C){d.attr(h,w);if(!e.getAttribute(v)||e.getAttribute(v)==="1")e.setAttribute(h,w)}else d.attr(h,e.getAttribute(h))}}),e=A.extend({command:function(e){var t={row:{insert:V,delete:K,merge:X,split:q},column:{insert:j,delete:$,merge:Y,split:q}};e=i(e,this.options);e.action=e.action||"insert";return new t[e.type][e.action](e)},initialize:function(e,t){A.fn.initialize.call(this,e,t);e.addClass("k-disabled");e.attr("disabled","disabled")},update:function(e,t){var i=!F.isFormatted(t);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}}),G=I.extend({exec:function(){var e=this;var t=e.editor;I.fn.exec.call(this);if(t.elementResizing)t.elementResizing._showResizeHandles()}}),Q=E.extend({initialize:function(e,t){E.fn.initialize.call(this,e,t);e.addClass("k-disabled");e.attr("disabled","disabled")},update:function(e,t){var i=!F.isFormatted(t);var n=this.options.finder.isFormatted(t,this.isTable);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}e.toggleClass("k-selected",n);e.attr("aria-pressed",n)},command:function(e){var t=this;return new G(i(e,{formatter:t.options.formatter}))},isTable:function(e){return m.is(e,"table")}});i(b.ui.editor,{PopupTool:M,TableCommand:O,InsertTableTool:W,TableFormatTool:Q,TableFormatCommand:G,TableModificationTool:e,InsertRowCommand:V,InsertColumnCommand:j,DeleteRowCommand:K,DeleteColumnCommand:$,MergeCellsHorizontallyCommand:X,MergeCellsVerticallyCommand:Y,SplitCellCommand:q}),l("createTable",new W({template:new s({template:a.buttonTemplate,popup:true,title:"Create table"})})),l("addColumnLeft",new e({type:"column",position:"before",template:new s({template:a.buttonTemplate,title:"Add column on the left"})})),l("addColumnRight",new e({type:"column",template:new s({template:a.buttonTemplate,title:"Add column on the right"})})),l("addRowAbove",new e({type:"row",position:"before",template:new s({template:a.buttonTemplate,title:"Add row above"})})),l("addRowBelow",new e({type:"row",template:new s({template:a.buttonTemplate,title:"Add row below"})})),l("deleteRow",new e({type:"row",action:"delete",template:new s({template:a.buttonTemplate,title:"Delete row"})})),l("deleteColumn",new e({type:"column",action:"delete",template:new s({template:a.buttonTemplate,title:"Delete column"})})),l("mergeCellsHorizontally",new e({type:"row",action:"merge",template:new s({template:a.buttonTemplate,title:"Merge Cell Right"})})),l("mergeCellsVertically",new e({type:"column",action:"merge",template:new s({template:a.buttonTemplate,title:"Merge Cell Down"})})),l("splitCellHorizontally",new e({type:"row",action:"split",template:new s({template:a.buttonTemplate,title:"Split Cell"})})),l("splitCellVertically",new e({type:"column",action:"split",template:new s({template:a.buttonTemplate,title:"Split Cell"})})),D("tableAlignLeft",[{tags:["table"],attr:{style:{marginLeft:"",marginRight:"auto"}}},{tags:["table"],attr:{align:"left"}}]),l("tableAlignLeft",new Q({format:H.tableAlignLeft,template:new s({template:a.buttonTemplate,title:"Table Align Left"})})),D("tableAlignCenter",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:"auto"}}},{tags:["table"],attr:{align:"center"}}]),l("tableAlignCenter",new Q({format:H.tableAlignCenter,template:new s({template:a.buttonTemplate,title:"Table Align Center"})})),D("tableAlignRight",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:""}}},{tags:["table"],attr:{align:"right"}}]),l("tableAlignRight",new Q({format:H.tableAlignRight,template:new s({template:a.buttonTemplate,title:"Table Align Left"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/clipboard.min",["../command.min"],function(){var C=window.kendo.jQuery,u=window.kendo,e=u.Class,t=u.ui.editor,w=t.RangeUtils,x=t.Dom,n=t.RestorePoint,y=t.Marker,_=u.support.browser,T=C.extend,i=e.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new a(t),new s(t),new l(t),new d(t),new f(t),new p(t),new o(t),new v(t)]},htmlToFragment:function(e){var t=this.editor,i=t.document,n=x.create(i,"div"),r=i.createDocumentFragment();n.innerHTML=e;while(n.firstChild)r.appendChild(n.firstChild);return r},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e;var t;var i=this.editor;if(this._inProgress)return;this._inProgress=true;e=i.getRange();t=new n(e,i.body);x.persistScrollTop(i.document);return{range:e,restorePoint:t}},_endModification:function(e){t._finishUpdate(this.editor,e.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(e,t){var i=this;var n=i.editor;var r=i._startModification();if(!r)return;e.call(i,n,r.range);setTimeout(function(){t.call(i,n,r.range);i._endModification(r)})},_removeBomNodes:function(e){var t=w.textNodes(e);for(var i=0;i<t.length;i++)t[i].nodeValue=x.stripBom(t[i].nodeValue)||t[i].nodeValue},_onBeforeCopy:function(e){var t=new y;t.add(e);this._removeBomNodes(e);t.remove(e);this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange());this._contentModification(C.noop,C.noop)},_fileToDataURL:function(e){var t=C.Deferred();var i=new FileReader;if(!(e instanceof window.File)&&e.getAsFile)e=e.getAsFile();i.onload=t.resolve.bind(t);i.readAsDataURL(e);return t.promise()},_triggerPaste:function(e,t){var i={html:e||""};i.html=i.html.replace(/\ufeff/g,"");this.editor.trigger("paste",i);this.paste(i.html,t||{})},_handleImagePaste:function(e){if(!("FileReader"in window)||_.msie&&_.version>10)return;var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{};var i=t.items||t.files;return this._insertImages(i)},_insertImages:function(e){if(!e)return;var t=C.grep(e,function(e){return/^image\//i.test(e.type)});var i=C.grep(e,function(e){return/^text\/html/i.test(e.type)});if(i.length||!t.length)return;var n=this._startModification();if(!n)return;C.when.apply(C,C.map(t,this._fileToDataURL)).done(function(){var e=Array.prototype.slice.call(arguments);var t=C.map(e,function(e){return'<img src="'+e.target.result+'" />'}).join("");this._triggerPaste(t);this._endModification(n)}.bind(this));return true},onpaste:function(d){if(this.editor.body.contentEditable==="false")return;if(this._handleImagePaste(d)){d.preventDefault();return}this.expandImmutablesIn();this._contentModification(function e(t,i){var n=x.create(t.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var r=u.support.browser;var o=t.body;this._decoreateClipboardNode(n,o);o.appendChild(n);if(r.webkit)this._moveToCaretPosition(n,i);if(r.msie&&r.version<11){d.preventDefault();var a=t.createRange();a.selectNodeContents(n);t.selectRange(a);var s=t.document.body.createTextRange();s.moveToElementText(n);C(o).off("paste");s.execCommand("Paste");C(o).on("paste",this.onpaste.bind(this))}else{var l=t.createRange();l.selectNodeContents(n);t.selectRange(l)}i.deleteContents()},function e(t,i){var n="",r;t.selectRange(i);r=C(t.body).children(".k-paste-container");r.each(function(){var e=this.lastChild;if(e&&x.is(e,"br"))x.remove(e);n+=this.innerHTML});r.remove();this._triggerPaste(n,{clean:true})})},ondragover:function(e){if(_.msie||_.edge){e.stopPropagation();e.preventDefault()}},ondrop:function(e){if(!("FileReader"in window))return;var t=(e.originalEvent||e).dataTransfer||{};var i=t.items||t.files;if(this._insertImages(i))e.preventDefault()},_decoreateClipboardNode:function(e,t){if(!_.msie&&!_.webkit)return;e=C(e);e.css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"});if(_.msie){var i=C(t.ownerDocument.documentElement);e.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var n=i.css("color");if(n)e.css("color",n);var r=i.css("fontFamily");if(r)e.css("fontFamily",r);var o=i.css("fontSize");if(o)e.css("fontSize",o)}},_moveToCaretPosition:function(e,t){var i=this;var n=i.editor.body;var r=x.offset(e,n);var o=i._caretOffset(t,n);var a=o.left-r.left;var s=o.top-r.top;var l="translate("+a+"px,"+s+"px)";C(e).css({"-webkit-transform":l,transform:l})},_caretOffset:function(e,t){var i=this.editor;var n=x.create(i.document,"span",{innerHTML:"\ufeff"});var r=e.startContainer;var o;if(e.collapsed){var a=x.isDataNode(r);if(a&&(x.isBom(r)||e.startOffset===0))x.insertBefore(n,r);else if(a&&e.startOffset===r.length)x.insertAfter(n,r);else{e.insertNode(n);o=true}}else{r=r===t?r.childNodes[e.startOffset]:r;x.insertBefore(n,r)}var s=x.offset(n,t);var l=n.previousSibling;var d=n.nextSibling;x.remove(n);if(o&&x.isDataNode(l)&&x.isDataNode(d)&&!x.isBom(l)&&!x.isBom(d)){var u=l.length;d.data=l.data+d.data;e.setStart(d,u);x.remove(l);e.collapse(true);i.selectRange(e)}return s},expandImmutablesIn:function(e){var t=this.editor;if(t&&t.options.immutables){var i=t.body;e=e||t.getRange();u.ui.editor.Immutables.expandImmutablesIn(e);if(e.startContainer===i&&e.startOffset===0){var n=i.ownerDocument;var r=n.createTextNode("\ufeff");i.insertBefore(r,i.childNodes[0]);e.setStartBefore(r)}t.selectRange(e)}},splittableParent:function(e,t){var i,n;if(e)return x.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;i=t.parentNode;n=t.ownerDocument.body;if(x.isInline(i))while(i.parentNode!=n&&!x.isBlock(i.parentNode))i=i.parentNode;return i},paste:function(e,t){var i=this.editor,n,u,c;this.expandImmutablesIn();t=T({clean:false,split:true},t);if(!t.skipCleaners)for(n=0,u=this.cleaners.length;n<u;n++)if(this.cleaners[n].applicable(e))e=this.cleaners[n].clean(e);if(t.clean){e=e.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3");e=e.replace(/<(a|span)[^>]*><\/\1>/gi,"")}e=e.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>");e=e.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var f=this.isBlock(e);i.focus();var r=i.getRange();r.deleteContents();if(r.startContainer==i.document)r.selectNodeContents(i.body);var p=new y;var o=p.addCaret(r);var a=this.splittableParent(f,o);var m=false;var h=a!=i.body&&!x.is(a,"td");if(t.split&&h&&(f||x.isInline(a))){r.selectNode(o);w.split(r,a,true);m=true}var s=this.htmlToFragment(e);if(s.firstChild&&s.firstChild.className==="k-paste-container"){var g=[];for(n=0,u=s.childNodes.length;n<u;n++)g.push(s.childNodes[n].innerHTML);s=this.htmlToFragment(g.join("<br />"))}c=s.childNodes;C(c).filter("table").addClass("k-table").end().find("table").addClass("k-table");C(c).each(function(e,t){if(x.isBlock(t)&&!x.isSelfClosing(t)&&t.innerHTML==="")t.appendChild(i.document.createTextNode("\ufeff"))});r.insertNode(s);a=this.splittableParent(f,o);if(m){while(o.parentNode!=a)x.unwrap(o.parentNode);x.unwrap(o.parentNode)}x.normalize(r.commonAncestorContainer);o.style.display="inline";x.restoreScrollTop(i.document);x.scrollTo(o);p.removeCaret(r);var v=r.commonAncestorContainer.parentNode;if(r.collapsed&&x.name(v)=="tbody"||r.collapsed&&x.name(v)=="thead"){r.setStartAfter(C(v).closest("table")[0]);r.collapse(true)}var l=C(r.commonAncestorContainer.parentNode).closest("table");if(l.get(0)){var b=l.parent().contents();var k=b.length-1;var d=b.get(k);while(d.nodeValue!==null&&(d.nodeValue===" "||d.nodeValue==="")){k-=1;d=b.get(k)}if(d===l.get(0)&&!l.parents("table").length)x.insertAfter(x.createEmptyNode(i.document,"p"),l[0])}i.selectRange(r)}}),r=e.extend({init:function(e){this.options=e||{};this.replacements=[]},clean:function(e,t){var i=this,n=t||i.replacements,r,o;for(r=0,o=n.length;r<o;r+=2)e=e.replace(n[r],n[r+1]);return e}}),a=r.extend({init:function(e){r.fn.init.call(this,e);this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}}),s=r.extend({init:function(e){r.fn.init.call(this,e);var t=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,t,/\t/gi,t,/&nbsp;&nbsp; &nbsp;/gi,t]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),l=r.extend({init:function(e){r.fn.init.call(this,e);this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""];this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>\n/g,"<br/>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,i){var n=/face=['"]([^'"]+)['"]/i;var r=n.exec(i);var o=i&&r&&r[1];if(t)return"</span>";else if(o)return'<span style="font-family:'+o+'">';else return"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){if(!t||t.indexOf("href")<0)return"";return e})},listType:function(e,t){var i=e.innerHTML;var n=x.innerText(e);var r;var o=i.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i);var a=o&&o[1];var s=/^[a-z\d]/i.test(a);var l=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};if(o)r=true;i=i.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"");if(!r&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(i)||r&&/^.\u00a0+/.test(i)||a&&!s&&t)return{tag:"ul",style:this._guessUnorderedListStyle(l(n))};if(/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i))return{tag:"ol",style:this._guessOrderedListStyle(l(n))}},_convertToLi:function(e){var t;if(e.childNodes.length==1){t=e.firstChild.nodeType===x.nodeTypes.TEXT_NODE?x.innerText(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"");t=this._checkForBullet(t)}else t=this._getHtmlNoBullet(e);x.remove(e);return x.create(document,"li",{innerHTML:t})},_checkForBullet:function(e){var t=x.create(document,"p",{innerHTML:e});var i=/^\s*\w+[\.\)]\s+/;if(i.test(t.innerText))return this._getHtmlNoBullet(t);return e},_getHtmlNoBullet:function(e){var t,i=x.name(e);x.remove(e.firstChild);if(e.firstChild.nodeType==3)if(/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue))x.remove(e.firstChild);if(/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML))x.remove(e.firstChild);if(i!="p")t="<"+i+">"+e.innerHTML+"</"+i+">";else t=e.innerHTML;return t},_guessUnorderedListStyle:function(e){if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e))return null;else if(/^o/.test(e))return"circle";else return"square"},_guessOrderedListStyle:function(e){var t=null;if(!/^\d/.test(e))t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha");return t},extractListLevels:function(e){var t=/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi;e=e.replace(t,function(e,t,i){return u.format('data-list="{0}" data-level="{1}" {2}',t,i,e)});return e},_createList:function(e,t){return x.create(document,e,{style:{listStyleType:t}})},lists:function(u){var c=C(u).find(x.blockElements.join(",")),e=-1,f,t={},i,n,p,m,h,g,r,o,a,s,l,d,v=["p","h1","h2","h3","h4","h5","h6"],b=false;for(r=0;r<c.length;r++){o=c[r];d=C(o).data();var k=d.list;f=x.name(o);b=!!C(o).parents("table").length;if(b)continue;var w=this.listType(o,d);a=w&&w.tag;if(!a||v.indexOf(f)<0){if(!o.innerHTML)x.remove(o);else if(i&&!h)i.appendChild(o);continue}if(_.msie)continue;s=d.level||parseFloat(o.style.marginLeft||0);var y=a+k;if(!t[s])t[s]={};if(!n||n<0){n=s;p=k;m=C(u).find("[data-list='"+p+"']").last()[0];g=this._createList(a,w.style);x.insertBefore(g,o);e=s;t[s][y]=g}h=m===o;l=t[s][y];if(s>e||!l){l=this._createList(a,w.style);t[s][y]=l;i.appendChild(l)}i=this._convertToLi(o);l.appendChild(i);if(h)n=e=-1;else e=s}},removeAttributes:function(e){var t=e.attributes,i=t.length,n=[],r=function(t){var e=["border","background","padding"];return e.filter(function(e){return t.trim().indexOf(e)===0}).length>0},o=function(e){if(r(e))n.push(e.trim())},a,s,l;while(i--)if(x.name(t[i])!="colspan"){a=t[i];s=a.name;if(s==="style"&&(e.nodeName==="TD"||e.nodeName==="TH")){l=a.value.split(";");l.forEach(o)}e.removeAttributeNode(t[i])}if(n.length>0)e.setAttribute("style",n.join(";"))},createColGroup:function(e){var t=e.cells;var i=C(e).closest("table");var n=i.children("colgroup");if(t.length<2)return;else if(n.length){t=n.children();n[0].parentNode.removeChild(n[0])}n=C(C.map(t,function(e){var t=e.width;if(t&&parseInt(t,10)!==0)return u.format('<col style="width:{0}px;"/>',t);return"<col />"}).join(""));if(!n.is("colgroup"))n=C("<colgroup/>").append(n);n.prependTo(i)},convertHeaders:function(e){var t=e.cells,i,n=C.map(t,function(e){var t=C(e).children("p").children("strong")[0];if(t&&x.name(t)=="strong")return t});if(n.length==t.length){for(i=0;i<n.length;i++)x.unwrap(n[i]);C(e).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(e);for(i=0;i<t.length;i++)x.changeTag(t[i],"th")}},removeParagraphs:function(e){var t,i,n,r,o;for(t=0;t<e.length;t++){this.removeAttributes(e[t]);r=C(e[t]);o=r.children("p");for(i=0,n=o.length;i<n;i++){if(i<n-1)x.insertAfter(x.create(document,"br"),o[i]);x.unwrap(o[i])}}},removeTextNodes:function(e){var t,i,n,r,o;for(t=0;t<e.length;t++){o=e[t];n=o.childNodes;for(i=0;i<n.length;i++){r=n[i];if(r.nodeType===x.nodeTypes.TEXT_NODE)o.removeChild(r)}}},tables:function(e){var t=C(e).find("table"),i=this,n,r,o,a,s;for(a=0;a<t.length;a++){n=t[a].rows;o=r=n[0];for(s=1;s<n.length;s++)if(n[s].cells.length>o.cells.length)o=n[s];i.createColGroup(o);i.convertHeaders(r);i.removeAttributes(t[a]);i.removeParagraphs(t.eq(a).find("td,th"));i.removeTextNodes(t.eq(a).find("tr"))}},headers:function(e){var t=C(e).find("p.MsoTitle");for(var i=0;i<t.length;i++)x.changeTag(t[i],"h1")},removeFormatting:function(e){C(e).find("*").each(function(){C(this).css({fontSize:"",fontFamily:""});if(!this.getAttribute("style")&&!this.style.cssText)this.removeAttribute("style")})},clean:function(e){var t=this,i;var n=this.options;if(n.none){e=r.fn.clean.call(t,e,this.junkReplacements);e=t.stripEmptyAnchors(e)}else{e=n.msConvertLists?this.extractListLevels(e):e;e=r.fn.clean.call(t,e);e=t.stripEmptyAnchors(e);i=x.create(document,"div",{innerHTML:e});t.headers(i);if(n.msConvertLists)t.lists(i);t.tables(i);if(n.msAllFormatting)t.removeFormatting(i);e=i.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}return e}}),d=r.extend({init:function(e){r.fn.init.call(this,e);this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),c=r.extend({clean:function(e){var t=x.create(document,"div",{innerHTML:e});t=this.cleanDom(t);return t.innerHTML},cleanDom:function(e){return e}}),f=c.extend({cleanDom:function(e){var t=this.collectTags();C(e).find(t).each(function(){x.unwrap(this)});return e},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}}),p=c.extend({cleanDom:function(e){var t=this.collectAttr();var i=C(e).find("["+t.join("],[")+"]");i.removeAttr(t.join(" "));return e},collectAttr:function(){if(this.options.css)return["class","style"];return[]},applicable:function(){return this.options.css}}),m=function(){this.text="";this.add=function(e){this.text+=e}},h=e.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"};this.lines=[];this.inlineBlockText=[];this.resetLine()},appendText:function(e){if(e.nodeType===3)e=e.nodeValue;this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){if(this.inlineBlockText.length){this.appendText(this.inlineBlockText.join(" "));this.inlineBlockText=[]}},endLine:function(){this.flashInlineBlockText();this.resetLine()},html:function(){var e=this.separators;var t="";var i=this.lines;this.flashInlineBlockText();for(var n=0,r=i.length,o=r-1;n<r;n++){var a=i[n];for(var s=0,l=a.length,d=l-1;s<l;s++){var u=a[s].text;t+=u;if(s!==d)t+=e.text}if(n!==o)t+=e.line}return t},resetLine:function(){this.textContainer=new m;this.line=[];this.line.push(this.textContainer);this.lines.push(this.line)}}),g=e.extend({init:function(e){this.callback=e},enumerate:function(e){if(!e)return;var t=this.callback(e);var i=e.firstChild;if(!t&&i)this.enumerate(i);this.enumerate(e.nextSibling)}}),o=r.extend({init:function(e){r.fn.init.call(this,e);this.hasText=false;this.enumerator=new g(this.buildText.bind(this))},clean:function(e){var t=x.create(document,"div",{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){this.separators=this.getDefaultSeparators();this.htmlLines=new h(this.separators);this.enumerator.enumerate(e.firstChild);this.hasText=false;return this.htmlLines.html()},buildText:function(e){if(x.isDataNode(e)){if(x.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line));this.hasText=true}else if(x.isBlock(e)&&this.hasText){var t=this.actions[x.name(e)]||this.actions.block;return t(this,e)}else if(x.isBr(e))this.htmlLines.appendText(this.separators.line)},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){if(this.options.all)return{text:" ",line:" "};else return{text:" ",line:"<br/>"}},actions:{ul:C.noop,ol:C.noop,table:C.noop,thead:C.noop,tbody:C.noop,td:function(e,t){var i=new o({all:true});var n=i.cleanDom(t);e.htmlLines.appendInlineBlockText(n);return true},block:function(e){e.htmlLines.endLine()}}}),v=r.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return typeof this.options.custom==="function"}});T(t,{Clipboard:i,Cleaner:r,ScriptCleaner:a,TabCleaner:s,MSWordFormatCleaner:l,WebkitFormatCleaner:d,HtmlTagsCleaner:f,HtmlAttrCleaner:p,HtmlContentCleaner:o,HtmlTextLines:h,CustomCleaner:v})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/keyboard.min",["../command.min"],function(){var k=window.kendo.jQuery,d=window.kendo,e=d.Class,w=d.ui.editor,u=w.RangeUtils,y=w.Dom,c=w.RestorePoint,f=w.Marker,m=d.support.browser,a="<span  class='k-br'>\ufeff</span>",h=k.extend,i=y.nodeTypes,C="previousSibling";function g(e,t){return t.startContainer===e&&t.endContainer===e&&t.startOffset===0&&t.endOffset==e.childNodes.length}function x(e,t,i){var n=e?e[t]:null;while(n&&!i(n))n=n[t];return n}var p="td,th,caption",t="table,tbody,thead,tfoot,tr",v=t+","+p,b=function(e){return!e.collapsed&&k(e.commonAncestorContainer).is(t)},_=e.extend({remove:function(e){var t=this;var i=new f;i.add(e,false);var n=u.getAll(e,function(e){return k(e).is(v)});var r=u.documentFromRange(e);var o=i.start;var a=i.end;var s=p.split(",");var l=y.parentOfType(o,s);var d=y.parentOfType(a,s);t._removeContent(o,l,true);t._removeContent(a,d,false);k(n).each(function(e,t){t=k(t);(t.is(p)?t:t.find(p)).each(function(e,t){t.innerHTML="&#65279;"})});if(l&&!o.previousSibling)y.insertBefore(r.createTextNode("\ufeff"),o);if(d&&!a.nextSibling)y.insertAfter(r.createTextNode("\ufeff"),a);if(l)e.setStartBefore(o);else if(n[0]){l=k(n[0]);l=l.is(p)?l:l.find(p).first();if(l.length)e.setStart(l.get(0),0)}e.collapse(true);y.remove(o);y.remove(a)},_removeContent:function(e,t,i){if(t){var n=i?"nextSibling":"previousSibling",r,o=function(e){while(e&&!e[n])e=e.parentNode;return e&&k.contains(t,e)?e[n]:null};e=o(e);while(e){r=o(e);y.remove(e);e=r}}}}),n=e.extend({init:function(e){this.editor=e},keydown:function(e){var t=this,i=t.editor,n=i.keyboard,r=n.isTypingKey(e),o=h(k.Event(),e);t.editor.trigger("keydown",o);if(o.isDefaultPrevented()){e.preventDefault();return true}if(!o.isDefaultPrevented()&&r&&!n.isTypingInProgress()){var a=i.getRange();var s=i.body;t.startRestorePoint=new c(a,s);if(b(a)){var l=new _(i);l.remove(a);i.selectRange(a)}if(m.webkit&&!a.collapsed&&g(s,a))s.innerHTML="";if(i.immutables&&w.Immutables.immutablesContext(a)){var d=new w.BackspaceHandler(i);d.deleteSelection(a)}n.startTyping(function(){t._removeBomSpan();t.endRestorePoint=w._finishUpdate(i,t.startRestorePoint)});return true}return false},keyup:function(e){var t=this.editor.keyboard;this.editor.trigger("keyup",e);if(t.isTypingInProgress()){t.endTyping();return true}return false},_removeBomSpan:function(){var e=this.editor.getRange().commonAncestorContainer;if(!y.emptyNode(e)){if(e.nodeType===3)e=e.parentNode;if(y.insignificant(e)){e.textContent=y.stripBom(e.textContent);y.unwrap(e)}}}}),r=e.extend({init:function(e){this.editor=e},_addCaret:function(e){var t=y.create(this.editor.document,"a");if(!d.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===i.ELEMENT_NODE)e=e.firstChild;y.insertAt(e,t,0);y.stripBomNode(t.previousSibling);y.stripBomNode(t.nextSibling);return t},_restoreCaret:function(e){var t=this.editor.createRange();if(!e.nextSibling&&y.isDataNode(e.previousSibling))t.setStart(e.previousSibling,e.previousSibling.length);else t.setStartAfter(e);t.collapse(true);this.editor.selectRange(t);y.remove(e)},_handleDelete:function(e){var t=e.endContainer;var i=y.closestEditableOfType(t,y.blockElements);if(i&&w.RangeUtils.isEndOf(e,i)){var n=y.next(i);if(!n||y.name(n)!="p")return false;var r=y.significantChildNodes(n)[0];r=r&&y.isInline(r)?r:n;var o=this._addCaret(r);this._merge(i,n);this._restoreCaret(o);return true}return false},_cleanBomBefore:function(e){var t=e.startOffset;var i=e.startContainer;var n=i.nodeValue;var r=0;while(t-r>=0&&n[t-r-1]=="\ufeff")r++;if(r>0){i.deleteData(t-r,r);e.setStart(i,Math.max(0,t-r));e.collapse(true);this.editor.selectRange(e)}},_handleBackspace:function(e){var t=e.startContainer;var i=y.closestEditableOfType(t,["li"]);var n=y.closestEditableOfType(t,"p,h1,h2,h3,h4,h5,h6".split(","));var r=this.editor;var o;if(y.isDataNode(t)){if(e.collapsed&&/^\s[\ufeff]+$/.test(t.nodeValue)){e.setStart(t,0);e.setEnd(t,t.length);r.selectRange(e);return false}this._cleanBomBefore(e)}o=x(n,C,function(e){return!y.htmlIndentSpace(e)});if(e.collapsed&&e.startOffset!==e.endOffset&&e.startOffset<0){e.startOffset=0;e.endOffset=0;r.selectRange(e)}var u=i&&w.RangeUtils.isStartOf(e,i);var c=i&&k(i).index();var f=u&&c>0;if(f){n=i;o=y.prev(i)}if(n&&o&&y.is(o,"table")&&w.RangeUtils.isStartOf(e,n)){if(n.innerText==="")n.innerHTML="\ufeff";return true}if(w.RangeUtils.isStartOf(e,n)&&parseInt(n.style.marginLeft,10)>0){r.exec("outdent");return true}if(n&&o&&w.RangeUtils.isStartOf(e,n)||f){var a=y.significantChildNodes(n)[0];a=a&&y.isInline(a)?a:n;var p=this._addCaret(a);this._merge(o,n);this._restoreCaret(p);return true}if(u&&c===0){var s=i.firstChild;if(!s){i.innerHTML=w.emptyElementContent;s=i.firstChild}var m=new w.ListFormatter(y.name(i.parentNode),"p");e.selectNodeContents(i);m.toggle(e);if(y.insignificant(s))e.setStartBefore(s);else e.setStart(s,0);r.selectRange(e);return true}var h=t.childNodes[e.startOffset-1];var l=e;var d=h&&y.closestEditableOfType(h,["a"]);var g=x(h||t,C,function(e){return!y.isDataNode(e)||!y.isBom(e)&&e.length>0});if(d||(e.startOffset===0||h)&&y.is(g,"a")){d=d||g;l=r.createRange();l.setStart(d,d.childNodes.length);l.collapse(true)}d=d||y.closestEditableOfType(h||l.startContainer,["a"]);var v=d&&w.RangeUtils.isEndOf(l,d);if(v){var b=new w.UnlinkCommand({range:l,body:r.body,immutables:!!r.immutables});r.execCommand(b);r._selectionChange()}return false},_handleSelection:function(e){var t=e.commonAncestorContainer;var i=y.closest(t,"table");var n=w.emptyElementContent;var r=this.editor;var o;if(b(e)){var a=new _(r);a.remove(e);r.selectRange(e);return true}var s=new f;s.add(e,false);if(e.commonAncestorContainer===r.body)this._surroundFullyContent(s,e);if(r.immutables)this._handleImmutables(s);this._surroundFullySelectedAnchor(s,e);e.setStartAfter(s.start);e.setEndBefore(s.end);var l=e.startContainer;var d=e.endContainer;e.deleteContents();if(d.tagName.toLocaleLowerCase()==="li"&&y.emptyNode(d)){e.selectNode(d);e.deleteContents()}if(i&&k(i).text()===""){e.selectNode(i);e.deleteContents()}t=e.commonAncestorContainer;if(y.name(t)==="p"&&t.innerHTML===""){t.innerHTML=n;e.setStart(t,0)}this._join(l,d);y.insertAfter(r.document.createTextNode("\ufeff"),s.start);s.remove(e);l=e.startContainer;if(y.name(l)=="tr"){l=l.childNodes[Math.max(0,e.startOffset-1)];e.setStart(l,y.getNodeLength(l))}e.collapse(true);r.selectRange(e);o=l.parentElement||l.parentNode;if(y.isDataNode(l)&&!y.emptyNode(o))this._cleanBomBefore(e);return true},_handleImmutables:function(e){var t=w.Immutables.immutableParent;var i=t(e.start);var n=t(e.start);if(i)y.insertBefore(e.start,i);if(n)y.insertAfter(e.end,n);if(i)y.remove(i);if(n&&n.parentNode)y.remove(n)},_surroundFullyContent:function(e,t){var i=t.commonAncestorContainer.children,n=i[0],r=i[i.length-1];this._moveMarker(e,t,n,r)},_surroundFullySelectedAnchor:function(e,t){var i=e.start,n=k(i).closest("a").get(0),r=e.end,o=k(r).closest("a").get(0);this._moveMarker(e,t,n,o)},_moveMarker:function(e,t,i,n){var r=e.start,o=e.end;if(i&&u.isStartOf(t,i))y.insertBefore(r,i);if(n&&u.isEndOf(t,n))y.insertAfter(o,n)},_root:function(e){while(e&&y.name(e)!="body"&&e.parentNode&&y.name(e.parentNode)!="body")e=e.parentNode;return e},_join:function(e,t){e=this._root(e);t=this._root(t);if(e!=t&&y.is(t,"p"))this._merge(e,t)},_merge:function(e,t){y.removeTrailingBreak(e);while(e&&t.firstChild)if(e.nodeType==1){e=y.list(e)?e.children[e.children.length-1]:e;if(e)e.appendChild(t.firstChild)}else if(e.nodeType===i.TEXT_NODE)this._mergeWithTextNode(e,t.firstChild);else e.parentNode.appendChild(t.firstChild);y.remove(t)},_mergeWithTextNode:function(e,t){if(e&&e.nodeType===i.TEXT_NODE)if(e.nextSibling&&this._isCaret(e.nextSibling))y.insertAfter(t,e.nextSibling);else y.insertAfter(t,e)},_isCaret:function(e){return k(e).is("a")},keydown:function(e){var t,i;var n=this.editor;var r=n.getRange();var o=e.keyCode;var a=d.keys;var s=o===a.BACKSPACE;var l=o==a.DELETE;if(n.immutables&&n.immutables.keydown(e,r))return;if((s||l)&&!r.collapsed)t="_handleSelection";else if(s)t="_handleBackspace";else if(l)t="_handleDelete";if(!t)return;i=new c(r,n.body);if(this[t](r)){e.preventDefault();w._finishUpdate(n,i)}},deleteSelection:function(e){this._handleSelection(e)},keyup:k.noop}),o=e.extend({init:function(e){this.editor=e;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=w._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint)return this.startRestorePoint.html!=this.editor.body.innerHTML;return false},keydown:function(e){var t=this,i=t.editor,n=i.keyboard;if(n.isModifierKey(e)){if(n.isTypingInProgress())n.endTyping(true);t.startRestorePoint=new c(i.getRange(),i.body);return true}if(n.isSystem(e)){t.systemCommandIsInProgress=true;if(t.changed()){t.systemCommandIsInProgress=false;t.createUndoCommand()}return true}return false},keyup:function(){var e=this;if(e.systemCommandIsInProgress&&e.changed()){e.systemCommandIsInProgress=false;e.createUndoCommand();return true}return false}}),s=e.extend({init:function(e){this.editor=e},keydown:function(e){if(!m.webkit||e.isDefaultPrevented()||!(e.ctrlKey&&e.keyCode==65&&!e.altKey&&!e.shiftKey))return;if(this.editor.options.immutables)this._toSelectableImmutables();this._selectEditorBody()},_selectEditorBody:function(){var e=this.editor;var t=e.getRange();t.selectNodeContents(e.body);setTimeout(function(){e.selectRange(t)})},_toSelectableImmutables:function(){var e=this.editor,t=e.body,i=w.Immutables.immutable,n=y.emptyTextNode,r=t.firstChild,o=t.lastChild;while(n(r))r=r.nextSibling;while(n(o))o=o.previousSibling;if(r&&i(r))k(a).prependTo(t);if(o&&i(o))k(a).appendTo(t)},keyup:k.noop}),l=e.extend({init:function(e){this.handlers=e;this.typingInProgress=false},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e==229},toolFromShortcut:function(e,t){var i=String.fromCharCode(t.keyCode),n,r,o=this._getShortcutModifier(t,navigator.platform);for(n in e){r=k.extend({ctrl:false,alt:false,shift:false},e[n].options);if((r.key==i||r.key==t.keyCode)&&r.ctrl==o&&r.alt==t.altKey&&r.shift==t.shiftKey)return n}},_getShortcutModifier:function(e,t){var i=t.toUpperCase().indexOf("MAC")>=0;return i?e.metaKey:e.ctrlKey},toolsFromShortcut:function(e,t){var i=String.fromCharCode(t.keyCode),n,r,o,a=[];var s=function(e){return e==i||e==t.keyCode||e==t.charCode};for(n in e){r=k.extend({ctrl:false,alt:false,shift:false},e[n].options);o=Array.isArray(r.key)?k.grep(r.key,s).length>0:s(r.key);if(o&&r.ctrl==t.ctrlKey&&r.alt==t.altKey&&r.shift==t.shiftKey)a.push(e[n])}return a},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||t==32||t==13||t==8||t==46&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return t==17&&!e.shiftKey&&!e.altKey||t==16&&!e.ctrlKey&&!e.altKey||t==18&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return e.keyCode==46&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping)this.onEndTyping();this.typingInProgress=false},endTyping:function(e){var t=this;t.clearTimeout();if(e)t.stopTyping();else t.timeout=window.setTimeout(t.stopTyping.bind(t),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var i,n=this.handlers;for(i=0;i<n.length;i++)if(n[i][t](e))break},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}});h(w,{TypingHandler:n,SystemHandler:o,BackspaceHandler:r,SelectAllHandler:s,Keyboard:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/exportpdf.min",["../command.min"],function(){var e=window.kendo.jQuery,d,t=window.kendo.ui.editor,i=t.Command,n=t.EditorUtils,r=n.registerTool,o=t.Tool,a=t.ToolTemplate,s=e.extend,l=i.extend({init:function(e){this.async=true;i.fn.init.call(this,e)},exec:function(){var e=this;var t=e.lockRange(true);var i=e.editor;i._destroyResizings();i.saveAsPDF().then(function(){e.releaseRange(t);i._initializeColumnResizing();i._initializeRowResizing();i._initializeElementResizing()})}});s(t,{ExportPdfCommand:l}),r("pdf",new o({command:l,template:new a({template:n.buttonTemplate,title:"Export PDF"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/print.min",["../command.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=t.ui.editor,n=i.Command,r=i.EditorUtils,o=r.registerTool,a=i.Tool,s=i.ToolTemplate,l=e.extend,d=n.extend({init:function(e){n.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;if(t.support.browser.msie)e.document.execCommand("print",false,null);else if(e.window.print)e.window.print()}});l(i,{PrintCommand:d}),o("print",new a({command:d,template:new s({template:r.buttonTemplate,title:"Print"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatpainter.min",["../command.min"],function(){var d=window.kendo.jQuery,u,t=window.kendo.ui.editor,i=t.Tool,n=t.Command,e=t.ToolTemplate,r=t.EditorUtils,w=t.Dom,a=t.RangeUtils,o=r.registerTool,s=n.extend({init:function(e){n.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);this.inlineStyles=[];this.blockStyles=[];this.collectStyles(e);this.editor.inlineStyles=this.inlineStyles;this.editor.blockStyles=this.blockStyles;this.releaseRange(e)},collectStyles:function(e){var t=a.nodes(e);var i;if(t.length===1)i=t[0].parentNode;else i=e.startContainer;while(i&&!w.is(i,"body")&&i.getAttribute("data-role")!=="editor")if(w.isBlock(i)){this.populateStyles(i,"blockStyles");if(w.is(i,"li"))i=i.parentNode;else i=null}else{this.populateStyles(i,"inlineStyles");i=i.parentNode}},populateStyles:function(e,t){var i=e.style;var n=e.attributes;var r={tags:[e.tagName],attr:{style:{}}};var o,a,s,l,d;for(d=0;i&&d<i.length;d++){a=i[d];o=i[a];r.attr.style[a]=o}for(d=0;n&&d<n.length;d++){s=n[d].nodeName;l=n[d].nodeValue;if(s==="style")continue;else if(s==="class")r.attr.className=l;else r.attr[s]=l}this[t].push(r)}}),l=n.extend({init:function(e){n.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);var t=a.getMarkers(e);var i=this.editor;var n=i.inlineStyles;var r=i.blockStyles;var o;if((!n||n.length===0)&&(!r||r.length===0))return;if(t.length===3){this.marker.removeCaret(e);this.marker.caret=null}this.removeEmptyElementsFromRange(e);o=a.nodes(e);this.cleanInlineParents(o);w.normalize(e.commonAncestorContainer);if(t.length===2){e.setStartAfter(t[0]);e.setEndBefore(t[1])}else{e.setStartBefore(o[0]);e.setEndAfter(o[0])}o=a.nodes(e);if(o&&r&&r.length)this.applyBlockStyles(o,r);if(o&&n&&n.length)this.applyInlineStyles(o,n);this.releaseRange(e)},removeEmptyElementsFromRange:function(e){var t=function(e){return w.isInline(e)&&!e.firstChild&&!w.isMarker(e)};var i,n;i=a.getAll(e,t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].parentNode.removeChild(i[n])},cleanInlineParents:function(e){var t,i,n,r,o,a,s;for(t=0;t<e.length;t++){i=e[t];n=i.parentNode;if(this.immutableParent(i))continue;while(n&&w.isInline(n)){r=n.childNodes;for(o=0;o<r.length;o++){a=r[o];if(!w.isMarker(a)&&a!==i){s=n.cloneNode(true);s.innerHTML="";w.wrap(a,s)}}w.unwrap(n);n=i.parentNode}}},applyBlockStyles:function(u,e){var c=e[0].tags[0];var f=e[0].attr;var p=this.editor.document;var t,m,i,n,r,o;var a,s,h,g,v,b,k,l,d;for(t=0,m=u.length;t<m;t++){i=u[t];if(w.isWhitespace(i)||this.immutableParent(i))continue;r=w.blockParentOrBody(i);if(r.tagName!=="BODY"&&r.tagName!==c){if(r.tagName!=="LI"&&r.tagName!=="TD"&&r.tagName!=="TH"){a=[];s=[];h=i.previousSibling;g=i.nextSibling;while(h){if(!w.isMarker(h))a.push(h);h=h.previousSibling}if(a.length){v=r.cloneNode(true);v.innerHTML="";w.insertBefore(v,a[0]);for(l=0;l<a.length;l++){k=a[l];w.insertAt(v,k,0)}}while(g){if(!w.isMarker(g))s.push(g);g=g.nextSibling}if(s.length){b=r.cloneNode(true);b.innerHTML="";w.insertBefore(b,s[0]);for(l=0;l<s.length;l++){k=s[l];b.appendChild(k)}}w.unwrap(r)}n=w.create(p,c,f);w.wrap(i,n)}else if(r.tagName===c)w.attr(r,f)}if(r&&e.length===2&&r.tagName!=="LI"&&c==="LI"){d=[];while(w.is(n,"li")){d.push(n);n=w.prev(n)}o=w.create(p,e[1].tags[0],e[1].attr);w.insertBefore(o,d[d.length-1]);o.appendChild(d[0]);for(t=1,m=d.length;t<m;t++)w.insertBefore(d[t],o.firstChild)}else if(r&&e.length===2&&r.tagName!=="LI"){o=w.create(p,e[1].tags[0],e[1].attr);w.wrap(n,o)}},applyInlineStyles:function(e,t){var i=this.editor.document;var n,r,o,a,s,l;for(a=0;a<t.length;a++){n=t[a];r=w.create(i,n.tags[0],n.attr);if(o)r.appendChild(o);o=r}if(o)for(a=0;a<e.length;a++){l=e[a];if(w.isWhitespace(l)||this.immutableParent(l))continue;s=o.cloneNode(true);w.insertBefore(s,l);while(s.children&&s.children.length)s=s.children[0];s.appendChild(l)}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&t.Immutables.immutableParent(e)}}),c=i.extend({init:function(e){i.fn.init.call(this,e)},command:function(e){return new s(e)}}),f=i.extend({init:function(e){i.fn.init.call(this,e)},command:function(e){return new l(e)}});d.extend(t,{CopyFormatCommand:s,ApplyFormatCommand:l,CopyFormatTool:c,ApplyFormatTool:f}),o("copyFormat",new c({template:new e({template:r.buttonTemplate,title:"Copy format"})})),o("applyFormat",new f({template:new e({template:r.buttonTemplate,title:"Apply format"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/resizing-utils.min",["../main.min"],function(){var t=window.kendo,u=void 0,e=window,i=e.Math,r=i.min,o=i.max,a=e.parseFloat,n=t.jQuery,c,f,s="%",p="px",m=/(\d+)(\.?)(\d*)%/,h=/(\d+)(\.?)(\d*)px/,l="string",g;function v(e){var t=e.value;var i=e.min;var n=e.max;return o(r(a(t),a(n)),a(i))}function b(e){if(e&&!n(e).is("body")&&e.scrollHeight>e.clientHeight)return t.support.scrollbar();return 0}function k(e,t){if(d(e))return a(e);else return a(e)/t*100}function d(e){return typeof e===l&&m.test(e)}function w(e){return typeof e===l&&h.test(e)}function y(e){return a(e)+s}function C(e){return a(e)+p}(0,n.extend)(t.ui.editor,{ResizingUtils:{constrain:v,getScrollBarWidth:b,calculatePercentageRatio:k,inPercentages:d,inPixels:w,toPercentages:y,toPixels:C}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/table-element-resizing.min",["../main.min","kendo.resizable.min","./resizing-utils.min"],function(){var o=window.kendo,u=void 0,s=o.jQuery,n=s.extend,e=s.noop,c=o.ui.editor,t=o.Class,i="keydown",f="mousedown",p="mouseenter",m="mouseleave",h="mousemove",g="mouseup",v=",",a=".",b=":last-child",l="table",r=t.extend({init:function(e,t){var i=this;i.options=n({},i.options,t);i.options.tags=Array.isArray(i.options.tags)?i.options.tags:[i.options.tags];if(s(e).is(l)){i.element=e;i._attachEventHandlers()}},destroy:function(){var e=this;var t=e.options.eventNamespace;if(e.element){s(e.element).off(t);e.element=null}s(e.options.rootElement).off(i+t);e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:false,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this;var t=e.options;s(e.element).on(h+t.eventNamespace,t.tags.join(v),e.detectElementBorderHovering.bind(e))},resizingInProgress:function(){var e=this;var t=e._resizable;if(t)return!!t.resizing;return false},resize:e,detectElementBorderHovering:function(e){var t=this;var i=t.options;var n=i.handle;var r=s(e.currentTarget);var o=t.resizeHandle;var a=n.dataAttribute;if(!t.resizingInProgress())if(!r.is(b)&&t.elementBorderHovered(r,e))if(o){if(o.data(a)&&o.data(a)!==r[0])t.showResizeHandle(r,e)}else t.showResizeHandle(r,e);else if(o)t._destroyResizeHandle()},elementBorderHovered:e,showResizeHandle:function(e,t){var i=this;if(t.buttons!==0)return;i._initResizeHandle();i.setResizeHandlePosition(e);i.setResizeHandleDimensions();i.setResizeHandleDataAttributes(e[0]);i._attachResizeHandleEventHandlers();i._initResizable(e);i._hideResizeMarker();i.resizeHandle.show()},_initResizeHandle:function(){var e=this;var t=e.options;e._destroyResizeHandle();e.resizeHandle=s(t.handle.template).appendTo(t.rootElement)},setResizeHandlePosition:e,setResizeHandleDimensions:e,setResizeHandleDataAttributes:function(e){var t=this;t.resizeHandle.data(t.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this;var t=e.options;var i=t.eventNamespace;var n=t.handle.classNames.marker;var r=e.resizeHandle;e.resizeHandle.on(f+i,function(){r.find(a+n).show()}).on(g+i,function(){r.find(a+n).hide()})},_hideResizeMarker:function(){var e=this;e.resizeHandle.find(a+e.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;if(e.resizeHandle){e._destroyResizable();e.resizeHandle.off(e.options.eventNamespace).remove();e.resizeHandle=null}},_initResizable:function(e){var t=this;if(!t.resizeHandle)return;t._destroyResizable();t._resizable=new o.ui.Resizable(e,{draggableElement:t.resizeHandle[0],start:t.onResizeStart.bind(t),resize:t.onResize.bind(t),resizeend:t.onResizeEnd.bind(t)})},_destroyResizable:function(){var e=this;if(e._resizable){e._resizable.destroy();e._resizable=null}},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:e,onResizeEnd:function(e){var t=this;t.resize(e);t._destroyResizeHandle();t._enableKeyboard()},_enableKeyboard:function(){var e=this.options;s(e.rootElement).off(i+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;s(e.rootElement).on(i+e.eventNamespace,function(e){e.preventDefault()})},_forceResizing:function(e){var t=this._resizable;if(t&&t.userEvents)t.userEvents._end(e)}}),d=t.extend({create:function(n,r){var o=this;var a=r.name;var e=r.eventNamespace;s(n.body).on(p+e,l,function(e){var t=e.currentTarget;var i=n[a];e.stopPropagation();if(i){if(i.element!==t&&!i.resizingInProgress()){o._destroyResizing(n,r);o._initResizing(n,t,r)}}else o._initResizing(n,t,r)}).on(m+e,l,function(e){var t;var i=n[a];e.stopPropagation();if(i&&!i.resizingInProgress()&&!i.resizeHandle){t=s(i.element).parents(l)[0];if(t){o._destroyResizing(n,r);o._initResizing(n,t,r)}}}).on(m+e,function(){var e=n[a];if(e&&!e.resizingInProgress())o._destroyResizing(n,r)}).on(g+e,function(e){var t=n[a];var i;if(t&&t.resizingInProgress()){i=s(e.target).parents(l)[0];if(i){t._forceResizing(e);o._destroyResizing(n,r);o._initResizing(n,i,r)}}})},dispose:function(e,t){s(e.body).off(t.eventNamespace)},_initResizing:function(e,t,i){var n=i.name;var r=i.type;e[n]=new r(t,{rtl:o.support.isRtl(e.element),rootElement:e.body})},_destroyResizing:function(e,t){var i=t.name;if(e[i]){e[i].destroy();e[i]=null}}});d.current=new d,r.create=function(e,t){d.current.create(e,t)},r.dispose=function(e,t){d.current.dispose(e,t)},n(c,{TableElementResizing:r})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/column-resizing.min",["../main.min","./resizing-utils.min","./table-element-resizing.min","../dom.min"],function(){var v=window.kendo,r=void 0,o,a,d=window.Math.abs,b=v.jQuery,u=b.extend,e=v.ui.editor,p=e.Dom,t=e.TableElementResizing,i=e.ResizingUtils,w=i.constrain,c=i.calculatePercentageRatio,y=i.getScrollBarWidth,m=i.inPercentages,h=i.toPercentages,g=i.toPixels,k=v._outerWidth,C=".kendoEditorColumnResizing",x="k-column-resize-handle",_="k-column-resize-marker",T="body",N="tbody",R="thead",S="td",A,z="tr",f="col-index",l=",",s="width",n=t.extend({options:{tags:[S,"th"],min:20,rootElement:null,eventNamespace:C,rtl:false,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:x,marker:_},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+x+'">'+'<div class="'+_+'"></div>'+"</div>"+"</div>"}},elementBorderHovered:function(e,t){var i=this;var n=i.options;var r=n.handle.width;var o=e.offset().left+(n.rtl?0:k(e));var a=t.clientX+b(e[0].ownerDocument).scrollLeft();if(a>o-r&&a<o+r)return true;else return false},setResizeHandlePosition:function(e){var t=this;var i=b(t.element.tHead||t.element.tBodies[0]);var n=t.options;var r=n.rtl;var o=n.handle.width;var a=b(n.rootElement);var s=a.is(T)?0:a.scrollTop();var l=a.is(T)?0:v.scrollLeft(a);var u=r?0:k(e);var c=r?y(a[0]):0;var f=e.offset().left-(a.offset().left+parseFloat(a.css("borderLeftWidth")))-parseFloat(e.css("marginLeft"));var p=i.offset().top-(a.offset().top+parseFloat(a.css("borderTopWidth")))-parseFloat(i.css("marginTop"));var d=v.support.browser;if(r&&(d.mozilla||d.webkit&&d.version>=85))l=l*-1;t.resizeHandle.css({top:p+s,left:f+u+(l-c)-o/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=b(e.element).children(R);var i=b(e.element).children(N);var n=t.length>0?t.height()+i.height():i.height();e.resizeHandle.css({width:e.options.handle.width,height:n})},setResizeHandleDragPosition:function(e){var t=this;var i=b(b(e.currentTarget).data(t.options.handle.dataAttribute));var n=t.options;var r=b(n.rootElement);var u=n.handle?n.handle.width:0;var c=n.min;var o=n.rtl;var f=k(i);var p=i.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(i.css("marginLeft"));var m=k(i.next());var a=b(t.resizeHandle);var s=r.is(T)?0:v.scrollLeft(r);var l=o?y(r[0]):0;var h=a.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(a.css("marginLeft"));var d=v.support.browser;if(o&&(d.mozilla||d.webkit&&d.version>=85))s=s*-1;var g=w({value:h+(s-l)+e.x.delta,min:p+(s-l)-(o?m:0)+c,max:p+f+(s-l)+(o?0:m)-u-c});a.css({left:g})},resize:function(e){var t=this;var i=b(b(e.currentTarget).data(t.options.handle.dataAttribute));var n=t.options;var u=n.rtl?-1:1;var r=n.min;var c=u*e.x.initialDelta;var o;var a;var s;var l;var d;p.reMapTableColumns(t.element,f);l=parseInt(i.attr(f),10);if(i.prop("colSpan")>1){i=b(t.element).find("["+f+"="+(l+i.prop("colSpan")-1)+"]").eq(0);l=parseInt(i.attr(f),10)}d=b(t.element).find("["+f+"="+(l+1)+"]:not([colspan])");t._setTableComputedWidth();t._setColumnsComputedWidth();s=k(i);a=k(d);o=w({value:s+c,min:r,max:s+a-r});t._resizeColumn(i[0],o);t._resizeTopAndBottomColumns(i[0],o);t._resizeAdjacentColumns(parseInt(i.attr(f),10),a,s,s-o);p.clearTableMappings(t.element,f)},_setTableComputedWidth:function(){var e=this.element;if(e.style[s]==="")e.style[s]=g(k(b(e)))},_setColumnsComputedWidth:function(){var e=this;var t=b(e.element.tHead||e.element.tBodies[0]);var i=k(t);var n=t.children(z).children(S);var r=n.length;var o=n.map(function(){return k(b(this))});var a;for(a=0;a<r;a++)if(m(n[a].style[s]))n[a].style[s]=h(c(o[a],i));else n[a].style[s]=g(o[a])},_resizeTopAndBottomColumns:function(t,e){var i=this;var n=b(t).attr(f);var r=b(i.element).children(N+l+R).children(z).children(i.options.tags.join(l)).filter(function(){var e=this;return b(e).attr(f)===n&&e!==t});var o=r.length;var a;for(a=0;a<o;a++)i._resizeColumn(r[a],e)},_resizeColumn:function(e,t){var i=b(this.element.tHead||this.element.tBodies[0]);if(m(e.style[s]))e.style[s]=h(c(t,k(i)));else e.style[s]=g(t)},_resizeAdjacentColumns:function(e,t,i,n){var r=this;var o=b(r.element).children(N+l+R).children(z).children(r.options.tags.join(l)).filter(function(){return parseInt(b(this).attr(f),10)===e+1});var a=o.length;var s;for(s=0;s<a;s++)r._resizeAdjacentColumn(o[s],t,i,n)},_resizeAdjacentColumn:function(e,t,i,n){var r=this;var o=r.options.min;var a;a=w({value:t+n,min:o,max:d(i+t-o)});r._resizeColumn(e,a)}});n.create=function(e){t.create(e,{name:"columnResizing",type:n,eventNamespace:C})},n.dispose=function(e){t.dispose(e,{eventNamespace:C})},u(e,{ColumnResizing:n})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/row-resizing.min",["../main.min","./resizing-utils.min","./table-element-resizing.min"],function(){var c=window.kendo,r=void 0,o,p=window.Math.abs,g=c.jQuery,a=g.extend,e=c.ui.editor,t=e.TableElementResizing,i=e.ResizingUtils,f=i.getScrollBarWidth,y=i.constrain,d=i.calculatePercentageRatio,m=i.inPercentages,u=i.toPercentages,h=i.toPixels,v=c._outerHeight,s=".kendoEditorRowResizing",l="k-row-resize-handle",C,x="k-row-resize-marker",_="body",T="tr",b="tbody",k="thead",N=",",w="height",n=t.extend({options:{tags:[T],min:20,rootElement:null,eventNamespace:s,rtl:false,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:l,marker:x},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+l+'">'+'<div class="'+"k-row-resize-marker-wrapper"+'">'+'<div class="'+x+'"></div>'+"</div>"+"</div>"+"</div>"}},elementBorderHovered:function(e,t){var i=this;var n=i.options.handle[w];var r=e.offset().top+v(e);var o=t.clientY+g(e[0].ownerDocument).scrollTop();if(o>r-n&&o<r+n)return true;else return false},setResizeHandlePosition:function(e){var t=this;var i=t.options;var n=i.handle[w];var r=g(i.rootElement);var o=r.is(_)?0:r.scrollTop();var a=r.is(_)?0:c.scrollLeft(r);var s=i.rtl?f(r[0]):0;var l=e.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(e.css("marginLeft"));var u=e.offset().top-(r.offset().top+parseFloat(r.css("borderTopWidth")))-parseFloat(e.css("marginTop"));var d=c.support.browser;if(i.rtl&&(d.mozilla||d.webkit&&d.version>=85))a=a*-1;t.resizeHandle.css({top:u+v(e)+o-n/2,left:l+(a-s),position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=g(e.element.tHead||e.element.tBodies[0]);e.resizeHandle.css({width:t.width(),height:e.options.handle[w]})},setResizeHandleDragPosition:function(e){var t=this;var i=t.options;var n=i.min;var r=g(t.element).children(k);var o=g(t.element).children(b);var a=r.length>0?r:o;var s=g(t.resizeHandle);var u=g(e.currentTarget).data(i.handle.dataAttribute);var c=g(u);var l=g(i.rootElement);var d=l.is(_)?0:l.scrollTop();var f=a.offset().top-(l.offset().top+parseFloat(l.css("borderTopWidth")))-parseFloat(a.css("marginTop"));var p=c.offset().top-(l.offset().top+parseFloat(l.css("borderTopWidth")))-parseFloat(c.css("marginTop"));var m=s.offset().top-(Math.max(0,l.offset().top)+parseFloat(l.css("borderTopWidth")))-parseFloat(s.css("marginTop"));var h=y({value:m+d+e.y.delta,min:p+d+n,max:f+v(r)+v(o)+d-i.handle[w]-n});s.css({top:h})},resize:function(e){var t=this;var i=t.options;var n=g(e.currentTarget).data(i.handle.dataAttribute);var r=v(g(n));var o=g(t.element);var a=v(o);var s=o.children(k);var l=s.length>0?s.height():0;var u=o.children(b);var c=u.height();var f=n.style[w];var d=y({value:r+e.y.initialDelta,min:i.min,max:p(l+c-i.min)});t._setRowsHeightInPixels();n.style[w]=h(d);t._setTableHeight(a+(d-r));if(m(f))t._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e=this;var t=g(e.element).children(b+N+k).children(T);var i=t.length;var n=t.map(function(){return v(g(this))});var r;for(r=0;r<i;r++)t[r].style[w]=h(n[r])},_setRowsHeightInPercentages:function(){var e=this;var t=g(e.element).children(k);var i=t.length>0?t.height():0;var n=g(e.element).children(b);var r=n.height();var o=g(e.element).children(k+N+b).children(T);var a=o.length;var s=o.map(function(){return v(g(this))});var l;for(l=0;l<a;l++)o[l].style[w]=u(d(s[l],i+r))},_setTableHeight:function(e){var t=this.element;if(m(t.style[w]))t.style[w]=u(d(e,g(t).parent().height()));else t.style[w]=h(e)}});n.create=function(e){t.create(e,{name:"rowResizing",type:n,eventNamespace:s})},n.dispose=function(e){t.dispose(e,{eventNamespace:s})},a(e,{RowResizing:n})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/element-resize-handle.min",["../main.min","kendo.draganddrop.min","./resizing-utils.min"],function(){var a=window.kendo,u=void 0,s=a.jQuery,i=s.extend,c=s.noop,f=a.ui.editor,p=a.Class,m=a.ui.Draggable,h=a.Observable,g=f.ResizingUtils.getScrollBarWidth,n=a._outerWidth,r=a._outerHeight,v=".kendoEditorElementResizeHandle",b="k-element-resize-handle",k="dragStart",w="drag",y="dragEnd",C="halfInside",x="mouseover",_="mouseout",T="body",N="table",R="east",S="north",A="northeast",z="northwest",E="south",I="southeast",D="southwest",H="west",P=".",B=h.extend({init:function(e){var t=this;h.fn.init.call(t);t.options=i({},t.options,e);t.element=s(t.options.template).appendTo(t.options.appendTo)[0];t._attachEventHandlers();t._addStyles();t._initDraggable();t._initPositioningStrategy();t._initDraggingStrategy();s(t.element).data(N,t.options.resizableElement)},destroy:function(){var e=this;s(e.element).off(v).remove();e.element=null;e._destroyDraggable();e.unbind()},options:{appendTo:null,direction:I,resizableElement:null,rtl:false,template:"<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'>"+"<div class='"+b+"'></div>"+"</div>"},events:[k,w,y,x,_],show:function(){this._setPosition()},_setPosition:function(){var e=this;var t=e._positioningStrategy.getPosition();s(e.element).css({top:t.top,left:t.left,position:"absolute"})},_attachEventHandlers:function(){var e=this;s(e.element).on(x+v,e._onMouseOver.bind(e)).on(_+v,e._onMouseOut.bind(e))},_onMouseOver:function(){this.trigger(x)},_onMouseOut:function(){this.trigger(_)},_addStyles:function(){var e=this;s(e.element).children(P+b).addClass("k-resize-"+e.options.direction)},_initPositioningStrategy:function(){var e=this;var t=e.options;e._positioningStrategy=o.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this;var t=e.element;if(e._draggable||!t)return;e._draggable=new m(t,{dragstart:e._onDragStart.bind(e),drag:e._onDrag.bind(e),dragend:e._onDragEnd.bind(e)})},_onDragStart:function(){this.trigger(k)},_onDrag:function(e){var t=this;t.trigger(w,t._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta}))},_onDragEnd:function(){this.trigger(y)},_destroyDraggable:function(){var e=this;if(e._draggable){e._draggable.destroy();e._draggable=null}},_initDraggingStrategy:function(){var e=this;e._draggingStrategy=d.create({name:e.options.direction})}}),L=p.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t=this._items;var i=t.length;var n=e.name?e.name.toLowerCase():"";var r;var o;var a;for(a=0;a<i;a++){o=t[a];if(o.name.toLowerCase()===n){r=o;break}}if(r)return new r.type(e)}}),t=L.extend({}),o=(t.current=new t,p.extend({init:function(e){var t=this;t.options=i({},t.options,e)},options:{handle:null,offset:C,resizableElement:null,rootElement:null,rtl:false},getPosition:function(){var e=this;var t=e.calculatePosition();var i=e.applyHandleOffset(t);var n=e.applyScrollOffset(i);return n},calculatePosition:c,applyHandleOffset:function(e){var t=this.options;var i=s(t.handle);if(t.offset===C)return{top:e.top-r(i)/2,left:e.left-n(i)/2};return e},applyScrollOffset:function(e){var t=this.options;var i=s(t.rootElement);var n=t.rtl?g(i[0]):0;var r=a.support.browser;var o;if(!i.is(T)){o=a.scrollLeft(i)||0;if(t.rtl&&(r.mozilla||r.webkit&&r.version>=85))o=o*-1;return{top:e.top+(i.scrollTop()||0),left:e.left+o-n}}return e}})),F=(o.create=function(e){return t.current.create(e)},o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+r(e)/2,left:t.left+n(e)+i}}})),O=(t.current.register(R,F),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+n(e)/2+i}}})),M=(t.current.register(S,O),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+n(e)+i}}})),W=(t.current.register(A,M),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+i}}})),U=(t.current.register(z,W),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+r(e),left:t.left+n(e)/2+i}}})),V=(t.current.register(E,U),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+r(e),left:t.left+n(e)+i}}})),j=(t.current.register(I,V),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+r(e),left:t.left+i}}})),K=(t.current.register(D,j),o.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+r(e)/2,left:t.left+i}}})),l=(t.current.register(H,K),L.extend({})),d=(l.current=new l,p.extend({init:function(e){var t=this;t.options=i({},t.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options;var i=t.deltaX.adjustment*t.deltaX.modifier;var n=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*i,deltaY:e.deltaY*n,initialDeltaX:e.initialDeltaX*i,initialDeltaY:e.initialDeltaY*n}}})),$=(d.create=function(e){return l.current.create(e)},d.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}})),X=$.extend({options:{deltaX:{modifier:1}}}),Y=(l.current.register(R,X),$.extend({options:{deltaX:{modifier:-1}}})),q=(l.current.register(H,Y),d.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}})),G=q.extend({options:{deltaY:{modifier:-1}}}),Q=(l.current.register(S,G),q.extend({options:{deltaY:{modifier:1}}})),e=(l.current.register(E,Q),d.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}})),J=e.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}}),Z=(l.current.register(A,J),e.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}})),ee=(l.current.register(z,Z),e.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}})),te=(l.current.register(I,ee),e.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}}));l.current.register(D,te),i(f,{ElementResizeHandle:B})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/element-resizing.min",["../main.min","./element-resize-handle.min","./resizing-utils.min"],function(){var d=window.kendo,i=void 0,n,r=window.Math,h=r.min,w=r.max,g=d.jQuery,s=g.contains,a=g.extend,o=d.support.browser,l=d.ui.editor,u=d.Class,c=l.ElementResizeHandle,e=l.ResizingUtils,y=e.calculatePercentageRatio,C=e.constrain,x=e.inPercentages,p=e.inPixels,_=e.toPercentages,v=e.toPixels,m=d._outerWidth,b=d._outerHeight,T=l.RangeUtils,t=".kendoEditorElementResizing",N="k-element-resize-handle-wrapper",R="k-table",S="k-element-resizing",A="dragStart",z="drag",E="dragEnd",I="keydown",D="mousedown",H="select",P="drop",B="td",L="tr",F="tbody",O="thead",M="table",W="img",U=["TABLE","IMG"],V=",",f="width",k="height",j,K,$,X,Y,q,G,Q,J=".";function Z(e){return typeof e==="undefined"}var ee=u.extend({init:function(e,t){var i=this;i.options=a({},i.options,t);i.handles=[];if(U.indexOf(e.nodeName)>=0)i.element=e},destroy:function(){var e=this;g(e.element).off(t);e.element=null;g(e.options.rootElement).off(I+t);e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:false,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:"northwest"},{direction:"north"},{direction:"northeast"},{direction:"east"},{direction:"southeast"},{direction:"south"},{direction:"southwest"},{direction:"west"}]},resize:function(e){var t=this;var i=a({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(i.deltaX,i.initialDeltaX);t._resizeHeight(i.deltaY,i.initialDeltaY);t.showResizeHandles()},_resizeWidth:function(){return false},_resizeHeight:function(){return false},_getMaxDimensionValue:function(e){var t=this;var i=g(t.element);var n=e.toLowerCase();var r=t.options.rtl?-1:1;var o=g(t.element).parent();var a=o[0];var s=o[n]();var l=r*(e===f?d.scrollLeft(o):o.scrollTop());if(a&&a===i.closest(B)[0])if(a.style[n]===""&&!x(t.element.style[n]))return Infinity;else return s+l;else return s+l},showResizeHandles:function(){var e=this;e._initResizeHandles();e._showResizeHandles()},_initResizeHandles:function(){var e=this;var t=e.handles;var i=e.options;var n=e.options.handles;var r=n.length;var o;if(t&&t.length>0)return;for(o=0;o<r;o++)e.handles.push(new c(a({appendTo:i.appendHandlesTo,resizableElement:e.element,rootElement:i.rootElement,rtl:i.rtl},n[o])));e._bindToResizeHandlesEvents()},_destroyResizeHandles:function(){var e=this;var t=e.handles?e.handles.length:0;for(var i=0;i<t;i++)e.handles[i].destroy();e.handles=[]},_showResizeHandles:function(){var e=this;var t=e.handles||[];var i=t.length;var n;for(n=0;n<i;n++)e.handles[n].show()},_bindToResizeHandlesEvents:function(){return false},_onResizeHandleDragStart:function(){var e=this;var t=g(e.element);t.addClass(S);e._initialElementHeight=b(t);e._initialElementWidth=m(t);e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){var e=this;g(e.element).removeClass(S);e._enableKeyboard()},_enableKeyboard:function(){g(this.options.rootElement).off(I+t)},_disableKeyboard:function(){g(this.options.rootElement).on(I+t,function(e){e.preventDefault()})}}),te=ee.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var i=t.length;var n;var r;for(n=0;n<i;n++){r=t[n];r.bind(A,e._onResizeHandleDragStart.bind(e));r.bind(z,e._onResizeHandleDrag.bind(e));r.bind(E,e._onResizeHandleDragEnd.bind(e))}},_hasRowsInPixels:function(){var e=this;var t=g(e.element).children(O+V+F).children(L);for(var i=0;i<t.length;i++)if(t[i].style.height===""||p(t[i].style.height))return true;return false},_resizeWidth:function(e,t){var i=this;var n=g(i.element);var u=n[0].style[f];var r=m(n);var o=n.parent().width();var c=i._getMaxDimensionValue(f);var a;var s;var l;var d;if(e===0)return;if(Z(i._initialElementWidth))i._initialElementWidth=r;d=C({value:i._initialElementWidth+t,min:i.options.minWidth,max:c});if(x(u)){if(r+e>o){s=w(d,o);l=h(d,o)}else{s=h(d,o);l=w(d,o)}a=_(y(s,l))}else a=v(d);i._setColumnsWidth();n[0].style[f]=a},_resizeHeight:function(e,u){var t=this;var i=g(t.element);var c=i[0].style[k];var n=b(i);var f=i.parent();var r=f.height();var p=t._getMaxDimensionValue(k);var o;var a;var s;var l;var m=t.options.minHeight;var d=t._hasRowsInPixels();if(e===0)return;if(Z(t._initialElementHeight))t._initialElementHeight=n;l=C({value:t._initialElementHeight+u,min:m,max:p});if(d&&e<0)t._setRowsHeightInPercentages();if(x(c)){if(n+e>r){a=w(l,r);s=h(l,r)}else{a=h(l,r);s=w(l,r)}o=_(y(a,s))}else o=v(l);i[0].style[k]=o;if(d&&e<0)t._setRowsHeightInPixels()},_setColumnsWidth:function(){var e=this;var t=g(e.element);var i=t.parent()[0];var n=t.closest(B);var r=n.closest(L).children();var o=r.length;var a;function s(e){var t=e.style.width;if(t!=="")return x(t)?true:false;else return g(e).hasClass(R)?true:false}if(s(t[0])&&i===n[0]&&i.style[f]==="")for(a=0;a<o;a++)r[a].style[f]=v(g(r[a]).width())},_setRowsHeightInPercentages:function(){var e=this;var t=g(e.element).children(O);var i=t.length>0?t.height():0;var n=g(e.element).children(F);var r=n.height();var o=g(e.element).children(O+V+F).children(L);var a=o.length;var s=o.map(function(){return b(g(this))});var l;for(l=0;l<a;l++)o[l].style[k]=_(y(s[l],i+r))},_setRowsHeightInPixels:function(){var e=this;var t=g(e.element).children(O+V+F).children(L);var i=t.length;var n=t.map(function(){return b(g(this))});var r;for(r=0;r<i;r++)t[r].style[k]=v(n[r])}}),ie=ee.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var i=t.length;var n;var r;for(n=0;n<i;n++){r=t[n];r.bind(A,e._onResizeHandleDragStart.bind(e));if(r.options.direction==="north"||r.options.direction==="south")r.bind(z,e._onResizeHandleDragVertical.bind(e));else if(r.options.direction==="east"||r.options.direction==="west")r.bind(z,e._onResizeHandleDragHorizontal.bind(e));else r.bind(z,e._onResizeHandleDragLocked.bind(e));r.bind(E,e._onResizeHandleDragEnd.bind(e))}},_getDeltas:function(e){return a({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e)},_onResizeHandleDragVertical:function(e){var t=this._getDeltas(e);this._resizeHeight(t.deltaY,t.initialDeltaY);this.showResizeHandles()},_onResizeHandleDragHorizontal:function(e){var t=this._getDeltas(e);this._resizeWidth(t.deltaX,t.initialDeltaX);this.showResizeHandles()},_onResizeHandleDragLocked:function(e){var t=Math.min(Math.abs(e.initialDeltaX),Math.abs(e.initialDeltaY)),i=this._initialElementWidth,n=this._initialElementHeight,r;if(t===e.initialDeltaX||t===e.initialDeltaX*-1){e.initialDeltaY=e.initialDeltaX*n/i;e.deltaY=e.deltaX}else if(t===e.initialDeltaY||t===e.initialDeltaY*-1){e.initialDeltaX=e.initialDeltaY*i/n;e.deltaX=e.deltaY}r=this._getDeltas(e);this._resizeWidth(r.deltaX,r.initialDeltaX);this._resizeHeight(r.deltaY,r.initialDeltaY);this.showResizeHandles()},_resizeWidth:function(e,t){var i=this;var n=g(i.element);var r=m(n);var o;var a;if(e===0)return;if(Z(i._initialElementWidth))i._initialElementWidth=r;a=C({value:i._initialElementWidth+t,min:i.options.minWidth,max:i._getMaxDimensionValue(f)});o=v(a);n[0].style[f]=o;n.attr(f,Math.floor(a))},_resizeHeight:function(e,t){var i=this;var n=g(i.element);var r=b(n);var o;var a;if(e===0)return;if(Z(i._initialElementHeight))i._initialElementHeight=r;a=C({value:i._initialElementHeight+t,min:i.options.minHeight,max:Number.MAX_SAFE_INTEGER});o=v(a);n[0].style[k]=o;n.attr(k,Math.floor(a))}}),ne=u.extend({create:function(o){var a=this;g(o.body).on("dragstart"+t,function(){var e=T.nodes(o.getRange()),t=false;e.forEach(function(e){if(e.nodeName==="IMG")t=true});if(t&&e.length>1)o.elementResizing._destroyResizeHandles()}).on(P+t,function(){setTimeout(function(){var e=T.image(o.getRange());if(e){o.elementResizing._destroyResizeHandles();o.elementResizing.element=e;o.elementResizing.showResizeHandles()}})}).on(D+t,M+V+W,function(e){var t=e.target;var i=e.currentTarget;var n=o.elementResizing;var r=n?n.element:null;if(n){if(r&&i!==r)if(s(i,r)&&r!==t&&s(r,t))return;else if(r!==t){o._destroyElementResizing();a._initResizing(o,i)}}else a._initResizing(o,i);o._showElementResizeHandles()}).on(D+t,function(e){var t=o.elementResizing;var i=t?t.element:null;var n=e.target;var r=g(n).hasClass(N)||g(n).parents(J+N).length>0;if(t&&i!==n&&!s(i,n)&&!r)o._destroyElementResizing()})},dispose:function(e){g(e.body).off(t)},_initResizing:function(e,t){if(!o.msie){if(g(t).is(M))e.elementResizing=e.tableResizing=new te(t,{appendHandlesTo:e.body,rtl:d.support.isRtl(e.element),rootElement:e.body});else if(g(t).is(W))e.elementResizing=new ie(t,{appendHandlesTo:e.body,rtl:d.support.isRtl(e.element),rootElement:e.body});if(e._showElementResizeHandlesProxy){e.unbind(H,e._showElementResizeHandlesProxy);e.bind(H,e._showElementResizeHandlesProxy)}}}});ne.current=new ne,a(l,{TableResizing:te,ImageResizing:ie,ElementResizing:ee,ElementResizingFactory:ne})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/table-wizard/table-wizard-command.min",["./../plugins/tables.min"],function(){var h=window.kendo.jQuery,g=void 0,s=window.kendo,l=s.ui.editor,e=l.EditorUtils,i=l.RangeUtils,v=l.Dom,t=e.registerTool,n=l.ToolTemplate,r=l.Command,o=new l.BlockFormatFinder([{tags:["table"]}]),a=new l.BlockFormatFinder([{tags:["td","th"]}]),u=/([a-z]+|%)$/i,c="col",f="row",p="colgroup",d="scope",b="col-index",k="th",w="td",m="thead",y="headers",C="table",x=r.extend({exec:function(){var e=this;var t=e.editor;var i=e.range=e.lockRange();var n=e._sourceTable=!e.options.insertNewTable?e._selectedTable(i):g;var r=e._selectedTableCells=n?e._selectedCells(i):g;var o={visible:false,messages:t.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(n,r),dialogOptions:t.options.dialogOptions,isRtl:s.support.isRtl(t.wrapper)};var a=new l.TableWizardDialog(o);a.open()},onDialogClose:function(e){var t=this;t.releaseRange(t.range);if(e)if(t.options.insertNewTable)t.insertTable(t.createNewTable(e));else t.updateTable(e,t._sourceTable,t._selectedTableCells)},releaseRange:function(e){var t=this;var i=t.editor.document;v.windowFromDocument(i).focus();r.fn.releaseRange.call(t,e)},insertTable:function(e){var t=this.range;t.insertNode(e);t.collapse(true);this.editor.selectRange(t);this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(e){var t=h(e).parent().contents();var i=t.length-1;var n=t.get(i);while(n.nodeValue!==null&&(n.nodeValue===" "||n.nodeValue==="")){i-=1;n=t.get(i)}if(n===e)v.insertAfter(v.createEmptyNode(this.editor.document,"p"),e)},updateTable:function(e,t,i){var n=this;var r=h(t.rows).toArray();var o=e.tableProperties;var a=o.rows;var u=t.tHead;var s=n._lastInCollection;var l,d;while(i.length>1)i.pop();l=i.length?s(i).parentNode:s(r);n._deleteTableRows(r,r.length-a);if(r.length<a)n._addRows(l,a,r);v.reMapTableColumns(t,b);n._updateColumns(r,o.columns,i,l);n._updateTableProperties(t,o);d=e.cellProperties;if(i[0])v.attr(i[0],{id:d.id||null});(d.selectAllCells?h(r).children():h(i)).each(function(e,t){n._updateCellProperties(t,d)});n._updateCaption(t,o);if(u)n._updateHeadersWithThead(t,e);else n._updateHeadersNoThead(t,e);n._updateHeaderAssociates(t,o);v.clearTableMappings(t,b)},_isHeadingRow:function(e){return v.is(e.cells[0],k)&&v.is(e.parentNode,m)},_isHeadingCell:function(e){return v.is(e,k)},cellsWithHeadersAssociated:function(e){var t=h(e.rows).children();var i=[];var r=function(e){return i.indexOf(e)>-1};t.each(function(e,t){if(t.id&&v.is(t,k))i.push(t.id)});var n=t.filter(function(e,t){var i=t.getAttribute(y);var n;if(i&&!v.is(t,k)){n=i.split(" ");if(n&&n.length>0)return n.some(r)}return false});return!!n.length},_insertCells:function(e,t,i){i=isNaN(i)?-1:i;for(var n=0,r;n<e;n++){r=t.insertCell(i);r.innerHTML="&nbsp;"}},_deleteTableRows:function(e,t){for(var i=0,n,r;i<t;i++){n=e.pop();r=n.parentNode;r.removeChild(n);if(!r.rows.length)v.remove(r)}},createNewTable:function(e){var t=this;var i=t.editor.document;var n=e.tableProperties;var r=v.create(i,C);var o=0;var a;t._updateTableProperties(r,n);t._updateCaption(r,n);if(n.headerRows&&n.headerRows>0){a=r.createTHead();t._createTableRows(e,a,o,true);o+=n.headerRows}var s=r.createTBody();t._createTableRows(e,s,o,false);v.reMapTableColumns(r,b);if(n.cellsWithHeaders==="ids")v.associateWithIds(r);else if(n.cellsWithHeaders==="scope")t._addScopes(r,n.headerRows,n.headerColumns);v.clearTableMappings(r,b);return r},_createTableRows:function(e,t,i,n){var u=this;var r=e.tableProperties;var o=e.cellProperties;var c=r.columns;var f=n?r.headerRows:r.rows;var p=o.selectAllCells;var m=r.headerColumns;for(var a=i,s;a<f;a++){s=t.insertRow();for(var l=0,d;l<c;l++){if(n||m>l)d=document.createElement(k);else d=document.createElement(w);s.appendChild(d);d.innerHTML="&nbsp;";if(a===0&&l===0&&o.id)d.id=o.id;u._updateCellProperties(d,p||a===0&&l===0?o:{})}}},_addRows:function(e,t,i){var n=this;var r=h(e).index();var o=e.cells.length;var a=t-i.length;var s=e.parentNode;var l;while(a){l=s.insertRow(r+1);n._insertCells(o-l.cells.length,l);a--}},_updateColumns:function(e,r,t,i){var n=this;var o=n._lastInCollection;var a=o(e[0].cells);var s=Number(a.getAttribute(b))+a.colSpan;if(s>r)h(e).each(function(e,t){var i=o(t.cells);var n=Number(i.getAttribute(b))+i.colSpan;while(n>r){if(i.colSpan&&i.colSpan>1)i.colSpan-=1;else t.deleteCell(-1);i=o(t.cells);n=Number(i.getAttribute(b))+i.colSpan}});if(s<r){var l=h(o(t)||o(i.cells)).index();h(e).each(function(e,t){var i=o(t.cells);n._insertCells(r-Number(i.getAttribute(b))-i.colSpan,t,l+1)})}},_updateTableProperties:function(e,t){var i=this._getStylesData(t);v.attr(e,{cellSpacing:t.cellSpacing||null,cellPadding:t.cellPadding||null,className:t.className||null,id:t.id||null,summary:t.summary||null,style:i||null});h(e).addClass("k-table")},_updateCellProperties:function(e,t){var i=this._getStylesData(t);i.padding=t.cellPadding||null;i.margin=t.cellMargin||null;v.attr(e,{style:i||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var i=e.createCaption();i.innerHTML=t.captionContent;var n=this._getAlignmentData(t.captionAlignment);v.attr(i,{style:{textAlign:n.textAlign,verticalAlign:n.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var i=this;var n=t.tableProperties;var r=e.rows;var o,a,s,l,d;for(l=0;l<r.length;l++){o=r[l];a=o.cells;for(d=0;d<a.length;d++){s=a[d];if(!i._isHeadingCell(s)&&(l<n.headerRows||n.headerColumns>s.getAttribute(b)))v.changeTag(s,k,false);else if(i._isHeadingCell(s)&&l>=n.headerRows&&n.headerColumns<=s.getAttribute(b))v.changeTag(s,w,false)}}},_updateHeadersWithThead:function(e,t){var i=this;var n=t.tableProperties;var r=e.tHead;var o=0;var a=e.tBodies[0];var s,l,d;if(!a)a=e.createTBody();if(n.headerRows&&n.headerRows>0){if(!r)r=e.createTHead();while(r.rows.length<n.headerRows)r.appendChild(a.rows[0]);while(r.rows.length>n.headerRows)a.appendChild(r.rows[0]);i._swapToHeaderCells(r)}else if(r){while(r.rows.length>0)a.appendChild(r.rows[r.rows.length-1]);e.deleteTHead()}while(a.rows.length>o){s=a.rows[o];for(d=0;d<s.cells.length;d++){l=s.cells[d];if(i._isHeadingCell(l)&&n.headerColumns<=l.getAttribute(b))v.changeTag(l,w,false);else if(!i._isHeadingCell(l)&&n.headerColumns>l.getAttribute(b))v.changeTag(l,k,false)}o+=1}},_updateHeaderAssociates:function(e,t){var i=this;if(t.cellsWithHeaders==="ids"){if(!i.cellsWithHeadersAssociated(e))i._removeScopes(e);v.associateWithIds(e)}else if(t.cellsWithHeaders==="scope"){if(i.cellsWithHeadersAssociated(e))i._removeAssociates(e);i._addScopes(e,t.headerRows,t.headerColumns)}else if(i.cellsWithHeadersAssociated(e))i._removeAssociates(e);else i._removeScopes(e)},_addScopes:function(e,t,i){var n=e.rows;var r,o,a,s;for(r=0;r<n.length;r++){a=n[r];for(o=0;o<a.cells.length;o++){s=a.cells[o];if(r<t)s.setAttribute(d,c);else if(s.getAttribute(b)<i)s.setAttribute(d,f)}}},_removeScopes:function(e){h(e).find(k).removeAttr(d);h(e).find(c).remove();h(e).find(p).remove()},_removeAssociates:function(e){h(e).find("th, td").removeAttr("id headers")},_swapToHeaderCells:function(e){var t=h(e).find("td");var i=function(e,t){v.changeTag(t,k,false)};t.each(i)},_getStylesData:function(e){var t=this._getAlignmentData(e.alignment);var i="wrapText"in e?e.wrapText?"":"nowrap":null;return{width:e.width?e.width+e.widthUnit:null,height:e.height?e.height+e.heightUnit:null,textAlign:t.textAlign,verticalAlign:t.verticalAlign,backgroundColor:e.bgColor||"",borderWidth:e.borderWidth,borderStyle:e.borderStyle,borderColor:e.borderColor||"",borderCollapse:e.collapseBorders?"collapse":null,whiteSpace:i}},_getAlignmentData:function(e){var t="";var i=t;if(e)if(e.indexOf(" ")!=-1){var n=e.split(" ");t=n[0];i=n[1]}else t=e;return{textAlign:t,verticalAlign:i}},parseTable:function(e,u){if(!e)return{tableProperties:{},selectedCells:[]};var t=this;var i=e.style;var n=e.rows;var r=e.caption;var o=h(r?r.cloneNode(true):g);o.find(".k-marker").remove();var a=e.className;a=a.replace(/^k-table\s|\sk-table$/,"");a=a.replace(/\sk-table\s/," ");a=a.replace(/^k-table$/,"");var c=t._getAlignment(e,true);var s=r?t._getAlignment(r):g;var f=v._getNumberOfHeaderRows(e);var l;if(t.cellsWithHeadersAssociated(e))l="ids";else if(h(e).find("th[scope]").length>0)l="scope";else l="none";v.reMapTableColumns(e,b);var p=v._getNumberOfColumns(e);var m=v._getNumberOfHeaderColumns(e,f);v.clearTableMappings(e,b);var d={tableProperties:{width:i.width||e.width?parseFloat(i.width||e.width):null,height:i.height||e.height?parseFloat(i.height||e.height):null,columns:p,rows:n.length,widthUnit:t._getUnit(i.width),heightUnit:t._getUnit(i.height),cellSpacing:e.cellSpacing,cellPadding:e.cellPadding,alignment:c.textAlign,bgColor:i.backgroundColor||e.bgColor,className:a,id:e.id,borderWidth:i.borderWidth||e.border,borderColor:i.borderColor,borderStyle:i.borderStyle||"",collapseBorders:!!i.borderCollapse,summary:e.summary,captionContent:r?o.html():"",captionAlignment:r&&s.textAlign?s.textAlign+" "+s.verticalAlign:"",headerRows:f,headerColumns:m,cellsWithHeaders:l},selectedCells:[]};d.rows=t.parseTableRows(n,u,d);return d},parseTableRows:function(e,t,u){var c=this;var i=[],n,r,o,a,s;for(var l=0;l<e.length;l++){n=e[l];r={cells:[]};o=n.cells;i.push(r);for(var d=0;d<o.length;d++){a=o[d];s=c.parseCell(a);if(h.inArray(a,t)!=-1)u.selectedCells.push(s);r.cells.push(s)}}return i},parseCell:function(e){var t=this;var i=e.style;var n=t._getAlignment(e);n=n.textAlign?n.textAlign+" "+n.verticalAlign:"";var r={width:i.width||e.width?parseFloat(i.width||e.width):null,height:i.height||e.height?parseFloat(i.height||e.height):null,widthUnit:t._getUnit(i.width),heightUnit:t._getUnit(i.height),cellMargin:i.margin,cellPadding:i.padding,alignment:n,bgColor:i.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:i.borderWidth||e.border,borderColor:i.borderColor,borderStyle:i.borderStyle,wrapText:i.whiteSpace!="nowrap"};return r},_getAlignment:function(e,t){var i=e.style;var n=i.textAlign||e.align||"";if(t)return{textAlign:n};var r=i.verticalAlign||e.vAlign||"";if(n&&r)return{textAlign:n,verticalAlign:r};if(!n&&r)return{textAlign:"left",verticalAlign:r};if(n&&!r)return{textAlign:n,verticalAlign:"top"};return{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(u);return t?t[0]:"px"},_selectedTable:function(e){var t=v.filterBy(i.nodes(e),v.htmlIndentSpace,true);return o.findSuitable(t)[0]},_selectedCells:function(e){var t=v.filterBy(i.nodes(e),v.htmlIndentSpace,true);return a.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]}}),_=l.Tool.extend({command:function(e){e.insertNewTable=this.options.insertNewTable;return new x(e)}}),T=_.extend({update:function(e,t){var i=!o.isFormatted(t);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}});s.ui.editor.TableWizardTool=_,t("tableWizard",new T({command:s.ui.editor.TableWizardCommand=x,insertNewTable:false,template:new n({template:e.buttonTemplate,title:"Table Wizard"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/table-wizard/table-wizard-dialog.min",["./table-wizard-command.min","kendo.tabstrip.min"],function(){var f=window.kendo.jQuery,e=void 0,p=window.kendo,a={format:"0",min:0},l=["px","em"],d=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"],u=4,o={dataSource:[{className:"k-icon k-i-table-align-middle-left",value:"left"},{className:"k-icon k-i-table-align-middle-center",value:"center"},{className:"k-icon k-i-table-align-middle-right",value:"right"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},s={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-middle-left",value:"left middle"},{className:"k-icon k-i-table-align-middle-center",value:"center middle"},{className:"k-icon k-i-table-align-middle-right",value:"right middle"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},c={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},t='<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div id="k-table-wizard-tabs" class="k-root-tabs">'+"<ul>"+'<li class="k-active">#= messages.tableTab #</li>'+"<li>#= messages.cellTab #</li>"+"<li>#= messages.accessibilityTab #</li>"+"</ul>"+'<div id="k-table-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-width" />'+'<input id="k-editor-table-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-height" />'+'<input id="k-editor-table-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-columns">#= messages.columns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-rows">#= messages.rows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-spacing" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-css-class" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-id" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-border-width" />'+'<input id="k-editor-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label>'+"</div>"+"</div>"+'<div id="k-cell-properties">'+'<div class="k-edit-field">'+'<input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-width" />'+'<input id="k-editor-cell-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-height" />'+'<input id="k-editor-cell-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-margin">#= messages.cellMargin #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-margin" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cells-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cells-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-cell-css-class" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-cell-id" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-border-width" />'+'<input id="k-editor-cell-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-wrap-text" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label>'+"</div>"+"</div>"+'<div id="k-accessibility-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-header-rows">#= messages.headerRows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-header-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-header-columns">#= messages.headerColumns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-header-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-caption">#= messages.caption #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-table-caption" class="k-input-inner" type="text"/></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-accessibility-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-summary">#= messages.summary #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-input k-textarea k-input-solid k-input-md k-rounded-md"><textarea id="k-editor-accessibility-summary" rows="5" class="k-input-inner k-editor-accessibility-summary" placeholder="#= messages.tableSummaryPlaceholder #"></textarea></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cells-headers">#= messages.associateCellsWithHeaders #</label>'+"</div>"+'<div class="k-edit-field">'+'<select id="k-editor-cells-headers">'+'<option value="none">#= messages.associateNone #</option>'+'<option value="scope">#= messages.associateScope #</option>'+'<option value="ids">#= messages.associateIds #</option>'+"</select>"+"</div>"+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-dialog-ok"><span class="k-button-text">#= messages.dialogOk #</span></button>'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-dialog-close"><span class="k-button-text">#= messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>",i=p.Class.extend({init:function(e){this.options=e},open:function(){var t=this,i=t.options,e=i.dialogOptions,n=i.table,r,o=i.messages,a=p.support.browser.msie;function s(e){e.preventDefault();t.destroy();r.destroy()}function u(e){t.collectDialogValues(n);s(e);if(t.change)t.change();i.closeCallback(n)}function l(e){s(e);i.closeCallback()}e.close=l;e.title=o.tableWizard;e.visible=i.visible;r=f(t._dialogTemplate(o)).appendTo(document.body).kendoWindow(e).closest(".k-window").toggleClass("k-rtl",i.isRtl).end().find(".k-dialog-ok").on("click",u).end().find(".k-dialog-close").on("click",l).end().data("kendoWindow");var d=r.element;t._initTabStripComponent(d);t._initTableViewComponents(d,n);t._initCellViewComponents(d,n);t._initAccessibilityViewComponents(d,n);r.center();r.open();if(a){var c=d.closest(".k-window").height();d.css("max-height",c)}},_initTabStripComponent:function(e){var t=this.components={};t.tabStrip=e.find("#k-table-wizard-tabs").kendoTabStrip({animation:false}).data("kendoTabStrip")},collectDialogValues:function(){var e=this;var t=e.options.table;e._collectTableViewValues(t);e._collectCellViewValues(t);e._collectAccessibilityViewValues(t)},_collectTableViewValues:function(e){var t=this.components.tableView;var i=e.tableProperties;i.width=t.width.value();i.widthUnit=t.widthUnit.value();i.height=t.height.value();i.columns=t.columns.value();i.rows=t.rows.value();i.heightUnit=t.heightUnit.value();i.cellSpacing=t.cellSpacing.value();i.cellPadding=t.cellPadding.value();i.alignment=t.alignment.value();i.bgColor=t.bgColor.value();i.className=t.className.value;i.id=t.id.value;i.borderWidth=t.borderWidth.value();i.borderColor=t.borderColor.value();i.borderStyle=t.borderStyle.value();i.collapseBorders=t.collapseBorders.checked},_collectCellViewValues:function(e){var t=e.cellProperties={};var i=this.components.cellView;t.selectAllCells=i.selectAllCells.checked;t.width=i.width.value();t.widthUnit=i.widthUnit.value();t.height=i.height.value();t.heightUnit=i.heightUnit.value();t.cellMargin=i.cellMargin.value();t.cellPadding=i.cellPadding.value();t.alignment=i.alignment.value();t.bgColor=i.bgColor.value();t.className=i.className.value;t.id=i.id.value;t.borderWidth=i.borderWidth.value();t.borderColor=i.borderColor.value();t.borderStyle=i.borderStyle.value();t.wrapText=i.wrapText.checked;if(!t.width){t.selectAllCells=true;t.width=100/e.tableProperties.columns;t.widthUnit="%"}},_collectAccessibilityViewValues:function(e){var t=e.tableProperties;var i=this.components.accessibilityView;t.captionContent=i.captionContent.value;t.captionAlignment=i.captionAlignment.value();t.summary=i.summary.value;t.cellsWithHeaders=i.cellsWithHeaders.value();t.headerRows=i.headerRows.value();t.headerColumns=i.headerColumns.value()},_addUnit:function(e,t){if(t&&f.inArray(t,e)==-1)e.push(t)},_initTableViewComponents:function(e,t){var o=this;var i=o.components;var n=i.tableView={};var r=t.tableProperties=t.tableProperties||{};r.borderStyle=r.borderStyle||"";var a=function(e){var t=o.components.accessibilityView;var i=t.headerColumns;var n=i.value();var r=e.sender.value();if(r<n)i.value(r);i.max(r)};var s=function(e){var t=o.components.accessibilityView;var i=t.headerRows;var n=i.value();var r=e.sender.value();if(r<n)i.value(r);i.max(r)};o._addUnit(l,r.widthUnit);o._addUnit(l,r.heightUnit);o._initNumericTextbox(e.find("#k-editor-table-width"),"width",r,n);o._initNumericTextbox(e.find("#k-editor-table-height"),"height",r,n);o._initNumericTextbox(e.find("#k-editor-table-columns"),"columns",r,n,{min:1,value:u,change:a});o._initNumericTextbox(e.find("#k-editor-table-rows"),"rows",r,n,{min:1,value:u,change:s});o._initDropDownList(e.find("#k-editor-table-width-type"),"widthUnit",r,n,l);o._initDropDownList(e.find("#k-editor-table-height-type"),"heightUnit",r,n,l);o._initNumericTextbox(e.find("#k-editor-table-cell-spacing"),"cellSpacing",r,n);o._initNumericTextbox(e.find("#k-editor-table-cell-padding"),"cellPadding",r,n);o._initTableAlignmentDropDown(e.find("#k-editor-table-alignment"),r);o._initColorPicker(e.find("#k-editor-table-bg"),"bgColor",r,n);o._initInput(e.find("#k-editor-css-class"),"className",r,n);o._initInput(e.find("#k-editor-id"),"id",r,n);o._initNumericTextbox(e.find("#k-editor-border-width"),"borderWidth",r,n);o._initColorPicker(e.find("#k-editor-border-color"),"borderColor",r,n);o._initBorderStyleDropDown(e.find("#k-editor-border-style"),"borderStyle",r,n,d);o._initCheckbox(e.find("#k-editor-collapse-borders"),"collapseBorders",r,n)},_initCellViewComponents:function(e,t){var i=this.components;var n=i.cellView={};t.selectedCells=t.selectedCells=t.selectedCells||[];var r=t.selectedCells[0]||{borderStyle:"",wrapText:true};this._addUnit(l,r.widthUnit);this._addUnit(l,r.heightUnit);this._initCheckbox(e.find("#k-editor-selectAllCells"),"selectAllCells",t.tableProperties,n);this._initNumericTextbox(e.find("#k-editor-cell-width"),"width",r,n);this._initNumericTextbox(e.find("#k-editor-cell-height"),"height",r,n);this._initDropDownList(e.find("#k-editor-cell-width-type"),"widthUnit",r,n,l);this._initDropDownList(e.find("#k-editor-cell-height-type"),"heightUnit",r,n,l);this._initNumericTextbox(e.find("#k-editor-table-cell-margin"),"cellMargin",r,n);this._initNumericTextbox(e.find("#k-editor-table-cells-padding"),"cellPadding",r,n);this._initCellAlignmentDropDown(e.find("#k-editor-cell-alignment"),r);this._initColorPicker(e.find("#k-editor-cell-bg"),"bgColor",r,n);this._initInput(e.find("#k-editor-cell-css-class"),"className",r,n);this._initInput(e.find("#k-editor-cell-id"),"id",r,n);this._initNumericTextbox(e.find("#k-editor-cell-border-width"),"borderWidth",r,n);this._initColorPicker(e.find("#k-editor-cell-border-color"),"borderColor",r,n);this._initBorderStyleDropDown(e.find("#k-editor-cell-border-style"),"borderStyle",r,n,d);this._initCheckbox(e.find("#k-editor-wrap-text"),"wrapText",r,n)},_initAccessibilityViewComponents:function(e,t){var i=this.components;var n=i.accessibilityView={};var r=t.tableProperties;this._initInput(e.find("#k-editor-table-caption"),"captionContent",r,n);this._initAccessibilityAlignmentDropDown(e.find("#k-editor-accessibility-alignment"),r);this._initInput(e.find("#k-editor-accessibility-summary"),"summary",r,n);this._initAssociationDropDown(e.find("#k-editor-cells-headers"),"cellsWithHeaders",{valuePrimitive:true},r,n);this._initNumericTextbox(e.find("#k-editor-table-header-rows"),"headerRows",r,n,{max:r.rows||u});this._initNumericTextbox(e.find("#k-editor-table-header-columns"),"headerColumns",r,n,{max:r.columns||u})},_initNumericTextbox:function(e,t,i,n,r){var o=n[t]=e.kendoNumericTextBox(r?f.extend({},a,r):a).data("kendoNumericTextBox");if(t in i)o.value(parseInt(i[t],10))},_initDropDownList:function(e,t,i,n,r){var o=n[t]=e.kendoDropDownList({dataSource:r}).data("kendoDropDownList");this._setComponentValue(o,i,t)},_initBorderStyleDropDown:function(e,t,i,n,r){var o=n[t]=e.kendoDropDownList({dataSource:r,optionLabel:this.options.messages.borderNone}).data("kendoDropDownList");this._setComponentValue(o,i,t)},_initTableAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.tableView;var r=o.dataSource;r[0].tooltip=i.alignLeft;r[1].tooltip=i.alignCenter;r[2].tooltip=i.alignRight;r[3].tooltip=i.alignRemove;this._initAlignmentDropDown(e,o,"alignment",t,n)},_initCellAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.cellView;var r=s.dataSource;r[0].tooltip=i.alignLeftTop;r[1].tooltip=i.alignCenterTop;r[2].tooltip=i.alignRightTop;r[3].tooltip=i.alignLeftMiddle;r[4].tooltip=i.alignCenterMiddle;r[5].tooltip=i.alignRightMiddle;r[6].tooltip=i.alignLeftBottom;r[7].tooltip=i.alignCenterBottom;r[8].tooltip=i.alignRightBottom;r[9].tooltip=i.alignRemove;this._initAlignmentDropDown(e,s,"alignment",t,n)},_initAccessibilityAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.accessibilityView;var r=c.dataSource;r[0].tooltip=i.alignLeftTop;r[1].tooltip=i.alignCenterTop;r[2].tooltip=i.alignRightTop;r[3].tooltip=i.alignLeftBottom;r[4].tooltip=i.alignCenterBottom;r[5].tooltip=i.alignRightBottom;r[6].tooltip=i.alignRemove;this._initAlignmentDropDown(e,c,"captionAlignment",t,n)},_initAlignmentDropDown:function(e,t,i,n,r){var o=r[i]=e.kendoDropDownList(t).data("kendoDropDownList");o.list.addClass("k-align").css("width","110px");this._setComponentValue(o,n,i)},_initAssociationDropDown:function(e,t,i,n,r){var o=r[t]=e.kendoDropDownList(i).data("kendoDropDownList");this._setComponentValue(o,n,t)},_setComponentValue:function(e,t,i){if(i in t)e.value(t[i])},_initColorPicker:function(e,t,i,n){var r=n[t]=e.kendoColorPicker({buttons:false,clearButton:true}).data("kendoColorPicker");if(i[t])r.value(i[t])},_initInput:function(e,t,i,n){var r=n[t]=e.get(0);if(t in i)r.value=i[t]},_initCheckbox:function(e,t,i,n){var r=n[t]=e.get(0);if(t in i)r.checked=i[t]},destroy:function(){this._destroyComponents(this.components.tableView);this._destroyComponents(this.components.cellView);this._destroyComponents(this.components.accessibilityView);this._destroyComponents(this.components);delete this.components},_destroyComponents:function(e){for(var t in e){if(e[t].destroy)e[t].destroy();delete e[t]}},_dialogTemplate:function(e){return p.template(t)({messages:e})}});p.ui.editor.TableWizardDialog=i})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.editor.min",["kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","kendo.numerictextbox.min","./util/undoredostack.min","./editor/main.min","./editor/dom.min","./editor/serializer.min","./editor/range.min","./editor/command.min","./editor/components.min","./editor/toolbar.min","./editor/immutables.min","./editor/plugins/viewhtml.min","./editor/plugins/link.min","./editor/plugins/lists.min","./editor/plugins/formatting.min","./editor/plugins/image.min","./editor/plugins/import.min","./editor/plugins/insert.min","./editor/plugins/export.min","./editor/plugins/indent.min","./editor/plugins/linebreak.min","./editor/plugins/format.min","./editor/plugins/inlineformat.min","./editor/plugins/formatblock.min","./editor/plugins/file.min","./editor/plugins/tables.min","./editor/plugins/clipboard.min","./editor/plugins/keyboard.min","./editor/plugins/exportpdf.min","./editor/plugins/print.min","./editor/plugins/formatpainter.min","./editor/resizing/column-resizing.min","./editor/resizing/row-resizing.min","./editor/resizing/element-resizing.min","./editor/resizing/element-resize-handle.min","./editor/table-wizard/table-wizard-command.min","./editor/table-wizard/table-wizard-dialog.min"],function(){var e={id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]},{id:"editor-resizable",name:"Resize handle",description:"Support for resizing the content area via a resize handle",depends:["resizable"]},{id:"editor-tablewizard",name:"Table wizard dialog",description:"Support for table properties configuration",depends:["tabstrip","button","numerictextbox"]},{id:"editor-pdf-export",name:"PDF export",description:"Export Editor content as PDF",depends:["pdf","drawing"]}]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.editor.min.js.map
