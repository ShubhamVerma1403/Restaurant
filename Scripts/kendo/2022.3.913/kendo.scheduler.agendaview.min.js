/**
 * Kendo UI v2022.3.913 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("kendo.scheduler.agendaview.min",["kendo.scheduler.view.min"],function(){var o={id:"scheduler.agendaview",name:"Scheduler Agenda View",category:"web",description:"The Scheduler Agenda View",depends:["scheduler.view"],hidden:true},n=window.kendo.jQuery,m=window.kendo,p=m.ui,a=".kendoAgendaView",t="role",r='<div class="k-task" title="#:(data.title || "").replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#">'+"# if (resources[0]) {#"+'<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span>'+"# } #"+"# if (data.isException()) { #"+'<span class="k-icon k-i-non-recurrence"></span>'+"# } else if (data.isRecurring()) {#"+'<span class="k-icon k-i-reload"></span>'+"# } #"+'<span class="k-scheduler-task-text">{0}</span>'+"#if (showDelete) {#"+'<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>'+"#}#"+"</div>",e="# if (!isMobile) { #"+'<strong class="k-scheduler-agendaday">'+'#=kendo.toString(date, "dd")#'+"</strong>"+'<em class="k-scheduler-agendaweek">'+'#=kendo.toString(date,"dddd")#'+"</em>"+'<span class="k-scheduler-agendadate">'+'#=kendo.toString(date, "y")#'+"</span>"+"# } else { #"+'<div class="k-scheduler-datecolumn-wrap">'+'<span class="k-mobile-scheduler-agendadate">'+'<span class="k-mobile-scheduler-agendaday">#=kendo.toString(date, "dd")#</span>'+"&nbsp"+'<span class="k-mobile-scheduler-agendamonth">#=kendo.toString(date, "MMMM")#</span>'+"</span>"+'<span class="k-mobile-scheduler-agendaweekday">'+'#=kendo.toString(date, "dddd")#'+"</span>"+"</div>"+"# } #",s="# if (!isMobile) { #"+'<strong class="k-scheduler-adgendagroup">'+"#=value#"+"</strong>"+"# } else { #"+'<span class="k-scheduler-group-text">'+"#=value#"+"</span>"+"# } #",i=m.Class.extend({init:function(e){this._view=e},_getColumns:function(e,t){return e.concat(t)},_getGroupsInDay:function(){return[]},_getSumOfItemsForDate:function(){return 0},_renderTaskGroupsCells:function(e,t,a,r){var s=this._view;if(a===0&&r===0&&t.length)s._renderTaskGroupsCells(e,t)},_renderDateCell:function(e,t,a,r,s,n){var i=this._view;var l=i._isMobile();e.push(m.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',a.length,i._dateTemplate({date:r,isMobile:l}),s==n.length-1&&!t.length?" k-last":"",!t.length?" k-first":""))},_renderDates:function(){return undefined},_getParents:function(e){return e.splice(0)},_getGroupsByDate:function(){return undefined},_renderTaskGroups:function(e,t,a){var r=this._view;e.append(r._renderTaskGroups(t,a))}}),d=m.Class.extend({init:function(e){this._view=e},_getColumns:function(e,t){var a=this._view;if(a._isMobile())return e.concat(t);else{var r=t.slice(0,1);var s=t.slice(1);return r.concat(e).concat(s)}},_compareDateGroups:function(e,t,a){if(e[a].text==t[a].text)if(a===0)return true;else return this._compareDateGroups(e,t,a-1);return false},_getGroupsInDay:function(e,t){var a=[];var r=null;for(var s=0;s<e.length;s++)for(var n=0;n<e[s].items.length;n++){var i=0;if(a.length===0)for(i;i<t[s].length;i++)a.push([1]);else for(i;i<t[s].length;i++)if(this._compareDateGroups(t[s],r,i))a[i][a[i].length-1]++;else{var l=a[i][a[i].length-1]-1;for(var o=0;o<l;o++)a[i].push(0);a[i].push(1)}r=t[s]}return a},_getSumOfItemsForDate:function(e){var t=0;for(var a=0;a<e.length;a++)t+=e[a].items.length;return t},_renderTaskGroupsCells:function(e,t,a,r,s,n,u,i){var l=this._view;var o=l._isMobile();if(!o){if(a===0&&r===0)e.push(m.format('<td class="k-scheduler-datecolumn k-first" rowspan="{0}">{1}</td>',n,l._dateTemplate({date:u,isMobile:o})));for(var d=0;d<t[a].length;d++)if(s[d][i])e.push(m.format('<td class="k-scheduler-groupcolumn" rowspan="{0}">{1}</td>',s[d][i],l._groupTemplate({value:t[a][d].text,isMobile:o}),t[a][d].className))}else if(a===0&&r===0&&t.length)l._renderTaskGroupsCells(e,t)},_renderDateCell:function(){return undefined},_renderDates:function(e){var t=this._view;var a=t._groupsByDate.sort(function(e,t){return e.array[0].value.getTime()-t.array[0].value.getTime()});for(var r=0;r<a.length;r++)e.append(t._renderTaskGroups(a[r].array,a[r].groups))},_getParents:function(e){return e.slice(0)},_getGroupsByDate:function(e,t,a){var r=this._view;if(e[t].items)for(var s=0;s<e[t].items.length;s++){var n=e[t].items[s].value;var i=false;for(var l=0;l<r._groupsByDate.length;l++)if(r._groupsByDate[l].array[0].value.getTime()===n.getTime()){i=true;r._groupsByDate[l].array.push(e[t].items[s]);r._groupsByDate[l].groups.push(a)}if(!i)r._groupsByDate.push({array:[e[t].items[s]],groups:[a]})}},_renderTaskGroups:function(){return undefined}});function g(e){var t=0;for(var a=0,r=e.length;a<r;a++)t+=e[a].items.length;return t}function v(e,t){if(e.valuePrimitive)t=m.getter(e.dataValueField)(t);return t}function u(e){var t=0,a=e.length,r,s=[];for(;t<a;t++){r=e[t];if(r.groups){r=l(r.groups);s=s.concat(r)}else s=s.concat(l(r.items))}return s}function l(e){var t=[].concat(e),a=t.shift(),r=[],s=[].push;while(a){if(a.groups)s.apply(t,a.groups);else if(a.items)s.apply(t,a.items);else s.call(r,a);a=t.shift()}return r}return m.ui.scheduler.AgendaGroupedView=i,m.ui.scheduler.AgendaGroupedByDateView=d,p.AgendaView=p.SchedulerView.extend({init:function(e,t){p.SchedulerView.fn.init.call(this,e,t);this._groupedView=this._getGroupedView();t=this.options;if(t.editable)t.editable=n.extend({delete:true},t.editable,{create:false,update:false},{messages:t.messages});this.title=t.title;this._eventTemplate=this._eventTmpl(t.eventTemplate,r);this._dateTemplate=m.template(t.eventDateTemplate);this._groupTemplate=m.template(t.eventGroupTemplate);this._timeTemplate=m.template(t.eventTimeTemplate);this.element.on("mouseenter"+a,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+a,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+a,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-i-close)","_remove");this._renderLayout(t.date);this.refreshLayout()},name:"agenda",_aria:function(){var e=this.table;e.attr(t,"grid");e.children("tbody").attr(t,"none");e.find("table").attr(t,"none");e.find("table > tbody").attr(t,"rowgroup");e.find("table tr").attr(t,"row");e.find("table td").attr(t,"gridcell");e.find(".k-scheduler-header-wrap th").attr(t,"columnheader");e.find(".k-scheduler-content .k-scheduler-datecolumn, .k-scheduler-content .k-scheduler-groupcolumn").attr(t,"rowheader")},clearSelection:function(){this.element.find(".k-selected").attr("aria-selected",false);m.ui.SchedulerView.fn.clearSelection.call(this)},_isVirtualized:function(){return false},_getGroupedView:function(){if(this._isGroupedByDate())return new m.ui.scheduler.AgendaGroupedByDateView(this);else return new m.ui.scheduler.AgendaGroupedView(this)},_mouseenter:function(e){n(e.currentTarget).addClass("k-hover")},_mouseleave:function(e){n(e.currentTarget).removeClass("k-hover")},_remove:function(e){e.preventDefault();this.trigger("remove",{uid:n(e.currentTarget).closest(".k-task").attr(m.attr("uid"))})},nextDate:function(){return m.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return m.date.previousDay(this.startDate())},_renderLayout:function(e){this._startDate=e;this._endDate=m.date.addDays(e,7);this.createLayout(this._layout());this._footer();this.table.addClass("k-scheduler-agenda")},_layout:function(){var e=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobile())e.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"});var t=this.groupedResources;if(t.length){var a=[];for(var r=0;r<t.length;r++)a.push({text:"",className:"k-scheduler-groupcolumn"});e=this._groupedView._getColumns(a,e)}return{columns:e}},_tasks:function(e){var t=[];for(var a=0;a<e.length;a++){var r=e[a];var s=r.start;var n=r.isAllDay?m.date.getDate(r.end):r.end;var i=m.date.getDate(s);var u=(i.getTimezoneOffset()-n.getTimezoneOffset())*6e4;var l=Math.ceil((n-i+u)/m.date.MS_PER_DAY);if(r.isAllDay)l+=1;var o=r.clone();o.startDate=m.date.getDate(s);if(o.startDate>=this.startDate())t.push(o);if(l>1){o.end=m.date.nextDay(s);o.head=true;for(var d=1;d<l;d++){s=o.end;o=r.clone();o.start=o.startDate=m.date.getDate(s);o.end=m.date.nextDay(s);if(d==l-1){o.end=new Date(o.start.getFullYear(),o.start.getMonth(),o.start.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());o.tail=true}else{o.isAllDay=true;o.middle=true}if(m.date.getDate(o.end)<=this.endDate()&&o.start>=this.startDate()||m.date.getDate(o.start).getTime()==this.endDate().getTime())t.push(o)}}}return new m.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(e,t){var a=[];var u=this.options.editable;var c=u&&u.destroy!==false&&!this._isMobile();var r=this._isMobile();var h=this._groupedView._getSumOfItemsForDate(e);var f=this._groupedView._getGroupsInDay(e,t);var p=0;for(var s=0;s<e.length;s++){var n=e[s].value;var i=e[s].items;var g=m.date.isToday(n);for(var l=0;l<i.length;l++){var o=i[l];var d=[];var v=!r?d:[];this._groupedView._renderTaskGroupsCells(v,t,s,l,f,h,n,p);p++;if(l===0)if(r){v.push(m.format('<td class="k-scheduler-datecolumn {1}" colspan="2">{0}</td>',this._dateTemplate({date:n,isMobile:r}),!this.groupedResources.length?"k-first":""));a.push('<tr role="row" aria-selected="false"'+(g?' class="k-today">':">")+v.join("")+"</tr>")}else this._groupedView._renderDateCell(d,t,i,n,s,e);if(o.head)o.format="{0:t}";else if(o.tail)o.format="{1:t}";else o.format="{0:t}-{1:t}";o.resources=this.eventResources(o);d.push(m.format('<td class="k-scheduler-timecolumn {4}"><div>{0}{1}{2}</div></td><td>{3}</td>',o.tail||o.middle?'<span class="k-icon k-i-arrow-60-left"></span>':"",this._timeTemplate(o.clone({start:o._startTime||o.start,end:o.endTime||o.end})),o.head||o.middle?'<span class="k-icon k-i-arrow-60-right"></span>':"",this._eventTemplate(o.clone({showDelete:c,messages:this.options.messages})),!this.groupedResources.length&&r?"k-first":""));a.push('<tr role="row" aria-selected="false"'+(g?' class="k-today">':">")+d.join("")+"</tr>")}}return a.join("")},_renderTaskGroupsCells:function(e,t){var a=this._isMobile();for(var r=0;r<t.length;r++)e.push(m.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',t[r].rowSpan,this._groupTemplate({value:t[r].text,isMobile:a}),t[r].className))},render:function(e){var t=this.content.find("table").empty();var a=[];if(e.length>0){var r=this.groupedResources;t.append(n("<tbody>"));if(r.length){a=this._createGroupConfiguration(e,r,null);this._groupsByDate=[];this._renderGroups(a,t.find("tbody"),[]);this._groupedView._renderDates(t.find("tbody"))}else{a=this._tasks(e);t.find("tbody").append(this._renderTaskGroups(a,[]))}}var s=this._eventsList=u(a);this._angularItems(t,s);this._aria();this.refreshLayout();this.trigger("activate")},_angularItems:function(a,r){this.angular("compile",function(){var t=[],e=r.map(function(e){t.push({dataItem:e});return a.find(".k-task["+m.attr("uid")+"="+e.uid+"]")});return{elements:e,data:t}})},_renderGroups:function(e,t,a){for(var r=0,s=e.length;r<s;r++){var n=this._groupedView._getParents(a);n.push(e[r]);this._groupedView._getGroupsByDate(e,r,n);if(e[r].groups)this._renderGroups(e[r].groups,t,n);else this._groupedView._renderTaskGroups(t,e[r].items,n)}},_createGroupConfiguration:function(u,e,a){var r=e[0];var t=[];var s=r.dataSource.view();var c=this._isMobile();s=s.filter(function(e){var t=m.getter(r.dataParentValueField)(e);return t===null||t===undefined||a&&t===a.value});for(var n=0;n<s.length;n++){var i=v(r,s[n]);var l=new m.data.Query(u).filter({field:r.field,operator:p.SchedulerView.groupEqFilter(i)}).toArray();if(l.length){var h=this._tasks(l);var f=a?"":" k-first";if(n===s.length-1&&(!a||a.className.indexOf("k-last")>-1))f+=" k-last";var o={text:m.getter(r.dataTextField)(s[n]),value:i,rowSpan:0,className:f};if(e.length>1){o.groups=this._createGroupConfiguration(l,e.slice(1),o);if(a)a.rowSpan+=o.rowSpan}else{o.items=h;var d=g(o.items);if(c)d+=o.items.length;o.rowSpan=d;if(a)a.rowSpan+=d}t.push(o)}}return t},_resourceBySlot:function(){return{}},selectionByElement:function(e){var t,a;e=n(e);if(e.hasClass("k-scheduler-datecolumn")||!this._eventsList.length)return;if(e.is(".k-task"))e=e.closest("td");if(this._isMobile()){var r=e.parent();t=r.parent().children().filter(function(){return n(this).children(":not(.k-scheduler-datecolumn, .k-scheduler-groupcolumn)").length}).index(r)}else t=e.parent().index();a=this._eventsList[t];return{index:t,start:a.start,end:a.end,isAllDay:a.isAllDay,uid:a.uid}},select:function(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-selected").attr("aria-selected",true)[0];this.current(t)},move:function(e,t){var a=false;var r=e.index;if(t==m.keys.UP){r--;a=true}else if(t==m.keys.DOWN){r++;a=true}if(a){var s=this._eventsList[r];if(s){e.start=s.start;e.end=s.end;e.isAllDay=s.isAllDay;e.events=[s.uid];e.index=r}}return a},moveToEvent:function(){return false},constrainSelection:function(e){var t=this._eventsList[0];if(t){e.start=t.start;e.end=t.end;e.isAllDay=t.isAllDay;e.events=[t.uid];e.index=0}},isInRange:function(){return true},destroy:function(){if(this.element)this.element.off(a);p.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",selectedMobileDateFormat:"{0: MMM} {0:dd} - {1:dd}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {#"+"#=this.options.messages.allDay#"+"#} else { #"+"#=kendo.format(format, start, end)#"+"# } #",eventDateTemplate:e,eventGroupTemplate:s,messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()});
//# sourceMappingURL=kendo.scheduler.agendaview.min.js.map
