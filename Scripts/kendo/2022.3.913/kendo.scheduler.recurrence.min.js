/**
 * Kendo UI v2022.3.913 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("kendo.scheduler.recurrence.min",["kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.buttongroup.min"],function(){var e={id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox","buttongroup"],hidden:true},l=window.kendo.jQuery,C=void 0,L=window.kendo,u=L.timezone,t=L.Class,a=L.ui,i=a.Widget,s=a.DropDownList,f=a.ButtonGroup,G=L.date,Z=G.setTime,c=G.setDayOfWeek,p=G.adjustDST,d=G.firstDayOfMonth,K=G.getMilliseconds,r=[0,31,60,91,121,152,182,213,244,274,305,335,366],v=[0,31,59,90,120,151,181,212,243,273,304,334,365],m=[31,28,31,30,31,30,31,31,30,31,30,31],y={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},h={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},_=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],w=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],D=w.length,b="yyyyMMddTHHmmssZ",T={months:function(e,t,a){var r=a.months,n=W(r,e.getMonth()+1),i=false;if(n!==null){if(n.length)e.setMonth(n[0]-1,1);else e.setFullYear(e.getFullYear()+1,r[0]-1,1);i=true}return i},monthDays:function(e,t,a){var r,n,i,s=false,l=e.getHours(),o=function(e){if(e<0)e=r+e+1;return e};while(e<=t){n=e.getMonth();r=A(e);i=W(a.monthDays,e.getDate(),o);if(i===null)return s;s=true;if(i.length){e.setMonth(n,i.sort(X)[0]);p(e,l);if(n===e.getMonth())break}else e.setMonth(n+1,1)}return s},yearDays:function(e,t,a){var r,n,i=false,s=e.getHours(),l=function(e){if(e<0)e=r+e;return e};while(e<t){r=I(e)?366:365;n=W(a.yearDays,R(e),l);if(n===null)return i;i=true;r=e.getFullYear();if(n.length){e.setFullYear(r,0,n.sort(X)[0]);p(e,s);break}else e.setFullYear(r+1,0,1)}return i},weeks:function(e,t,a){var r=a.weekStart,n,i,s,l=false,o=e.getHours(),u=function(e){if(e<0)e=53+e;return e};while(e<t){i=W(a.weeks,q(e,r),u);if(i===null)return l;l=true;n=e.getFullYear();if(i.length){s=i.sort(X)[0]*7-1;e.setFullYear(n,0,s);c(e,r,-1);p(e,o);break}else e.setFullYear(n+1,0,1)}return l},weekDays:function(r,e,t){var a=new Date(r.getTime()+t.offsets.start);var f=a.getDay()-r.getDay();var n=t.weekDays;var i=t.weekStart;var s=V(n,a,i);var l=r.getHours();var d=function(e){var t=new Date(r.getFullYear(),r.getMonth()+1,1);var a=k(e.day,i);if(t.getDay()<=a)if(!o||k(o.day,i)>a)o=e};var o,u;if(s===null)return false;o=s[0];if(!o){if(t.freq==="monthly"&&!t.positions||t.position>0)n.forEach(d);if(!o)o=n[0];c(r,i)}u=o.day;u-=f;if(o.offset)while(r<=e&&!z(r,o,i))if(F(r,i)===N(r,i)){r.setMonth(r.getMonth()+1,1);p(r,l)}else{r.setDate(r.getDate()+7);p(r,l);c(r,i,-1)}if(r.getDay()!==u)c(r,u);return true},hours:function(e,t,a){var r=a.hours,n=a._startTime,i=n.getHours(),s=W(r,i),l=false;if(s!==null){l=true;e.setHours(i);p(e,i);if(s.length){s=s[0];e.setHours(s)}else{s=e.getHours();e.setDate(e.getDate()+1);p(e,s);s=r[0];e.setHours(s);p(e,s)}if(a.minutes)e.setMinutes(0);n.setHours(s,e.getMinutes())}return l},minutes:function(e,t,a){var r=a.minutes,n=e.getMinutes(),i=W(r,n),s=a._startTime.getHours(),l=false;if(i!==null){l=true;if(i.length)i=i[0];else{s+=1;i=r[0]}if(a.seconds)e.setSeconds(0);e.setHours(s,i);s=s%24;p(e,s);a._startTime.setHours(s,i,e.getSeconds())}return l},seconds:function(e,t,a){var r=a.seconds,n=a._startTime.getHours(),i=W(r,e.getSeconds()),s=e.getMinutes(),l=false;if(i!==null){l=true;if(i.length)e.setSeconds(i[0]);else{s+=1;e.setMinutes(s,r[0]);if(s>59){s=s%60;n=(n+1)%24}}a._startTime.setHours(n,s,e.getSeconds())}return l}},n=t.extend({next:function(e,t){var a=t._startTime,r=a.getDate(),n,i;if(t.seconds){i=e.getSeconds()+1;e.setSeconds(i);a.setSeconds(i);a.setDate(r)}else if(t.minutes){n=e.getMinutes()+1;e.setMinutes(n);a.setMinutes(n);a.setDate(r)}else return false;return true},normalize:function(e){var t=e.rule;if(e.idx===4&&t.hours){t._startTime.setHours(0);this._hour(e.date,t)}},limit:function(e,t,a){var r=a.interval,n,i,s,l,o;while(e<=t){s=i=C;o=e.getDate();for(l=0;l<D;l++){n=w[l];if(a[n]){s=T[n](e,t,a);if(i!==C&&s)break;else i=s}if(s)this.normalize({date:e,rule:a,day:o,idx:l})}if((r===1||!this.interval(a,e))&&l===D)break}},interval:function(e,t){var a=new Date(e._startPeriod);var r=new Date(t);var n=t.getHours();var f=e.weekStart;var i=e.interval;var s=e.freq;var l=false;var o=0;var d=0;var c=1;var u;var v;if(s==="hourly"){u=r.getTimezoneOffset()-a.getTimezoneOffset();v=e._startTime.getHours();r=r.getTime();if(n!==v)r+=(v-n)*G.MS_PER_HOUR;r-=a;if(u)r-=u*G.MS_PER_MINUTE;u=Math.floor(r/G.MS_PER_HOUR);o=S(u,i);if(o!==0){this._hour(t,e,o);l=true}}else if(s==="daily"){G.setTime(r,-a,true);u=Math.round(r/G.MS_PER_DAY);o=S(u,i);if(o!==0){this._date(t,e,o);l=true}}else if(s==="weekly"){o=this._getNumberOfWeeksBetweenDates(a,t);var m=k(t.getDay(),f);var y=k(a.getDay(),f);if(m<y)o+=1;o=S(o,i);if(o!==0){G.setDayOfWeek(t,e.weekStart,-1);t.setDate(t.getDate()+o*7);p(t,n);l=true}}else if(s==="monthly"){u=t.getFullYear()-a.getFullYear();u=t.getMonth()-a.getMonth()+u*12;o=S(u,i);if(o!==0){c=e._hasRuleValue?1:t.getDate();t.setFullYear(t.getFullYear(),t.getMonth()+o,c);p(t,n);l=true}}else if(s==="yearly"){u=t.getFullYear()-a.getFullYear();o=S(u,i);if(!e.months)d=t.getMonth();if(!e.yearDays&&!e.monthDays&&!e.weekDays)c=t.getDate();if(o!==0){t.setFullYear(t.getFullYear()+o,d,c);p(t,n);l=true}}return l},_getNumberOfWeeksBetweenDates:function(e,t){var a=(t-e)/6048e5;var r=Math.floor(a);if(a-r>.99)r=Math.round(a);return r},_hour:function(e,t,a){var r=t._startTime,n=r.getHours();if(a)n+=a;e.setHours(n);n=n%24;r.setHours(n);p(e,n)},_date:function(e,t,a){var r=e.getHours();e.setDate(e.getDate()+a);if(!p(e,r))this._hour(e,t)}}),M=n.extend({next:function(e,t){if(!n.fn.next(e,t))this._hour(e,t,1)},normalize:function(e){var t=e.rule;if(e.idx===4){t._startTime.setHours(0);this._hour(e.date,t)}}}),x=n.extend({next:function(e,t){if(!n.fn.next(e,t))this[t.hours?"_hour":"_date"](e,t,1)}}),E=x.extend({setup:function(e,t){if(!e.weekDays)e.weekDays=[{day:t.getDay(),offset:0}]}}),O=n.extend({next:function(e,t){var a,r;if(!n.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{a=e.getDate();r=e.getHours();e.setMonth(e.getMonth()+1);p(e,r);while(e.getDate()!==a){e.setDate(a);p(e,r)}this._hour(e,t)}},normalize:function(e){var t=e.rule,a=e.date,r=a.getHours();if(e.idx===0&&!t.monthDays&&!t.weekDays){a.setDate(e.day);p(a,r)}else n.fn.normalize(e)},setup:function(e,t,a){if(!e.monthDays&&!e.weekDays)a.setDate(t.getDate())}}),H=O.extend({next:function(e,t){var a,r=e.getHours();if(!n.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){a=e.getDate();e.setMonth(e.getMonth()+1);p(e,r);while(e.getDate()!==a){e.setDate(a);p(e,r)}this._hour(e,t)}else{e.setFullYear(e.getFullYear()+1);p(e,r);this._hour(e,t)}},setup:function(){}}),Q={hourly:new M,daily:new x,weekly:new E,monthly:new O,yearly:new H},o="click",Y="change";function S(e,t){var a;if(e!==0&&e<t)a=t-e;else{a=e%t;if(a)a=t-a}return a}function R(e){var t=e.getMonth();var a=I(e)?r[t]:v[t];return a+e.getDate()}function q(e,t){var a,r;e=new Date(e.getFullYear(),e.getMonth(),e.getDate());p(e,0);a=e.getFullYear();if(t!==C){c(e,t,-1);e.setDate(e.getDate()+4)}else e.setDate(e.getDate()+(4-(e.getDay()||7)));p(e,0);r=Math.floor((e.getTime()-new Date(a,0,1,-6))/864e5);return 1+Math.floor(r/7)}function F(e,t){var a=d(e).getDay();var r=7-(a+7-(t||7))||7;if(r<0)r+=7;return Math.ceil((e.getDate()-r)/7)+1}function k(e,t){return e+(e<t?7:0)}function B(e,t,a){var r=t.offset;if(!r)return F(e,a);var n=new Date(e.getFullYear(),e.getMonth()+1,0);var i=F(n,a);var s=k(t.day,a);var l=s<k(new Date(e.getFullYear(),e.getMonth(),1).getDay(),a);var o=s>k(n.getDay(),a);if(r<0)r=i+(r+1-(o?1:0));else if(l)r+=1;i-=o?1:0;if(r<(l?1:0)||r>i)return null;return r}function N(e,t){return F(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function z(e,t,a){return F(e,a)===B(e,t,a)}function V(e,t,a){var r=k(t.getDay(),a);var f=e.length;var n;var i,s;var l;var o=[];var u=0;for(;u<f;u++){i=e[u];l=F(t,a);n=B(t,i,a);if(n===null)continue;if(l<n)o.push(i);else if(l===n){s=k(i.day,a);if(r<s)o.push(i);else if(r===s)return null}}return o}function W(e,t,a){var r=0,n=e.length,i=[],s;for(;r<n;r++){s=e[r];if(a)s=a(s);if(t===s)return null;else if(t<s)i.push(s)}return i}function g(e,t){var a=0,r=e.length,n;for(;a<r;a++){n=parseInt(e[a],10);if(isNaN(n)||n<t.start||n>t.end||n===0&&t.start<0)return null;e[a]=n}return e.sort(X)}function P(e){var t=0,a=e.length,r,n,i;for(;t<a;t++){r=e[t];n=r.length;i=r.substring(n-2).toUpperCase();i=h[i];if(i===C)return null;e[t]={offset:parseInt(r.substring(0,n-2),10)||0,day:i}}return e}function U(e){var t=0,a=e.length,r,n,i=[];for(;t<a;t++){r=e[t];if(typeof r==="string")n=r;else{n=""+y[r.day];if(r.offset)n=r.offset+n}i.push(n)}return i.toString()}function A(e){var t=e.getMonth();if(t===1){if(new Date(e.getFullYear(),1,29).getMonth()===1)return 29;return 28}return m[t]}function I(e){e=e.getFullYear();return e%4===0&&e%100!==0||e%400===0}function X(e,t){return e-t}function J(e,t){var a=0,r,n,i=[];if(e){e=e.split(e.indexOf(";")!==-1?";":",");r=e.length;for(;a<r;a++){n=le(e[a],t);if(n)i.push(n)}}return i}function $(e,t,a){var r=Array.isArray(e)?e:J(e,a),n=t.getTime()-t.getMilliseconds(),i=0,s=r.length;for(;i<s;i++)if(r[i].getTime()===n)return true;return false}function ee(e,t){var a=0;var r;var n;var i=[].concat(e);for(r=i.length;a<r;a++){n=i[a];n=L.timezone.convert(n,t||n.getTimezoneOffset(),"Etc/UTC");i[a]=L.toString(n,b)}return i.join(",")}function te(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),0,1);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth(),1);break;case"weekly":c(a,t.weekStart,-1);break;default:break}if(t.hours)a.setHours(0);if(t.minutes)a.setMinutes(0);if(t.seconds)a.setSeconds(0);return a}function ae(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),11,31);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth()+1,0);break;case"weekly":c(a,t.weekStart,-1);a.setDate(a.getDate()+6);break;default:break}if(t.hours)a.setHours(23);if(t.minutes)a.setMinutes(59);if(t.seconds)a.setSeconds(59);return a}function re(e,t,a,r){var n=e.length;var i=[];var s;var l;var o;for(var u=0,f=a.length;u<f;u++){s=a[u];if(s<0)s=n+s;else s-=1;l=e[s];o=r?l.start<r:true;if(l&&l.start>=t&&o)i.push(l)}return i}function ne(e,t,a){var r=[];var n;for(var i=0;i<e.length;i++){n=e[i];if(!$(t,n.start,a))r.push(n)}return r}function ie(e,t,a,r){var n,i,f,d,c,v,m,y,p,k,g,h,_,s,w,D,b,l,T,o,M,u,x,E=[],O,H,Y,S;n=ue(e.recurrenceRule,r,{start:(j(e.start,r)-j(e.start,e.startTimezone))*L.date.MS_PER_MINUTE,end:(j(e.end,r)-j(e.end,e.endTimezone))*L.date.MS_PER_MINUTE});if(!n)return[e];M=n.positions;u=M?0:1;g=n.start;h=n.end;if(g||h)e=e.clone({start:g?new Date(g.value[0]):C,end:h?new Date(h.value[0]):C});l=e.start;b=l.getTime();D=K(l);w=J(e.recurrenceException,r);if(!w[0]&&n.exdates){w=n.exdates.value;e.set("recurrenceException",ee(w,r))}p=t=new Date(t);a=new Date(a);s=n.freq;o=Q[s];T=n.count;if(n.until&&n.until<a)a=new Date(n.until);_=s==="yearly"||s==="monthly"||s==="weekly";if(t<b||T||n.interval>1||_||(s==="daily"||s==="hourly")&&!n.seconds)t=new Date(b);else{c=t.getHours();v=t.getMinutes();m=t.getSeconds();if(!n.hours)c=l.getHours();if(!n.minutes)v=l.getMinutes();if(!n.seconds)m=l.getSeconds();t.setHours(c,v,m,l.getMilliseconds())}n._startPeriod=new Date(t);if(M){t=te(t,n);a=ae(a,n);var R=K(a)-K(t);if(R<0){c=t.getHours();a.setHours(c,t.getMinutes(),t.getSeconds(),t.getMilliseconds());G.adjustDST(a,c)}n._startPeriod=new Date(t);n._endPeriod=ae(t,n)}y=e.duration();var q=e.isAllDay?864e5:0;n._startTime=i=G.toInvariantTime(t);if(o.setup)o.setup(n,l,t);o.limit(t,a,n);while(t<=a){d=new Date(t);Z(d,y);var F=new Date(t);Z(F,y+q);k=t>=p||F>p;if(k&&!$(w,t,r)||M){i=G.toUtcTime(G.getDate(t))+K(n._startTime);f=i+y;if(b!==t.getTime()||D!==K(n._startTime)){var B=e.startTimezone||e.endTimezone;var N=e.endTimezone||e.startTimezone;if(!e.isAllDay)if(r&&B||!r&&!B){var z=j(t,r)-j(e.start,r);var V=j(d,r)-j(e.end,r);var W=j(t,B)-j(e.start,B);var P=j(d,N)-j(e.end,N);if(z!==W){var U=(z-W)*6e4;O=new Date(t.getTime()-U);Y=i-U}if(V!==P){var A=(V-P)*6e4;H=new Date(d.getTime()-A);S=f-A}}E.push(e.toOccurrence({start:O||new Date(t),end:H||d,_startTime:Y||i,_endTime:S||f}));O=H=Y=S=null}else{e._startTime=i;e._endTime=f;E.push(e)}}if(M){o.next(t,n);o.limit(t,a,n);if(t>n._endPeriod){x=re(E.slice(u),l,M,n.until);x=ne(x,w,r);E=E.slice(0,u).concat(x);n._endPeriod=ae(t,n);u=E.length}if(T&&T===u)break}else{if(T&&T===u)break;u+=1;var I=se(t);o.next(t,n);if(I&&n.freq!=="hourly"&&G.toInvariantTime(e.start).getTime()!==G.toInvariantTime(t).getTime())n._startTime=i=new Date(t.getTime()-36e5);o.limit(t,a,n)}}return E}function se(e){var t=e.getTimezoneOffset();var a=new Date(e.getTime()-36e5);var r=a.getTimezoneOffset();return t<r}function j(e,t){return t?L.timezone.offset(e,t):e.getTimezoneOffset()}function le(e,t){e=L.parseDate(e,_);if(e&&t)e=u.apply(e,t);return e}function oe(e,t){var a=e.split(";");var r;var n;var i;var s;var l,o;for(var u=0,f=a.length;u<f;u++){r=a[u].split(":");n=r[0];i=r[1];if(n.indexOf("TZID")!==-1)s=n.substring(n.indexOf("TZID")).split("=")[1];if(i){i=i.split(",");for(l=0,o=i.length;l<o;l++)i[l]=le(i[l],s||t)}}if(i)return{value:i,tzid:s}}function ue(e,t,f){var a={};var d,r;var n=0,c;var i=false;var s,l,o;var v,u,m;var y=function(e,t){var a=e.day,r=t.day;if(a<u)a+=7;if(r<u)r+=7;return a-r};if(!e)return null;o=e.split("\n");if(!o[1]&&(e.indexOf("DTSTART")!==-1||e.indexOf("DTEND")!==-1||e.indexOf("EXDATE")!==-1))o=e.split(" ");for(n=0,c=o.length;n<c;n++){l=L.trim(o[n]);if(l.indexOf("DTSTART")!==-1)a.start=oe(l,t);else if(l.indexOf("DTEND")!==-1)a.end=oe(l,t);else if(l.indexOf("EXDATE")!==-1)a.exdates=oe(l,t);else if(l.indexOf("RRULE")!==-1)s=l.substring(6);else if(L.trim(l))s=l}s=s.split(";");for(n=0,c=s.length;n<c;n++){v=s[n];d=v.split("=");r=L.trim(d[1]).split(",");switch(L.trim(d[0]).toUpperCase()){case"FREQ":a.freq=r[0].toLowerCase();break;case"UNTIL":a.until=le(r[0],t);break;case"COUNT":a.count=parseInt(r[0],10);break;case"INTERVAL":a.interval=parseInt(r[0],10);break;case"BYSECOND":a.seconds=g(r,{start:0,end:60});i=true;break;case"BYMINUTE":a.minutes=g(r,{start:0,end:59});i=true;break;case"BYHOUR":a.hours=g(r,{start:0,end:23});i=true;break;case"BYMONTHDAY":a.monthDays=g(r,{start:-31,end:31});i=true;break;case"BYYEARDAY":a.yearDays=g(r,{start:-366,end:366});i=true;break;case"BYMONTH":a.months=g(r,{start:1,end:12});i=true;break;case"BYDAY":a.weekDays=m=P(r);i=true;break;case"BYWEEKNO":a.weeks=g(r,{start:-53,end:53});i=true;break;case"BYSETPOS":a.positions=g(r,{start:-366,end:366});break;case"WKST":a.weekStart=u=h[r[0]];break}}if(a.freq===C||a.count!==C&&a.until)return null;if(!a.interval)a.interval=1;if(u===C)a.weekStart=u=L.culture().calendar.firstDay;if(m)a.weekDays=m.sort(y);if(a.positions&&!i)a.positions=null;a._hasRuleValue=i;a.offsets=f;return a}function fe(e,t){var a=e.value;var r=e.tzid||"";var n=a.length;var i=0;var s;for(;i<n;i++){s=a[i];s=u.convert(s,r||t||s.getTimezoneOffset(),"Etc/UTC");a[i]=L.toString(s,"yyyyMMddTHHmmssZ")}if(r)r=";TZID="+r;return r+":"+a.join(",")+" "}function de(e,t){var a=e.weekStart;var r="FREQ="+e.freq.toUpperCase();var n=e.exdates||"";var i=e.start||"";var s=e.end||"";var l=e.until;if(a===C)a=L.culture().calendar.firstDay;if(e.interval>1)r+=";INTERVAL="+e.interval;if(e.count)r+=";COUNT="+e.count;if(l){l=u.convert(l,t||l.getTimezoneOffset(),"Etc/UTC");r+=";UNTIL="+L.toString(l,"yyyyMMddTHHmmssZ")}if(e.months)r+=";BYMONTH="+e.months;if(e.weeks)r+=";BYWEEKNO="+e.weeks;if(e.yearDays)r+=";BYYEARDAY="+e.yearDays;if(e.monthDays)r+=";BYMONTHDAY="+e.monthDays;if(e.weekDays)r+=";BYDAY="+U(e.weekDays);if(e.hours)r+=";BYHOUR="+e.hours;if(e.minutes)r+=";BYMINUTE="+e.minutes;if(e.seconds)r+=";BYSECOND="+e.seconds;if(e.positions)r+=";BYSETPOS="+e.positions;if(a!==C)r+=";WKST="+y[a];if(i)i="DTSTART"+fe(i,t);if(s)s="DTEND"+fe(s,t);if(n)n="EXDATE"+fe(n,t);if(i||s||n)r=i+s+n+"RRULE:"+r;return r}L.recurrence={rule:{parse:ue,serialize:de},expand:ie,dayInYear:R,weekInYear:q,weekInMonth:F,numberOfWeeks:N,isException:$,toExceptionString:ee};var ce=L.template('# if (frequency !== "never") { #'+'<div class="k-form-field">'+'<label id="recur_interval_label" class="k-label k-form-label" for="recur_interval">#:messages.repeatEvery#</label>'+'<div class="k-form-field-wrap">'+'<input id="recur_interval" class="k-recur-interval" title="#:messages.repeatEvery# #:messages.interval#" aria-labelledby="recur_interval_label">#:messages.interval#'+"</div>"+"</div>"+"# } #"+'# if (frequency === "weekly") { #'+'<div class="k-form-field">'+'<label class="k-label k-form-label">#:messages.repeatOn#</label>'+'<div class="k-form-field-wrap">'+'<div class="k-button-group-stretched k-recur-weekday-buttons" title="#:messages.repeatOn#"></div></div>'+"</div>"+"</div>"+'# } else if (frequency === "monthly") { #'+'<div class="k-form-field"><label class="k-label k-form-label">#:messages.repeatOn#</label></div>'+'<div class="k-form-field-wrap">'+'<ul class="k-radio-list">'+'<li class="k-radio-item">'+'<label class="k-radio-label"><input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="monthday" title="#:messages.repeatOn#" />#:messages.date#:</label>'+'<input class="k-recur-monthday" aria-label="#:messages.date#" title="#:messages.date#" />'+"</li>"+'<li class="k-radio-item">'+'<input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="weekday" aria-label="#:messages.repeatOn# #:messages.day#" title="#:messages.repeatOn# #:messages.day#" />'+'<input class="k-recur-weekday-offset" title="#:messages.repeatOn#" style="width:8em;" />'+'<input class="k-recur-weekday" title="#:messages.day#" style="width:8em;" />'+"</li>"+"</ul>"+"</div>"+"</div>"+'# } else if (frequency === "yearly") { #'+'<div class="k-form-field"><label class="k-label k-form-label">#:messages.repeatOn#</label>'+'<div class="k-form-field-wrap">'+'<ul class="k-radio-list">'+'<li class="k-radio-item">'+'<input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="monthday" title="#:messages.repeatOn# #:messages.month#" />'+'<input class="k-recur-month" aria-label="#:messages.month#" title="#:messages.month#" style="width:8em;" />'+'<input class="k-recur-monthday" aria-label="#:messages.date#" title="#:messages.date#" />'+"</li>"+'<li class="k-radio-item">'+'<input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="weekday" title="#:messages.repeatOn# #:messages.day#" />'+'<input class="k-recur-weekday-offset" title="#:messages.repeatOn#" style="width:8em;"/><input class="k-recur-weekday" title="#:messages.day#" style="width:8em;"/>#:messages.of#<input class="k-recur-month" title="#:messages.of + messages.month#" style="width:8em;"/>'+"</li>"+"</ul>"+"</div>"+"</div>"+"# } #"+'# if (frequency !== "never") { #'+'<div class="k-form-field"><label class="k-label k-form-label">#:end.label#</label>'+'<div class="k-form-field-wrap">'+'<ul class="k-radio-list">'+'<li class="k-radio-item">'+'<label class="k-radio-label"><input class="k-recur-end-never k-radio k-radio-md" type="radio" name="end" value="never" title="#:end.label#" />#:end.never#</label>'+"</li>"+'<li class="k-radio-item">'+'<label class="k-radio-label"><input class="k-recur-end-count k-radio k-radio-md" type="radio" name="end" value="count" title="#:end.label#" />#:end.after#</label>'+'<input class="k-recur-count" aria-label="#:end.occurrence#" title="#:end.occurrence#" />#:end.occurrence#'+"</li>"+'<li class="k-radio-item">'+'<label class="k-radio-label"><input class="k-recur-end-until k-radio k-radio-md" type="radio" name="end" value="until" title="#:end.label#" />#:end.on#</label>'+'<input class="k-recur-until" title="#:end.on#" aria-label="#:end.on#" name="recur-until" />'+"</li>"+"</ul>"+"</div>"+"</div>"+"# } #"),ve=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],me=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],ye=[{day:0,offset:0},{day:6,offset:0}],pe=i.extend({init:function(e,t){var a;var r=this;var n=t&&t.frequencies;i.fn.init.call(r,e,t);r.wrapper=r.element;t=r.options;t.start=a=t.start||G.today();if(n)t.frequencies=n;if(typeof a==="string")t.start=L.parseDate(a,"yyyyMMddTHHmmss");if(t.firstWeekDay===null)t.firstWeekDay=L.culture().calendar.firstDay;r._namespace="."+t.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{repeat:"Repeat",recurrenceEditorTitle:"Recurrence editor",frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day ",date:"Date"},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of ",month:"month",day:"day",date:"Date"},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this;var t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value();e._trigger()}})},_weekDayButtons:function(e){var a=this,t=L.culture().calendar.days.names,r=L.culture().calendar.days.namesAbbr,n=a.options.messages.weekly.repeatOn,i=t.length,s=0,l=[],o=[];for(;s<i;s++)l.push(s);t=t.slice(e).concat(t.slice(0,e));r=r.slice(e).concat(r.slice(0,e));l=l.slice(e).concat(l.slice(0,e));for(s=0;s<i;s++)o.push({text:r[s],attributes:{"data-value":l[s],"aria-label":n+" "+t[s]}});a._weekDayButtonGroup=new f(a._container.find(".k-recur-weekday-buttons"),{items:o,selection:"multiple",select:function(){var e=a._value,t=a._weekDayButtonGroup.current();e.weekDays=t.map(function(e,t){return{day:Number(t.getAttribute("data-value")),offset:0}});if(!a.options.mobile)a._trigger()}})},_weekDayRule:function(e){var t=this;var a=(t._weekDay.element||t._weekDay).val();var r=Number((t._weekDayOffset.element||t._weekDayOffset).val());var n=null;var i=null;if(!e)if(a==="day"){n=ve;i=r}else if(a==="weekday"){n=me;i=r}else if(a==="weekend"){n=ye;i=r}else n=[{offset:r,day:Number(a)}];t._value.weekDays=n;t._value.positions=i},_weekDayView:function(){var e=this;var t=e._value.weekDays;var a=e._value.positions;var r=e._weekDayOffset;var n;var i;var s;var l;if(t){s=t.length;if(a)if(s===7){i="day";n=a}else if(s===5){i="weekday";n=a}else if(s===2){i="weekend";n=a}if(!i){t=t[0];i=t.day;n=t.offset||""}l=r.value?"value":"val";r[l](n);e._weekDay[l](i)}},_initWeekDay:function(){var e=this,t;var a=e.options.messages.weekdays;var r=e.options.messages.offsetPositions;var n=e._container.find(".k-recur-weekday");var i=function(){e._weekDayRule();e._trigger()};if(n[0]){e._weekDayOffset=new s(e._container.find(".k-recur-weekday-offset"),{autoWidth:true,change:i,dataTextField:"text",dataValueField:"value",dataSource:[{text:r.first,value:"1"},{text:r.second,value:"2"},{text:r.third,value:"3"},{text:r.fourth,value:"4"},{text:r.last,value:"-1"}]});t=[{text:a.day,value:"day"},{text:a.weekday,value:"weekday"},{text:a.weekend,value:"weekend"}];e._weekDay=new s(n,{autoWidth:true,value:e.options.start.getDay(),change:i,dataTextField:"text",dataValueField:"value",dataSource:t.concat(l.map(L.culture().calendar.days.names,function(e,t){return{text:e,value:t}}))});e._weekDayView()}},_initWeekDays:function(){var e=this;var t=e._value;var a=e._weekDayButtonGroup;if(a&&t.weekDays&&t.weekDays.length){var r=t.weekDays,n=r.length,i=[],s=0,l;for(;s<n;s++)i.push("[data-value='"+r[s].day+"']");l=a.element.find(i.join(","));a.select(l)}},_initMonthDay:function(){var t=this;var a=t._value;var e=t._container.find(".k-recur-monthday");if(e[0])t._monthDay=new L.ui.NumericTextBox(e,{spinners:t.options.spinners,min:1,max:31,decimals:0,format:"#",value:a.monthDays?a.monthDays[0]:t.options.start.getDate(),change:function(){var e=this.value();a.monthDays=e?[e]:e;t._trigger()}})},_initCount:function(){var e=this,t=e._container.find(".k-recur-count"),a=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:a.count||1,decimals:0,format:"#",min:1,change:function(){a.count=this.value();e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var t=this,e=t._container.find(".k-recur-until"),a=t.options.start,r=t._value,n=r.until,i=n&&n<a?n:a,s=t.wrapper.closest(".k-scheduler-edit-form").find("[name=start]:visible"),l=L.format(L.ui.Validator.prototype.options.messages.date,t.options.messages.end.on),o=L.ui.Validator.prototype.options.messages.dateCompare,u=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59);e.attr("data-validDate-msg",l);e.attr("data-untilDateCompare-msg",o);if(s.length===0)s=t.wrapper.closest(".k-scheduler-edit-form").find("[name=start]");if(s.length>0&&s.val()){i=L.parseDate(s.val());if(u<i)u=i}t._until=e.kendoDatePicker({min:i,value:n||u,change:function(){var e=this.value();if(e)r.until=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59);t._trigger()}}).data("kendoDatePicker");if(s)s.on("change",function(){t._until.setOptions({min:s.val()})})},_trigger:function(){if(!this.options.mobile)this.trigger("change")}}),ke=pe.extend({init:function(e,t){var a=this;pe.fn.init.call(a,e,t);a._initFrequency();a._initContainer();a.value(a.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var e=this;e._frequency.destroy();if(this._weekDayButtonGroup)this._weekDayButtonGroup.destroy();e._container.find("input[type=radio],input[type=checkbox]").off(o+e._namespace);L.destroy(e._container);pe.fn.destroy.call(e)},value:function(e){var t=this;var a=t.options.timezone;var r,n;if(e===C){if(!t._value.freq)return"";return de(t._value,a)}t._value=ue(e,a)||{};r=t._value.freq;if(r){n=t._frequency.element.find("[data-value='"+r+"']");t._frequency.select(n)}else t._frequency.select(0);t._initView(t._frequency.current().data("value"))},_initContainer:function(){var e=this.element,t=l('<div class="k-recur-view" />'),a=e.parent(".k-edit-field");if(a[0])t.insertAfter(a);else e.append(t);this._container=t},_initFrequency:function(){var e=this,t=e.options,a=t.frequencies,r=t.messages.frequencies,n=l('<div class="k-button-group-stretched k-flex-1"/>').attr({title:t.messages.recurrenceEditorTitle}),i;a=l.map(a,function(e){return{text:r[e],attributes:{"data-value":e,"aria-label":t.messages.repeat+r[e]}}});i=a[0];if(i&&i.attributes&&i.attributes["data-value"]==="never")i.attributes["data-value"]="";e.element.append(n);e._frequency=new f(n,{items:a,select:function(){e._value={};e._initView(e._frequency.current().data("value"));e.trigger("change")}})},_initView:function(e){var t=this;var a=t._value;var r=t.options;var n={frequency:e||"never",firstWeekDay:r.firstWeekDay,messages:r.messages[e],end:r.messages.end};L.destroy(t._container);t._container.html(ce(n));if(!e){t._value={};return}a.freq=e;if(e==="weekly"&&!a.weekDays)a.weekDays=[{day:r.start.getDay(),offset:0}];t._weekDayButtons(r.firstWeekDay);t._initInterval();t._initWeekDays();t._initMonthDay();t._initWeekDay();t._initMonth();t._initCount();t._initUntil();t._period();t._end()},_initMonth:function(){var e=this;var t=e._value;var a=t.months||[e.options.start.getMonth()+1];var r=e._container.find(".k-recur-month");var n;if(r[0]){n={autoWidth:true,change:function(){t.months=[Number(this.value())];e.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:l.map(L.culture().calendar.months.names,function(e,t){return{text:e,value:t+1}})};e._month1=new s(r[0],n);e._month2=new s(r[1],n);if(a){a=a[0];e._month1.value(a);e._month2.value(a)}}},_end:function(){var t=this;var e=t._value;var a=t._container;var r=t._namespace;var n=function(e){t._toggleEnd(e.currentTarget.value);t.trigger("change")};var i;t._buttonNever=a.find(".k-recur-end-never").on(o+r,n);t._buttonCount=a.find(".k-recur-end-count").on(o+r,n);t._buttonUntil=a.find(".k-recur-end-until").on(o+r,n);if(e.count)i="count";else if(e.until)i="until";t._toggleEnd(i)},_period:function(){var t=this;var e=t._value;var a=e.freq==="monthly";var r=a?t._toggleMonthDay:t._toggleYear;var n=".k-recur-"+(a?"month":"year")+"-radio";var i=t._container.find(n);if(!a&&e.freq!=="yearly")return;i.on(o+t._namespace,function(e){r.call(t,e.currentTarget.value);t.trigger("change")});t._buttonMonthDay=i.eq(0);t._buttonWeekDay=i.eq(1);r.call(t,e.weekDays?"weekday":"monthday")},_toggleEnd:function(e){var t=this;var a,r;var n,i;if(e==="count"){t._buttonCount.prop("checked",true);n=true;i=false;a=t._count.value();r=null}else if(e==="until"){t._buttonUntil.prop("checked",true);n=false;i=true;a=null;r=t._until.value()}else{t._buttonNever.prop("checked",true);n=i=false;a=r=null}if(t._count)t._count.enable(n);if(t._until)t._until.enable(i);t._value.count=a;t._value.until=r},_toggleMonthDay:function(e){var t=this;var a=false;var r=true;var n=false;var i;if(e==="monthday"){t._buttonMonthDay.prop("checked",true);i=[t._monthDay.value()];a=true;r=false;n=true}else{t._buttonWeekDay.prop("checked",true);i=null}t._weekDay.enable(r);t._weekDayOffset.enable(r);t._monthDay.enable(a);t._value.monthDays=i;t._weekDayRule(n)},_toggleYear:function(e){var t=this;var a=false;var r=true;var n;if(e==="monthday"){a=true;r=false;n=t._month1.value()}else n=t._month2.value();t._month1.enable(a);t._month2.enable(r);t._value.months=[n];t._toggleMonthDay(e)}}),ge=(a.plugin(ke),L.template('<div data-role="content">'+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:headerTitle#</span>'+'<div class="k-recur-pattern k-listgroup-form-field-wrapper"></div>'+"</label>"+"</li>"+'<li class="k-item k-listgroup-item k-recur-view"></li>'+"</ul>"+"</div>")),he=L.template('# if (frequency !== "never") { #'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatEvery#</span>'+'<div class="k-recur-editor-wrap k-listgroup-form-field-wrapper">'+'<input class="k-recur-interval" type="number" pattern="\\\\d*"/>'+"# if (messages.interval.length) { #"+'<span class="k-recur-editor-text">#:messages.interval#</span>'+"# } #"+"</div>"+"</label>"+"# } #"+'# if (frequency === "weekly") { #'+'<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item k-no-click">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatOn#</span>'+"</label>"+"</li>"+'<div class="k-button-group-stretched k-recur-weekday-buttons" title="#:messages.repeatOn#">'+"</ul>"+'# } else if (frequency === "monthly") { #'+'<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatBy#</span>'+'<div class="k-repeat-rule k-listgroup-form-field-wrapper"></div>'+"</label>"+"</li>"+'<li class="k-monthday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="#:messages.date#" title="#:messages.day#" pattern="\\\\d*"/></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.every#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="#:messages.day#"></select></div>'+"</label>"+"</li>"+"</ul>"+'# } else if (frequency === "yearly") { #'+'<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.repeatBy#</span>'+'<div class="k-repeat-rule k-listgroup-form-field-wrapper"></div>'+"</label>"+"</li>"+'<li class="k-monthday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="#:messages.date#" title="#:messages.day#" pattern="\\\\d*"/></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.every#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div>'+"</label>"+"</li>"+'<li class="k-weekday-view k-item k-listgroup-item" style="display:none">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.day#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="#:messages.day#"></select></div>'+"</label>"+"</li>"+'<li class="k-item k-item k-listgroup-item">'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.month#</span>'+'<div class="k-listgroup-form-field-wrapper"><select class="k-recur-month" title="#:messages.month#"></select></div>'+"</label>"+"</li>"+"</ul>"+"# } #"),_e=L.template('# if (endPattern === "count") { #'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.after#</span>'+'<div class="k-listgroup-form-field-wrapper"><input class="k-recur-count" aria-label="#:messages.occurrence#" type="number" pattern="\\\\d*" /></div>'+"</label>"+'# } else if (endPattern === "until") { #'+'<label class="k-label k-listgroup-form-row">'+'<span class="k-item-title k-listgroup-form-field-label">#:messages.on#</span>'+'<div class="k-listgroup-form-field-wrapper"><input type="date" class="k-recur-until" aria-label="#:messages.on#" name="recur-until"/></div>'+"</label>"+"# } #"),we=L.template('<select class="k-scheduler-select">'+"#for (var i = 0, length = dataSource.length; i < length; i++) {#"+'<option value="#=dataSource[i].value#" #= value === dataSource[i].value  ? "selected" : "" #>#:dataSource[i].text#</option>'+"#}#"+"</select>"),De=pe.extend({init:function(e,t){var a=this;pe.fn.init.call(a,e,t);t=a.options;a._optionTemplate=L.template('<option value="#:value#">#:text#</option>');a.value(t.value);a._pane=t.pane||a.wrapper.closest("[data-role=pane]").data("kendoPane");a._initRepeatButton();a._initParentRepeatEnd();a._defaultValue=a._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var t=this;var a=t.options.timezone;if(e===C){if(!t._value.freq)return"";return de(t._value,a)}t._value=ue(e,a)||{}},destroy:function(){this._destroyView();L.destroy(this._endFields);if(this._weekDayButtonGroup)this._weekDayButtonGroup.destroy();this.element.off(o+this._namespace);pe.fn.destroy.call(this)},_initInterval:function(){var t=this;var a=t._value;t._container.find(".k-recur-interval").val(t._value.interval||1).on(Y+t._namespace,function(e){a.interval=e.target.value;t._trigger()})},_initRepeatButton:function(){var t=this;var e=t.options.messages.frequencies[this._value.freq||"never"];t._chevronButton=l('<span class="k-icon k-i-arrow-chevron-right"></span>');t._repeatValue=l('<span class="">'+e+"</span>");t.element.append(t._repeatValue).append(t._chevronButton);t.element.parents("li.k-item").on(o+t._namespace,function(e){e.preventDefault();t._createView("repeat");t._pane.navigate(t._view,t.options.animations.left)})},_endLiItem:function(){var e=this;return'<li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">'+e.options.messages.end.mobileLabel+"</span></label></li>"},_initParentRepeatEnd:function(){var t=this;var e=l(t._endLiItem()).insertAfter(t.element.parents("li.k-item"));var a=l('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span></div>').appendTo(e.find(".k-label"));e.on(o+t._namespace,function(e){e.preventDefault();t._navigateToView("repeat")});t._endParentLabelField=e.toggle(!!t._value.freq);t._endParentEndButton=a.find(".k-scheduler-recur-end").text(t._endText())},_initRepeatEnd:function(){var t=this;var e=l(t._endLiItem()).insertAfter(t._container);var a=l('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span><span class="k-icon k-i-arrow-chevron-right"></span></div>').appendTo(e.find(".k-label"));e.on(o+t._namespace,function(e){e.preventDefault();t._navigateToView("end")});t._endLabelField=e.toggleClass("k-disabled",!t._value.freq);t._endButton=a.find(".k-scheduler-recur-end").text(t._endText())},_navigateToView:function(e){var t=this;t._createView(e);t._pane.navigate(t._view,t.options.animations.left)},_endText:function(){var e=this._value;var t=this.options.messages.end;var a=t.never;if(e.count)a=L.format("{0} {1}",t.after,e.count);else if(e.until)a=L.format("{0} {1:d}",t.on,e.until);return a},_initFrequency:function(){var a=this;var t=a.options.messages.frequencies;var e=we({dataSource:l.map(this.options.frequencies,function(e){return{text:t[e],value:e!=="never"?e:""}}),value:a._value.freq||"",ns:L.ns});a._view.element.find(".k-recur-pattern").append(e);a._view.element.find(".k-scheduler-select").on(Y+a._namespace,function(e){var t=e.target.value;a._value={freq:t};a._defaultValue=l.extend({},a._value);a._initRepeatView();a._endButton.text(a._endText());a._endParentEndButton.text(a._endText())})},_initEndNavigation:function(){var n=this;var e=n.options.messages.end.patterns;var i=n._value;var t="";if(i.count)t="count";else if(i.until)t="until";var a=we({dataSource:[{text:e.never,value:""},{text:e.after,value:"count"},{text:e.on,value:"until"}],value:t,ns:L.ns});n._view.element.find(".k-recur-pattern").append(a);n._view.element.find(".k-scheduler-select").on(Y+n._namespace,function(e){var t=e.target.value;var a=null;var r=null;n._initEndView(t);if(n._count.length){a=n._count.val();r=null}else if(n._until.length){a=null;r=n._until.val?L.parseDate(n._until.val(),"yyyy-MM-dd"):n._until.value()}i.count=a;i.until=r})},_createView:function(e){var a=this;var t=a.options;var r=t.messages;var n=r[e==="repeat"?"repeatTitle":"endTitle"];var i='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form" id="recurrence">'+'<div data-role="header" class="k-header">'+'<a href="#" class="k-header-cancel k-scheduler-cancel k-link" title="'+r.cancel+'"'+'aria-label="'+r.cancel+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+r.headerTitle+'<a href="#" class="k-header-done k-scheduler-update k-link" title="'+r.update+'" '+'aria-label="'+r.update+'"><span class="k-icon k-i-check"></span></a>'+"</div>";var s=a._pane.view().id;a._view=a._pane.append(i+ge({headerTitle:n}));a._view.element.on(o+a._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(e){e.preventDefault();e.stopPropagation();if(l(this).hasClass("k-scheduler-update")){a.trigger("change");a._defaultValue=l.extend({},a._value)}else a._value=a._defaultValue;var t=a._value.freq;a._endParentEndButton.text(a._endText());a._endParentLabelField.toggle(!!t&&t!=="never");a._endButton.text(a._endText());a._repeatValue.text(r.frequencies[t||"never"]);a._pane.one("viewShow",function(){a._destroyView()});a._pane.navigate(s,a.options.animations.right)});a._container=a._view.element.find(".k-recur-view");if(e==="repeat"){a._initFrequency();a._initRepeatView();a._initRepeatEnd()}else{a._initEndNavigation();a._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove();this._container=null}this._view=null},_initRepeatView:function(){var e=this;var t=e._value.freq||"never";var a={frequency:t,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[t]};var r=he(a);var n=e._container=e._container||this._pane.view().content.find("li.k-recur-view");var i=e._value;if(e._endLabelField)e._endLabelField.toggleClass("k-disabled",t==="never");L.destroy(n);n.html(r);if(!r){e._value={};n.hide();return}else n.show();if(t==="weekly"&&!i.weekDays)i.weekDays=[{day:e.options.start.getDay(),offset:0}];e._weekDayButtons(e.options.firstWeekDay);e._initInterval();e._initMonthDay();e._initWeekDays();e._initWeekDay();e._initMonth();e._period()},_initMonthDay:function(){var t=this;var a=t._value;var e=t._monthDay=t._container.find(".k-recur-monthday");e.attr({min:1,max:31}).val(a.monthDays?a.monthDays[0]:t.options.start.getDate()).on(Y+t._namespace,function(e){a.count=e.target.value;t._trigger()})},_initCount:function(){var t=this,e=t._count=t._container.find(".k-recur-count"),a=t._value;e.val(a.count||1).on(Y+t._namespace,function(e){a.count=e.target.value;t._trigger()})},_initEndView:function(e){var t=this;var a=t._value;if(e===C)if(a.count)e="count";else if(a.until)e="until";var r={endPattern:e,messages:t.options.messages.end};L.destroy(t._container);t._container.html(_e(r));t._initCount();t._initUntil()},_initWeekDay:function(){var e=this,t;var a=e.options.messages.weekdays;var r=e.options.messages.offsetPositions;var n=e._container.find(".k-recur-weekday");var i=function(){e._weekDayRule();e.trigger("change")};if(n[0]){e._weekDayOffset=e._container.find(".k-recur-weekday-offset").html(e._options([{text:r.first,value:"1"},{text:r.second,value:"2"},{text:r.third,value:"3"},{text:r.fourth,value:"4"},{text:r.last,value:"-1"}])).on("change",i);t=[{text:a.day,value:"day"},{text:a.weekday,value:"weekday"},{text:a.weekend,value:"weekend"}];t=t.concat(l.map(L.culture().calendar.days.names,function(e,t){return{text:e,value:t}}));e._weekDay=n.html(e._options(t)).on("change",i).val(e.options.start.getDay());e._weekDayView()}},_initMonth:function(){var e=this;var t=e._value;var a=e.options.start;var r=t.months||[a.getMonth()+1];var n=e._container.find(".k-recur-month");var i=L.culture().calendar.months.names;if(n[0]){var s=l.map(i,function(e,t){return{text:e,value:t+1}});n.html(e._options(s)).on("change",function(){t.months=[Number(this.value)]});e._monthSelect=n;if(r)n.val(r[0])}},_period:function(){var i=this;var s=i._value;var e=i._container;var t=i.options.messages[s.freq];var a=e.find(".k-repeat-rule");var l=e.find(".k-weekday-view");var o=e.find(".k-monthday-view");if(a[0]){var r=s.weekDays?"weekday":"monthday";var n=we({value:r,dataSource:[{text:t.dayOfMonth,value:"monthday"},{text:t.dayOfWeek,value:"weekday"}],ns:L.ns});var u=function(e){var t=i._weekDay.val();var a=i._weekDayOffset.val();var r=i._monthDay.val();var n=i._monthSelect?i._monthSelect.val():null;if(e==="monthday"){s.weekDays=null;s.monthDays=r?[r]:r;s.months=n?[Number(n)]:n;l.hide();o.show()}else{s.monthDays=null;s.months=n?[Number(n)]:n;s.weekDays=[{offset:Number(a),day:Number(t)}];l.show();o.hide()}};a.append(n);a.find(".k-scheduler-select").on(Y+i._namespace,function(e){u(e.target.value)});u(r)}},_initUntil:function(){var t=this;var e=t._container.find(".k-recur-until");var a=t.options.start;var r=t._value;var n=r.until;var i=n&&n<a?n:a;var s=L.format(L.ui.Validator.prototype.options.messages.date,t.options.messages.end.on);var l=L.ui.Validator.prototype.options.messages.dateCompare;e.attr("data-validDate-msg",s);e.attr("data-untilDateCompare-msg",l);if(L.support.input.date)t._until=e.attr("min",L.toString(i,"yyyy-MM-dd")).val(L.toString(n||a,"yyyy-MM-dd")).on("change",function(){var e=L.parseDate(this.value,"yyyy-MM-dd");if(e)r.until=e;t._trigger()});else t._until=e.kendoDatePicker({min:i,value:n||a,change:function(){var e=this.value();if(e)r.until=e;t._trigger()}}).data("kendoDatePicker")},_options:function(e,t){var a=0;var r="";var n=e.length;var i=this._optionTemplate;if(t)r+=i({value:"",text:t});for(;a<n;a++)r+=i(e[a]);return r}});return a.plugin(De),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()});
//# sourceMappingURL=kendo.scheduler.recurrence.min.js.map
